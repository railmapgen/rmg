/******/ (function(modules) { // webpackBootstrap
/******/ 	// install a JSONP callback for chunk loading
/******/ 	function webpackJsonpCallback(data) {
/******/ 		var chunkIds = data[0];
/******/ 		var moreModules = data[1];
/******/
/******/
/******/ 		// add "moreModules" to the modules object,
/******/ 		// then flag all "chunkIds" as loaded and fire callback
/******/ 		var moduleId, chunkId, i = 0, resolves = [];
/******/ 		for(;i < chunkIds.length; i++) {
/******/ 			chunkId = chunkIds[i];
/******/ 			if(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 				resolves.push(installedChunks[chunkId][0]);
/******/ 			}
/******/ 			installedChunks[chunkId] = 0;
/******/ 		}
/******/ 		for(moduleId in moreModules) {
/******/ 			if(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {
/******/ 				modules[moduleId] = moreModules[moduleId];
/******/ 			}
/******/ 		}
/******/ 		if(parentJsonpFunction) parentJsonpFunction(data);
/******/
/******/ 		while(resolves.length) {
/******/ 			resolves.shift()();
/******/ 		}
/******/
/******/ 	};
/******/
/******/
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// object to store loaded and loading chunks
/******/ 	// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 	// Promise = chunk loading, 0 = chunk loaded
/******/ 	var installedChunks = {
/******/ 		"index": 0
/******/ 	};
/******/
/******/
/******/
/******/ 	// script path function
/******/ 	function jsonpScriptSrc(chunkId) {
/******/ 		return __webpack_require__.p + "" + ({"LineGZ":"LineGZ"}[chunkId]||chunkId) + ".min.js"
/******/ 	}
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/ 	// This file contains only the entry chunk.
/******/ 	// The chunk loading function for additional chunks
/******/ 	__webpack_require__.e = function requireEnsure(chunkId) {
/******/ 		var promises = [];
/******/
/******/
/******/ 		// JSONP chunk loading for javascript
/******/
/******/ 		var installedChunkData = installedChunks[chunkId];
/******/ 		if(installedChunkData !== 0) { // 0 means "already installed".
/******/
/******/ 			// a Promise means "currently loading".
/******/ 			if(installedChunkData) {
/******/ 				promises.push(installedChunkData[2]);
/******/ 			} else {
/******/ 				// setup Promise in chunk cache
/******/ 				var promise = new Promise(function(resolve, reject) {
/******/ 					installedChunkData = installedChunks[chunkId] = [resolve, reject];
/******/ 				});
/******/ 				promises.push(installedChunkData[2] = promise);
/******/
/******/ 				// start chunk loading
/******/ 				var script = document.createElement('script');
/******/ 				var onScriptComplete;
/******/
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.src = jsonpScriptSrc(chunkId);
/******/
/******/ 				// create error before stack unwound to get useful stacktrace later
/******/ 				var error = new Error();
/******/ 				onScriptComplete = function (event) {
/******/ 					// avoid mem leaks in IE.
/******/ 					script.onerror = script.onload = null;
/******/ 					clearTimeout(timeout);
/******/ 					var chunk = installedChunks[chunkId];
/******/ 					if(chunk !== 0) {
/******/ 						if(chunk) {
/******/ 							var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 							var realSrc = event && event.target && event.target.src;
/******/ 							error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 							error.name = 'ChunkLoadError';
/******/ 							error.type = errorType;
/******/ 							error.request = realSrc;
/******/ 							chunk[1](error);
/******/ 						}
/******/ 						installedChunks[chunkId] = undefined;
/******/ 					}
/******/ 				};
/******/ 				var timeout = setTimeout(function(){
/******/ 					onScriptComplete({ type: 'timeout', target: script });
/******/ 				}, 120000);
/******/ 				script.onerror = script.onload = onScriptComplete;
/******/ 				document.head.appendChild(script);
/******/ 			}
/******/ 		}
/******/ 		return Promise.all(promises);
/******/ 	};
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "./dist/";
/******/
/******/ 	// on error function for async loading
/******/ 	__webpack_require__.oe = function(err) { console.error(err); throw err; };
/******/
/******/ 	var jsonpArray = window["webpackJsonp"] = window["webpackJsonp"] || [];
/******/ 	var oldJsonpFunction = jsonpArray.push.bind(jsonpArray);
/******/ 	jsonpArray.push = webpackJsonpCallback;
/******/ 	jsonpArray = jsonpArray.slice();
/******/ 	for(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);
/******/ 	var parentJsonpFunction = oldJsonpFunction;
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/index.ts");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./node_modules/@material/auto-init/constants.js":
/*!*******************************************************!*\
  !*** ./node_modules/@material/auto-init/constants.js ***!
  \*******************************************************/
/*! exports provided: strings */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "strings", function() { return strings; });
/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var strings = {
    AUTO_INIT_ATTR: 'data-mdc-auto-init',
    AUTO_INIT_STATE_ATTR: 'data-mdc-auto-init-state',
    INITIALIZED_STATE: 'initialized',
};
//# sourceMappingURL=constants.js.map

/***/ }),

/***/ "./node_modules/@material/auto-init/index.js":
/*!***************************************************!*\
  !*** ./node_modules/@material/auto-init/index.js ***!
  \***************************************************/
/*! exports provided: mdcAutoInit, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mdcAutoInit", function() { return mdcAutoInit; });
/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ "./node_modules/tslib/tslib.es6.js");
/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ "./node_modules/@material/auto-init/constants.js");
/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */


var AUTO_INIT_ATTR = _constants__WEBPACK_IMPORTED_MODULE_1__["strings"].AUTO_INIT_ATTR, AUTO_INIT_STATE_ATTR = _constants__WEBPACK_IMPORTED_MODULE_1__["strings"].AUTO_INIT_STATE_ATTR, INITIALIZED_STATE = _constants__WEBPACK_IMPORTED_MODULE_1__["strings"].INITIALIZED_STATE;
var registry = {};
var CONSOLE_WARN = console.warn.bind(console); // tslint:disable-line:no-console
function emit(evtType, evtData, shouldBubble) {
    if (shouldBubble === void 0) { shouldBubble = false; }
    var evt;
    if (typeof CustomEvent === 'function') {
        evt = new CustomEvent(evtType, {
            bubbles: shouldBubble,
            detail: evtData,
        });
    }
    else {
        evt = document.createEvent('CustomEvent');
        evt.initCustomEvent(evtType, shouldBubble, false, evtData);
    }
    document.dispatchEvent(evt);
}
/* istanbul ignore next: optional argument is not a branch statement */
/**
 * Auto-initializes all MDC components on a page.
 */
function mdcAutoInit(root) {
    var e_1, _a;
    if (root === void 0) { root = document; }
    var components = [];
    var nodes = [].slice.call(root.querySelectorAll("[" + AUTO_INIT_ATTR + "]"));
    nodes = nodes.filter(function (node) { return node.getAttribute(AUTO_INIT_STATE_ATTR) !== INITIALIZED_STATE; });
    try {
        for (var nodes_1 = tslib__WEBPACK_IMPORTED_MODULE_0__["__values"](nodes), nodes_1_1 = nodes_1.next(); !nodes_1_1.done; nodes_1_1 = nodes_1.next()) {
            var node = nodes_1_1.value;
            var ctorName = node.getAttribute(AUTO_INIT_ATTR);
            if (!ctorName) {
                throw new Error('(mdc-auto-init) Constructor name must be given.');
            }
            var Constructor = registry[ctorName]; // tslint:disable-line:variable-name
            if (typeof Constructor !== 'function') {
                throw new Error("(mdc-auto-init) Could not find constructor in registry for " + ctorName);
            }
            // TODO: Should we make an eslint rule for an attachTo() static method?
            // See https://github.com/Microsoft/TypeScript/issues/14600 for discussion of static interface support in TS
            var component = Constructor.attachTo(node);
            Object.defineProperty(node, ctorName, {
                configurable: true,
                enumerable: false,
                value: component,
                writable: false,
            });
            components.push(component);
            node.setAttribute(AUTO_INIT_STATE_ATTR, INITIALIZED_STATE);
        }
    }
    catch (e_1_1) { e_1 = { error: e_1_1 }; }
    finally {
        try {
            if (nodes_1_1 && !nodes_1_1.done && (_a = nodes_1.return)) _a.call(nodes_1);
        }
        finally { if (e_1) throw e_1.error; }
    }
    emit('MDCAutoInit:End', {});
    return components;
}
// Constructor is PascalCased because it is a direct reference to a class, rather than an instance of a class.
// tslint:disable-next-line:variable-name
mdcAutoInit.register = function (componentName, Constructor, warn) {
    if (warn === void 0) { warn = CONSOLE_WARN; }
    if (typeof Constructor !== 'function') {
        throw new Error("(mdc-auto-init) Invalid Constructor value: " + Constructor + ". Expected function.");
    }
    var registryValue = registry[componentName];
    if (registryValue) {
        warn("(mdc-auto-init) Overriding registration for " + componentName + " with " + Constructor + ". Was: " + registryValue);
    }
    registry[componentName] = Constructor;
};
mdcAutoInit.deregister = function (componentName) {
    delete registry[componentName];
};
mdcAutoInit.deregisterAll = function () {
    var keys = Object.keys(registry);
    keys.forEach(this.deregister, this);
};
// tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.
/* harmony default export */ __webpack_exports__["default"] = (mdcAutoInit);
//# sourceMappingURL=index.js.map

/***/ }),

/***/ "./node_modules/tslib/tslib.es6.js":
/*!*****************************************!*\
  !*** ./node_modules/tslib/tslib.es6.js ***!
  \*****************************************/
/*! exports provided: __extends, __assign, __rest, __decorate, __param, __metadata, __awaiter, __generator, __exportStar, __values, __read, __spread, __spreadArrays, __await, __asyncGenerator, __asyncDelegator, __asyncValues, __makeTemplateObject, __importStar, __importDefault */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__extends", function() { return __extends; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__assign", function() { return __assign; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__rest", function() { return __rest; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__decorate", function() { return __decorate; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__param", function() { return __param; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__metadata", function() { return __metadata; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__awaiter", function() { return __awaiter; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__generator", function() { return __generator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__exportStar", function() { return __exportStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__values", function() { return __values; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__read", function() { return __read; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spread", function() { return __spread; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__spreadArrays", function() { return __spreadArrays; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__await", function() { return __await; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncGenerator", function() { return __asyncGenerator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncDelegator", function() { return __asyncDelegator; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__asyncValues", function() { return __asyncValues; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__makeTemplateObject", function() { return __makeTemplateObject; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importStar", function() { return __importStar; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "__importDefault", function() { return __importDefault; });
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

var __assign = function() {
    __assign = Object.assign || function __assign(t) {
        for (var s, i = 1, n = arguments.length; i < n; i++) {
            s = arguments[i];
            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];
        }
        return t;
    }
    return __assign.apply(this, arguments);
}

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function __decorate(decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
}

function __param(paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
}

function __metadata(metadataKey, metadataValue) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(metadataKey, metadataValue);
}

function __awaiter(thisArg, _arguments, P, generator) {
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function __exportStar(m, exports) {
    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
}

function __values(o) {
    var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
    if (m) return m.call(o);
    return {
        next: function () {
            if (o && i >= o.length) o = void 0;
            return { value: o && o[i++], done: !o };
        }
    };
}

function __read(o, n) {
    var m = typeof Symbol === "function" && o[Symbol.iterator];
    if (!m) return o;
    var i = m.call(o), r, ar = [], e;
    try {
        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);
    }
    catch (error) { e = { error: error }; }
    finally {
        try {
            if (r && !r.done && (m = i["return"])) m.call(i);
        }
        finally { if (e) throw e.error; }
    }
    return ar;
}

function __spread() {
    for (var ar = [], i = 0; i < arguments.length; i++)
        ar = ar.concat(__read(arguments[i]));
    return ar;
}

function __spreadArrays() {
    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;
    for (var r = Array(s), k = 0, i = 0; i < il; i++)
        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)
            r[k] = a[j];
    return r;
};

function __await(v) {
    return this instanceof __await ? (this.v = v, this) : new __await(v);
}

function __asyncGenerator(thisArg, _arguments, generator) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var g = generator.apply(thisArg, _arguments || []), i, q = [];
    return i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i;
    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }
    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }
    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }
    function fulfill(value) { resume("next", value); }
    function reject(value) { resume("throw", value); }
    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }
}

function __asyncDelegator(o) {
    var i, p;
    return i = {}, verb("next"), verb("throw", function (e) { throw e; }), verb("return"), i[Symbol.iterator] = function () { return this; }, i;
    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === "return" } : f ? f(v) : v; } : f; }
}

function __asyncValues(o) {
    if (!Symbol.asyncIterator) throw new TypeError("Symbol.asyncIterator is not defined.");
    var m = o[Symbol.asyncIterator], i;
    return m ? m.call(o) : (o = typeof __values === "function" ? __values(o) : o[Symbol.iterator](), i = {}, verb("next"), verb("throw"), verb("return"), i[Symbol.asyncIterator] = function () { return this; }, i);
    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }
    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }
}

function __makeTemplateObject(cooked, raw) {
    if (Object.defineProperty) { Object.defineProperty(cooked, "raw", { value: raw }); } else { cooked.raw = raw; }
    return cooked;
};

function __importStar(mod) {
    if (mod && mod.__esModule) return mod;
    var result = {};
    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];
    result.default = mod;
    return result;
}

function __importDefault(mod) {
    return (mod && mod.__esModule) ? mod : { default: mod };
}


/***/ }),

/***/ "./src/Line/Line.ts":
/*!**************************!*\
  !*** ./src/Line/Line.ts ***!
  \**************************/
/*! exports provided: RMGLine */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGLine", function() { return RMGLine; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Station_Station__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Station/Station */ "./src/Station/Station.ts");



class RMGLine {
    constructor(param) {
        this._longInterval = 1;
        this.stations = {};
        this._svgHeight = param['svg_height'];
        this._svgWidth = param['svg_width'];
        this._svgDestWidth = param['svg_dest_width'];
        this._showOuter = param['show_outer'];
        [this.themeCity, this.themeLine, this._themeColour, this._fgColour] = param.theme;
        this.yPc = param['y_pc'];
        this._padding = param['padding'];
        this._stripPc = param['strip_pc'];
        this._branchSpacing = param.branch_spacing;
        this._txtFlip = param['txt_flip'];
        this._lineNames = param['line_name'];
        for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
            this.stations[stnId] = this._initStnInstance(stnId, stnInfo);
        }
        this._currentStnId = param['current_stn_idx'];
        this._direction = param['direction'];
        this._platformNum = param['platform_num'];
        this._destLegacy = param['dest_legacy'];
        this._charForm = param.char_form;
        // Calculate other properties of stations
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
            stnInstance.namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
        }
    }
    _initStnInstance(stnId, stnInfo) {
        switch (stnInfo.change_type) {
            case 'int2':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int2Station"](stnId, stnInfo);
            case 'int3_l':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3LStation"](stnId, stnInfo);
            case 'int3_r':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["Int3RStation"](stnId, stnInfo);
            case 'osi11_ul':
            case 'osi11_pl':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11LStation"](stnId, stnInfo);
            case 'osi11_ur':
            case 'osi11_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI11RStation"](stnId, stnInfo);
            case 'osi12_ul':
            case 'osi12_pl':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12LStation"](stnId, stnInfo);
            case 'osi12_ur':
            case 'osi12_pr':
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI12RStation"](stnId, stnInfo);
            case 'osi22_pl':
            case 'osi22_ul':
                if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22EndStation"](stnId, stnInfo);
                }
                else {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22LStation"](stnId, stnInfo);
                }
            case 'osi22_pr':
            case 'osi22_ur':
                if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22EndStation"](stnId, stnInfo);
                }
                else {
                    return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["OSI22RStation"](stnId, stnInfo);
                }
            default:
                return new _Station_Station__WEBPACK_IMPORTED_MODULE_1__["RMGStation"](stnId, stnInfo);
        }
    }
    set svgDestWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgDestWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_dest_width', val);
        this.drawSVGFrame();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
    }
    set svgWidth(val) {
        if (isNaN(val) || val <= 0) {
            return;
        }
        this._svgWidth = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('svg_width', val);
        this.drawSVGFrame();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set yPc(val) {
        val = Number(val);
        this._yPc = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('y_pc', val);
        let y = val * this._svgHeight / 100;
        $('g#main').attr('transform', `translate(0,${y})`);
    }
    set padding(val) {
        val = Number(val);
        this._padding = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('padding', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set branchSpacing(val) {
        val = Number(val);
        this._branchSpacing = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('branch_spacing', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set txtFlip(val) {
        this._txtFlip = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('txt_flip', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
        }
        $('#stn_icons').empty();
        this.drawStns();
        this.loadFonts();
        this.updateStnNameBg();
    }
    set themeColour(rgbs) {
        this._themeColour = rgbs[0];
        this._fgColour = rgbs[1];
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.theme[2] = rgbs[0];
        param.theme[3] = rgbs[1];
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.fillThemeColour();
    }
    set direction(val) {
        this._direction = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('direction', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    set platformNum(val) {
        this._platformNum = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('platform_num', val);
        $('.rmg-name__platformnum').text(val);
    }
    set charForm(val) {
        this._charForm = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('char_form', val);
        var prevCharForm = $('.rmg-name__zh').eq(0).attr('class').match(/rmg-name__char-\w{2,4}/g)[0];
        $('.rmg-name__zh').removeClass(prevCharForm);
        $('.rmg-name__zh').addClass(`rmg-name__char-${val}`);
    }
    set lineNames(val) {
        this._lineNames = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('line_name', val);
        this.drawDestInfo();
        this.loadFonts();
    }
    set destLegacy(val) {
        this._destLegacy = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('dest_legacy', val);
        this.drawDestInfo();
        this.loadFonts();
    }
    set currentStnId(val) {
        this._currentStnId = val;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["setParams"])('current_stn_idx', val);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
    }
    _rightWideFactor(stnId) {
        var res = 0;
        var stnClasses = ['Int3RStation', 'OSI11RStation', 'OSI12RStation', 'OSI22LStation', 'OSI22RStation'];
        if (stnClasses.includes(this.stations[stnId].constructor.name)) {
            res += this._longInterval;
        }
        if (this._stnOutdegree(stnId) == 2) {
            res += this._longInterval / 2;
        }
        if (this._stnIndegree(this.stations[stnId].children[0]) == 2) {
            res += this._longInterval / 2;
        }
        return res;
    }
    _leftWideFactor(stnId) {
        var res = 0;
        var stnClasses = ['Int3LStation', 'OSI11LStation', 'OSI12LStation', 'OSI22LStation', 'OSI22RStation'];
        if (stnClasses.includes(this.stations[stnId].constructor.name)) {
            res += this._longInterval;
        }
        if (this._stnIndegree(stnId) == 2) {
            res += this._longInterval / 2;
        }
        if (this._stnOutdegree(this.stations[stnId].parents[0]) == 2) {
            res += this._longInterval / 2;
        }
        return res;
    }
    _pathWeight(stnId1, stnId2) {
        // Path weight from stnId1 to stnId2
        // if (stnId1 == stnId2) {return 0;}
        if (!this.stations[stnId1].children.includes(stnId2)) {
            return -Infinity;
        }
        return 1 + this._rightWideFactor(stnId1) + this._leftWideFactor(stnId2);
    }
    _cpm(from, to) {
        var self = this;
        // Critical Path Method (FuOR)
        if (from == to) {
            return 0;
        }
        ;
        // var allLengths = [];
        var allLengths = this.stations[from].children.map(child => allLengths.push(1 + self._cpm(child, to)));
        // for (let child of this.stations[from].children) {
        //     allLengths.push(1 + self._cpm(child, to));
        // }
        return Math.max(...allLengths);
    }
    _cp(from, to) {
        var self = this;
        if (from == to) {
            return { len: 0, nodes: [from] };
        }
        let allLengths = [];
        let criticalPaths = [];
        this.stations[from].children.forEach(child => {
            let cp = self._cp(child, to);
            if (cp.len < 0) {
                return;
            }
            allLengths.push(this._pathWeight(from, child) + cp.len);
            cp.nodes.unshift(from);
            criticalPaths.push(cp.nodes);
        });
        let maxLength = Math.max(...allLengths);
        return {
            'len': maxLength,
            'nodes': criticalPaths[allLengths.indexOf(maxLength)]
        };
    }
    get criticalPath() {
        let allLengths = [];
        let criticalPaths = [];
        this.leftDests.forEach(ld => {
            this.rightDests.forEach(rd => {
                let cp = this._cp(ld, rd);
                allLengths.push(cp.len);
                criticalPaths.push(cp.nodes);
            });
        });
        let maxLen = Math.max(...allLengths);
        return {
            'len': maxLen,
            'nodes': criticalPaths[allLengths.indexOf(maxLen)]
        };
    }
    _topoOrder(from, tpo = []) {
        var self = this;
        tpo.push(from);
        this.stations[from].children.forEach(child => {
            if (this._stnIndegree(child) == 2 && this.stations[child].parents.indexOf(from) == 0) {
                // wait the other branch
                return;
            }
            tpo.concat(self._topoOrder(child, tpo));
        });
        return tpo;
    }
    get tpo() {
        let res = this._topoOrder('linestart');
        return res.slice(1, res.length - 1);
    }
    get y() {
        // return this._yPc * this._svgHeight / 100; 
        return 0;
    }
    get stripY() { return this._stripPc * this._svgHeight / 100; }
    get turningRadius() { return this._branchSpacing / 2 * (Math.sqrt(2) / (Math.sqrt(2) - 1)); }
    get lineXs() {
        return [
            this._svgWidth * this._padding / 100,
            this._svgWidth * (1 - this._padding / 100)
        ];
    }
    get leftDests() { return this.stations.linestart.children; }
    get rightDests() { return this.stations.lineend.parents; }
    get lValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart')[0])));
    }
    get rValidDests() {
        return Array.from(new Set(this.routes
            .filter(route => route.indexOf(this._currentStnId) !== -1)
            .map(route => route.filter(stnId => stnId !== 'lineend' && stnId !== 'linestart').reverse()[0])));
    }
    _stnIndegree(stnId) { return this.stations[stnId].inDegree; }
    _stnOutdegree(stnId) { return this.stations[stnId].outDegree; }
    _stnXShare(stnId) {
        var self = this;
        var cp = this.criticalPath;
        if (cp.nodes.includes(stnId)) {
            return this._cp(cp.nodes[0], stnId).len;
        }
        var partSource = stnId;
        var partSink = stnId;
        var leftOpenJaw = false;
        var rightOpenJaw = false;
        while (true) {
            var parent = this.stations[partSource].parents[0];
            if (parent == 'linestart') {
                leftOpenJaw = true;
                break;
            }
            partSource = parent;
            if (this._stnOutdegree(partSource) > 1) {
                break;
            }
        }
        while (true) {
            var children = this.stations[partSink].children;
            if (children[0] != 'lineend') {
                partSink = children[0];
            }
            else {
                rightOpenJaw = true;
                break;
            }
            if (this._stnIndegree(partSink) > 1) {
                break;
            }
        }
        var lengthToSource = this._cp(partSource, stnId).len;
        var lengthToSink = this._cp(stnId, partSink).len;
        if (leftOpenJaw) {
            var actualPartLength = this._cp(cp.nodes[0], partSink).len;
            return self._stnXShare(partSink) - lengthToSink / (lengthToSource + lengthToSink) * actualPartLength;
        }
        else if (rightOpenJaw) {
            var actualPartLength = this._cp(partSource, cp.nodes.slice(-1)[0]).len;
        }
        else {
            var actualPartLength = this._cp(partSource, partSink).len;
        }
        return self._stnXShare(partSource) + lengthToSource / (lengthToSource + lengthToSink) * actualPartLength;
    }
    _stnRealX(stnId) {
        let [lineStart, lineEnd] = this.lineXs;
        return lineStart + this._stnXShare(stnId) / this.criticalPath.len * (lineEnd - lineStart);
    }
    _stnYShare(stnId) {
        if (['linestart', 'lineend'].includes(stnId) || this._stnIndegree(stnId) > 1 || this._stnOutdegree(stnId) > 1) {
            return 0;
        }
        var stnPred = this.stations[stnId].parents[0];
        if (stnPred) {
            // parent exist
            if (this._stnOutdegree(stnPred) == 1) {
                // no sibling, then y same as parent
                return this._stnYShare(stnPred);
            }
            else {
                // sibling exists, then y depends on its idx of being children
                return (this.stations[stnPred].children.indexOf(stnId) == 0) ? 1 : -1;
            }
        }
        else {
            // no parent, must be linestart
            return 0;
        }
        return 0;
    }
    _stnRealY(stnId) {
        return this.y - this._stnYShare(stnId) * this._branchSpacing;
    }
    _isSuccessor_old(stnId1, stnId2) {
        // Is stnId2 a successor of stnId1?
        var self = this;
        var descOfStn1 = this.stations[stnId1].children;
        if (!descOfStn1.length) {
            return false;
        }
        else if (descOfStn1.includes(stnId2)) {
            return true;
        }
        else {
            for (let desc of descOfStn1) {
                if (self._isSuccessor_old(desc, stnId2)) {
                    return true;
                }
            }
        }
        return false;
    }
    _isSuccessor(stnId1, stnId2) {
        // Is stnId2 a successor of stnId1?
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx1 < idx2) {
                return true;
            }
        }
        return false;
    }
    _isPredecessor_old(stnId1, stnId2) {
        // Is stnId2 a predecessor of stnId1?
        var self = this;
        var ancOfStn1 = this.stations[stnId1].parents;
        if (!ancOfStn1.length) {
            return false;
        }
        else if (ancOfStn1.includes(stnId2)) {
            return true;
        }
        else {
            for (let anc of ancOfStn1) {
                if (self._isPredecessor_old(anc, stnId2)) {
                    return true;
                }
            }
        }
        return false;
    }
    _isPredecessor(stnId1, stnId2) {
        // Is stnId2 a predecessor of stnId1?
        for (let route of this.routes) {
            let idx1 = route.indexOf(stnId1);
            let idx2 = route.indexOf(stnId2);
            if (idx1 !== -1 && idx2 !== -1 && idx2 < idx1) {
                return true;
            }
        }
        return false;
    }
    _stnState(stnId) {
        if (stnId == this._currentStnId) {
            return 0;
        }
        if (this._direction == 'r') {
            return this._isSuccessor(this._currentStnId, stnId) ? 1 : -1;
        }
        else {
            return this._isPredecessor(this._currentStnId, stnId) ? 1 : -1;
        }
    }
    _stnNamePos(stnId) {
        var self = this;
        var cp = this.criticalPath.nodes;
        if (stnId == 'linestart') {
            return 1;
        }
        var pos = cp.indexOf(stnId) % 2;
        if (pos == -1) {
            var parId = this.stations[stnId].parents[0];
            if (this._stnOutdegree(parId) == 2) {
                return self._stnNamePos(parId);
            }
            return Number(!self._stnNamePos(parId));
        }
        return pos;
    }
    drawSVGFrame() {
        $('#railmap, #outer').attr({
            width: this._svgWidth,
            height: this._svgHeight
        });
        $('#destination, #dest_outer').attr({
            width: this._svgDestWidth,
            height: this._svgHeight
        });
        $('#dest_strip_gz').attr('width', this._svgDestWidth);
        $('#strip_gz').attr('width', this._svgWidth);
    }
    showFrameOuter() {
        // var outerColour = this._showOuter ? 'black' : 'none';
        // $('#outer, #dest_outer').attr('stroke', outerColour);
        if (this._showOuter) {
            $('#outer, #dest_outer').show();
        }
        else {
            $('#outer, #dest_outer').hide();
        }
    }
    drawStns() {
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            $('#stn_icons').append(stnInstance.html);
        }
        $('#stn_icons').html($('#stn_icons').html()); // Refresh DOM
    }
    updateStnNameBg() {
        var stnNameDim = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTxtBoxDim"])($(`#stn_icons > #${this._currentStnId} > .Name`)[0], 'railmap');
        console.log(stnNameDim);
        $('#current_bg').attr({
            x: stnNameDim.x - 3,
            width: stnNameDim.width + 6,
        });
    }
    get stnDX() { return this.turningRadius - this._branchSpacing / 2; }
    ;
    get stnDY() { return this._branchSpacing / 2; }
    ;
    get stnExtraH() {
        var [lineStart, lineEnd] = this.lineXs;
        return (lineEnd - lineStart) / this.criticalPath.len * this._longInterval;
    }
    get stnSpareH() {
        var [lineStart, lineEnd] = this.lineXs;
        var dh = ((lineEnd - lineStart) / this.criticalPath.len - 2 * this.stnDX) / 2;
        if (dh < 0) {
            console.warn(`SVG width too small! ${dh}`);
        }
        return dh;
    }
    get pathTurnENE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnNEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${-this.stnDY}`; }
    ;
    get pathTurnESE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,1 ${this.stnDX},${this.stnDY}`; }
    ;
    get pathTurnSEE() { return `a ${this.turningRadius},${this.turningRadius} 0 0,0 ${this.stnDX},${this.stnDY}`; }
    ;
    _linePath(stnIds) {
        var [prevId, prevY, prevX] = [];
        var path = [];
        var { stnExtraH, stnSpareH, pathTurnESE, pathTurnSEE, pathTurnENE, pathTurnNEE, stnDX } = this;
        stnIds.forEach(stnId => {
            var [x, y] = ['_stnRealX', '_stnRealY'].map(fun => this[fun](stnId));
            if (!prevY && prevY !== 0) {
                [prevId, prevX, prevY] = [stnId, x, y];
                path.push(`M ${x},${y}`);
                return;
            }
            if (y > prevY) {
                path.push(y == this.y ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnESE, pathTurnSEE);
            }
            else if (y < prevY) {
                path.push(y == this.y ? `h ${x - prevX - stnExtraH * this._leftWideFactor(stnId) - stnSpareH - stnDX * 2}` : `h ${stnExtraH * this._rightWideFactor(prevId) + stnSpareH}`);
                path.push(pathTurnENE, pathTurnNEE);
            }
            path.push(`H ${x}`);
            [prevId, prevX, prevY] = [stnId, x, y];
        });
        // simplify path
        return path.join(' ').replace(/( H ([\d.]+))+/g, ' H $2');
    }
    drawLine() {
        this.branches.map(branch => {
            var lineMainStns = branch.filter(stnId => this.stations[stnId].state >= 0);
            var linePassStns = branch.filter(stnId => this.stations[stnId].state <= 0);
            if (lineMainStns.length === 1) {
                linePassStns = branch;
            }
            if (lineMainStns.filter(stnId => linePassStns.indexOf(stnId) !== -1).length == 0 && lineMainStns.length) {
                // if two set disjoint
                if (linePassStns[0] === branch[0]) {
                    // -1 -1 1 1
                    linePassStns.push(lineMainStns[0]);
                }
                else if (lineMainStns[0] === branch[0] && lineMainStns[lineMainStns.length - 1] === branch[branch.length - 1] && linePassStns.length) {
                    linePassStns = branch;
                    lineMainStns = [];
                }
                else {
                    // 1 1 -1 -1
                    linePassStns.unshift(lineMainStns[lineMainStns.length - 1]);
                }
            }
            $('#line_main').append($('<path>', { d: this._linePath(lineMainStns) }));
            $('#line_pass').append($('<path>', { d: this._linePath(linePassStns) }));
        });
        $('#line_main').html($('#line_main').html());
        $('#line_pass').html($('#line_pass').html());
    }
    drawStrip() {
        // $('#strip, #dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`)
        $('#strip').attr('d', `M 0,${this.stripY} H ${this._svgWidth}`);
        $('#dest_strip').attr('d', `M 0,${this.stripY} H ${this._svgDestWidth}`);
    }
    fillThemeColour() {
        $('#line_main, #strip, #dest_strip').attr('stroke', this._themeColour);
        $('#dest_name > #platform > circle').attr('fill', this._themeColour);
    }
    drawDestInfo() {
        $('#dest_name > #platform > text').text(this._platformNum);
        let validDest = this[this._direction + 'ValidDests'];
        let txtAnchor = this._direction === 'l' ? 'start' : 'end';
        var [destNameZH, destNameEN] = [0, 1].map(idx => {
            return validDest.map(stnId => this.stations[stnId].name[idx].replace(/\\/g, ' ')).join('/');
        });
        if (this._destLegacy) {
            var [lineNameZH, lineNameEN] = this._lineNames;
            lineNameEN += ' ';
        }
        else {
            var lineNameZH = lineNameEN = '';
        }
        $('#dest_name > g:last-child text').eq(0).text(`${lineNameZH}${destNameZH}`);
        $('#dest_name > g:last-child text').eq(1).text(`${lineNameEN}to ${destNameEN}`);
        var bcr = $('#dest_name > g:last-child')[0].getBoundingClientRect();
        var flagLength = 160 + 150 + bcr.width + 45 + 50;
        var isLeft = (this._direction == 'l') ? 1 : -1;
        var arrowX = (this._svgDestWidth - isLeft * flagLength) / 2;
        var arrowRotate = 90 * (1 - isLeft);
        var platformNumX = arrowX + isLeft * (160 + 50 + 75);
        var destNameX = platformNumX + isLeft * (75 + 45);
        $('#dest_name > use').attr('transform', `translate(${arrowX},130)rotate(${arrowRotate})`);
        $('#dest_name > #platform').attr('transform', `translate(${platformNumX},130)`);
        $('#dest_name > g:last-child').attr({
            transform: `translate(${destNameX},105)`,
            'text-anchor': txtAnchor
        });
    }
    loadFonts() {
        $('.rmg-name__zh, .rmg-name__en').addClass(`rmg-name__char-${this._charForm}`);
    }
    updateStnName(stnId, names, stnNum) {
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].name = names;
        param.stn_list[stnId].num = stnNum;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId].name = names;
        // this.stations[stnId]._nameZH = nameZH;
        // this.stations[stnId]._nameEN = nameEN;
        this.stations[stnId].stnNum = stnNum;
        $(`#stn_icons #${stnId}`).remove();
        $('#stn_icons').append(this.stations[stnId].html);
        $('#stn_icons').html($('#stn_icons').html());
        if (this.leftDests.includes(stnId) && this._direction == 'l') {
            this.drawDestInfo();
        }
        else if (this.rightDests.includes(stnId) && this._direction == 'r') {
            this.drawDestInfo();
        }
        this.loadFonts();
        if (stnId == this._currentStnId) {
            this.updateStnNameBg();
        }
    }
    updateStnTransfer(stnId, type, info = null) {
        var prevClass = this.stations[stnId].constructor.name;
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].change_type = type;
        if (type == 'none') {
            delete param.stn_list[stnId].transfer;
            // delete param.stn_list[stnId].interchange;
            param.stn_list[stnId].interchange = [[]];
        }
        else {
            // param.stn_list[stnId].transfer = info;
            param.stn_list[stnId].interchange = info;
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[stnId] = this._initStnInstance(stnId, param.stn_list[stnId]);
        if (prevClass != this.stations[stnId].constructor.name) {
            // Not sure position, redraw all
            for (let [stnId, stnInstance] of Object.entries(this.stations)) {
                if (['linestart', 'lineend'].includes(stnId)) {
                    continue;
                }
                stnInstance.x = this._stnRealX(stnId);
                stnInstance.y = this._stnRealY(stnId);
                stnInstance.namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
                stnInstance.state = this._stnState(stnId);
            }
            RMGLine.clearSVG();
            this.drawStns();
            this.drawLine();
            this.drawStrip();
        }
        else {
            this.stations[stnId].x = this._stnRealX(stnId);
            this.stations[stnId].y = this._stnRealY(stnId);
            this.stations[stnId].namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
            this.stations[stnId].state = this._stnState(stnId);
            $(`#stn_icons #${stnId}`).remove();
            $('#stn_icons').append(this.stations[stnId].html);
            $('#stn_icons').html($('#stn_icons').html());
        }
        this.loadFonts();
        this.updateStnNameBg();
    }
    removeStn(stnId) {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        var parents = this.stations[stnId].parents;
        var children = this.stations[stnId].children;
        var isLastMainBranchStn = true;
        for (let id in this.stations) {
            if ([stnId, 'linestart', 'lineend'].includes(id)) {
                continue;
            }
            if (this._stnYShare(id) == 0) {
                isLastMainBranchStn = false;
                break;
            }
        }
        if (parents.length == 2 && children.length == 2) {
            // To be rewritten, join two branches
            return false;
        }
        else if (isLastMainBranchStn) {
            // Last main line station
            return false;
        }
        else if (Object.keys(param.stn_list).length == 4) {
            // Last two stations
            return false;
        }
        else if (parents.length == 2 || children.length == 2) {
            parents.forEach(parId => {
                param.stn_list[parId].children = children;
                this.stations[parId].children = children;
            });
            children.forEach(childId => {
                param.stn_list[childId].parents = parents;
                this.stations[childId].parents = parents;
            });
            if (parents.length == 1) {
                param.stn_list[parents[0]].branch.right = this.stations[stnId].branch.right;
                this.stations[parents[0]].branch.right = this.stations[stnId].branch.right;
            }
            if (children.length == 1) {
                param.stn_list[children[0]].branch.left = this.stations[stnId].branch.left;
                this.stations[children[0]].branch.left = this.stations[stnId].branch.left;
            }
        }
        else if (this._stnOutdegree(parents[0]) == 2 && this._stnIndegree(children[0]) == 2) {
            // 1 par 1 child, last station on upper/lower branch
            // branch disappear
            var childIdxOfPar = this.stations[parents[0]].children.indexOf(stnId);
            var parIdxOfChild = this.stations[children[0]].parents.indexOf(stnId);
            param.stn_list[parents[0]].children.splice(childIdxOfPar, 1);
            this.stations[parents[0]].children.splice(childIdxOfPar, 1);
            param.stn_list[children[0]].parents.splice(parIdxOfChild, 1);
            this.stations[children[0]].parents.splice(parIdxOfChild, 1);
            param.stn_list[parents[0]].branch.right = [];
            this.stations[parents[0]].branch.right = [];
            param.stn_list[children[0]].branch.left = [];
            this.stations[children[0]].branch.left = [];
        }
        else {
            // 1 par 1 child
            parents.forEach(parId => {
                var idx = param.stn_list[parId].children.indexOf(stnId);
                if (children.length) {
                    param.stn_list[parId].children[idx] = children[0];
                    this.stations[parId].children[idx] = children[0];
                }
                else {
                    // Right dest
                    param.stn_list[parId].children.splice(idx, 1);
                    this.stations[parId].children.splice(idx, 1);
                }
                if (this.stations[parId].branch.right[1] === stnId) {
                    this.stations[parId].branch.right[1] = children[0];
                    param.stn_list[parId].branch.right[1] = children[0];
                }
            });
            children.forEach(childId => {
                var idx = param.stn_list[childId].parents.indexOf(stnId);
                if (parents.length) {
                    param.stn_list[childId].parents[idx] = parents[0];
                    this.stations[childId].parents[idx] = parents[0];
                }
                else {
                    // Left dest
                    param.stn_list[childId].parents.splice(idx, 1);
                    this.stations[childId].parents.splice(idx, 1);
                }
                if (this.stations[childId].branch.left[1] === stnId) {
                    this.stations[childId].branch.left[1] = parents[0];
                    param.stn_list[childId].branch.left[1] = parents[0];
                }
            });
        }
        delete param.stn_list[stnId];
        delete this.stations[stnId];
        var isCurrentStnChanged = false;
        if (this._currentStnId == stnId) {
            var newCurrentStnId = Object.keys(this.stations)[1];
            this._currentStnId = newCurrentStnId;
            param.current_stn_idx = newCurrentStnId;
            isCurrentStnChanged = true;
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        parents.concat(children).forEach(neId => {
            if (['linestart', 'lineend'].includes(neId)) {
                return;
            }
            this.stations[neId] = this._initStnInstance(neId, param.stn_list[neId]);
        });
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
        return true;
    }
    newStnPossibleLoc(prep, stnId) {
        var deg = (prep == 'before') ? this._stnIndegree(stnId) : this._stnOutdegree(stnId);
        switch (deg) {
            case 2:
                // 1 -> 2
                return [1, 1, 1, [], []];
            case 1:
                if (this._stnYShare(stnId) == 0) {
                    // 1 -> 1
                    let state = this.newBranchPossibleEnd(prep, stnId);
                    state = (state.length) ? state : [];
                    return [1, 0, 0, state, state];
                    // [1,0,0,1,1];
                }
                else if (this.stations[stnId].y > this.y) {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            0, 1, [], []
                        ];
                    }
                }
                else {
                    if (prep == 'before') {
                        return [this._stnOutdegree(this.stations[stnId].parents[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                    else {
                        return [this._stnIndegree(this.stations[stnId].children[0]) - 1,
                            1, 0, [], []
                        ];
                    }
                }
        }
        return [0, 0, 0, [], []];
    }
    newBranchPossibleEnd(prep, stnId) {
        let res = [];
        if (prep == 'before') {
            while (this._stnIndegree(stnId) == 1) {
                stnId = this.stations[stnId].parents[0];
                res.unshift(stnId);
            }
            res.pop();
        }
        else {
            while (this._stnOutdegree(stnId) == 1) {
                stnId = this.stations[stnId].children[0];
                res.push(stnId);
            }
            res.shift();
        }
        return res;
    }
    addStn(prep, stnId, loc, end) {
        let newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        while (Object.keys(this.stations).includes(newId)) {
            newId = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getRandomId"])();
        }
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        let newInfo = {};
        if (prep == 'before') {
            if (loc == 'centre') {
                newInfo.parents = this.stations[stnId].parents;
                if (this._stnIndegree(stnId) == 0 && this.stations[stnId].y != this.y) {
                    newInfo.children = this.leftDests;
                }
                else if (this.stations[stnId].y != this.y) {
                    // pivot on branch
                    newInfo.children = this.stations[this.stations[stnId].parents[0]].children;
                    newInfo.branch = {
                        left: [],
                        right: this.stations[newInfo.parents[0]].branch.right
                    };
                    this.stations[newInfo.parents[0]].branch.right = [];
                    param.stn_list[newInfo.parents[0]].branch.right = [];
                }
                else {
                    // pivot on main
                    newInfo.children = [stnId];
                    newInfo.branch = {
                        left: this.stations[stnId].branch.left,
                        right: []
                    };
                    this.stations[stnId].branch.left = [];
                    param.stn_list[stnId].branch.left = [];
                }
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[0]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(0, 1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[0] = newId;
                    param.stn_list[stnId].parents[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children[0] = newId;
                        param.stn_list[par].children[0] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnIndegree(stnId) == 2) {
                    if (this.stations[stnId].branch.left[1] == this.stations[stnId].parents[1]) {
                        this.stations[stnId].branch.left[1] = newId;
                        param.stn_list[stnId].branch.left[1] = newId;
                    }
                    newInfo.parents = this.stations[stnId].parents.slice(1);
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                    this.stations[stnId].parents[1] = newId;
                    param.stn_list[stnId].parents[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.parents = this.stations[stnId].parents;
                    newInfo.children = [stnId];
                    newInfo.parents.forEach(par => {
                        this.stations[par].children[1] = newId;
                        param.stn_list[par].children[1] = newId;
                        if (this.stations[par].branch.right[1] === stnId) {
                            this.stations[par].branch.right[1] = newId;
                            param.stn_list[par].branch.right[1] = newId;
                        }
                    });
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left[1] = newId;
                param.stn_list[stnId].branch.left[1] = newId;
                this.stations[end].branch.right[1] = newId;
                param.stn_list[end].branch.right[1] = newId;
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.unshift(newId);
                param.stn_list[end].children.unshift(newId);
                this.stations[stnId].parents.unshift(newId);
                param.stn_list[stnId].parents.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.left[1] = newId;
                param.stn_list[stnId].branch.left[1] = newId;
                this.stations[end].branch.right[1] = newId;
                param.stn_list[end].branch.right[1] = newId;
                newInfo.parents = [end];
                newInfo.children = [stnId];
                this.stations[end].children.push(newId);
                param.stn_list[end].children.push(newId);
                this.stations[stnId].parents.push(newId);
                param.stn_list[stnId].parents.push(newId);
            }
        }
        else {
            if (loc == 'centre') {
                newInfo.children = this.stations[stnId].children;
                if (this._stnOutdegree(stnId) == 0 && this.stations[stnId].y != this.y) {
                    newInfo.parents = this.rightDests;
                }
                else if (this.stations[stnId].y != this.y) {
                    // pivot on branch
                    newInfo.parents = this.stations[this.stations[stnId].children[0]].parents;
                    newInfo.branch = {
                        left: this.stations[newInfo.children[0]].branch.left,
                        right: []
                    };
                    this.stations[newInfo.children[0]].branch.left = [];
                    param.stn_list[newInfo.children[0]].branch.left = [];
                }
                else {
                    // pivot on main
                    newInfo.parents = [stnId];
                    newInfo.branch = {
                        left: [],
                        right: this.stations[stnId].branch.right
                    };
                    this.stations[stnId].branch.right = [];
                    param.stn_list[stnId].branch.right = [];
                }
                newInfo.children.forEach(child => {
                    this.stations[child].parents = [newId];
                    param.stn_list[child].parents = [newId];
                });
                newInfo.parents.forEach(par => {
                    this.stations[par].children = [newId];
                    param.stn_list[par].children = [newId];
                });
            }
            else if (loc == 'upper') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[0]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(0, 1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[0] = newId;
                    param.stn_list[stnId].children[0] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents[0] = newId;
                        param.stn_list[child].parents[0] = newId;
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'lower') {
                newInfo.branch = { left: [], right: [] };
                if (this._stnOutdegree(stnId) == 2) {
                    if (this.stations[stnId].branch.right[1] == this.stations[stnId].children[1]) {
                        this.stations[stnId].branch.right[1] = newId;
                        param.stn_list[stnId].branch.right[1] = newId;
                    }
                    newInfo.children = this.stations[stnId].children.slice(1);
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        this.stations[child].parents = [newId];
                        param.stn_list[child].parents = [newId];
                    });
                    this.stations[stnId].children[1] = newId;
                    param.stn_list[stnId].children[1] = newId;
                }
                else {
                    // already on branch
                    newInfo.children = this.stations[stnId].children;
                    newInfo.parents = [stnId];
                    newInfo.children.forEach(child => {
                        if (this._stnIndegree(child) === 1) {
                            this.stations[child].parents[0] = newId;
                            param.stn_list[child].parents[0] = newId;
                        }
                        else {
                            this.stations[child].parents[1] = newId;
                            param.stn_list[child].parents[1] = newId;
                        }
                        if (this.stations[child].branch.left[1] === stnId) {
                            this.stations[child].branch.left[1] = newId;
                            param.stn_list[child].branch.left[1] = newId;
                        }
                    });
                    newInfo.parents.forEach(par => {
                        this.stations[par].children = [newId];
                        param.stn_list[par].children = [newId];
                    });
                }
            }
            else if (loc == 'newupper') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.unshift(newId);
                param.stn_list[end].parents.unshift(newId);
                this.stations[stnId].children.unshift(newId);
                param.stn_list[stnId].children.unshift(newId);
            }
            else if (loc == 'newlower') {
                newInfo.branch = { left: [], right: [] };
                this.stations[stnId].branch.right = ['through', newId];
                param.stn_list[stnId].branch.right = ['through', newId];
                this.stations[end].branch.left = ['through', newId];
                param.stn_list[end].branch.left = ['through', newId];
                newInfo.children = [end];
                newInfo.parents = [stnId];
                this.stations[end].parents.push(newId);
                param.stn_list[end].parents.push(newId);
                this.stations[stnId].children.push(newId);
                param.stn_list[stnId].children.push(newId);
            }
        }
        newInfo.name = [`${newId.toUpperCase()}`, `Station ${newId.toUpperCase()}`];
        newInfo.change_type = 'none';
        newInfo.num = '00';
        newInfo.interchange = [[]];
        param.stn_list[newId] = newInfo;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        this.stations[newId] = this._initStnInstance(newId, newInfo);
        this.stations[stnId] = this._initStnInstance(stnId, Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId]);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
            stnInstance.namePos = (this._txtFlip) ? Number(!this._stnNamePos(stnId)) : this._stnNamePos(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawStrip();
        this.drawDestInfo();
        this.loadFonts();
        this.updateStnNameBg();
        return [newId, newInfo];
    }
    reverseStns() {
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (stnId === 'linestart') {
                param.stn_list['lineend'].parents = stnInstance.children.reverse();
                param.stn_list['lineend'].branch = {
                    left: stnInstance.branch.right,
                    right: []
                };
            }
            else if (stnId === 'lineend') {
                param.stn_list['linestart'].children = stnInstance.parents.reverse();
                param.stn_list['linestart'].branch = {
                    left: [],
                    right: stnInstance.branch.left
                };
            }
            else {
                var tmpArr = stnInstance.children.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].children = stnInstance.parents.reverse().map(id => {
                    switch (id) {
                        case 'linestart': return 'lineend';
                        case 'lineend': return 'linestart';
                        default: return id;
                    }
                });
                param.stn_list[stnId].parents = tmpArr;
                param.stn_list[stnId].branch.left = stnInstance.branch.right;
                param.stn_list[stnId].branch.right = stnInstance.branch.left;
            }
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        location.reload(true);
    }
    updateBranchType(stnId, direction, type) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][0] === type) {
            return;
        }
        this.stations[stnId].branch[direc][0] = type;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.stn_list[stnId].branch[direc][0] = type;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    updateBranchFirst(stnId, direction, first) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (this.stations[stnId].branch[direc][1] === first) {
            return false;
        }
        let branchEndId = first;
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            let branchFirstIdx = this.stations[stnId].children.indexOf(first);
            this.stations[stnId].branch.right[1] = param.stn_list[stnId].branch.right[1] = first;
            this.stations[branchEndId].branch.left[1] = param.stn_list[branchEndId].branch.left[1] = this.stations[branchEndId].parents[branchFirstIdx];
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            let branchFirstIdx = this.stations[stnId].parents.indexOf(first);
            this.stations[stnId].branch.left[1] = param.stn_list[stnId].branch.left[1] = first;
            this.stations[branchEndId].branch.right[1] = param.stn_list[branchEndId].branch.right[1] = this.stations[branchEndId].children[branchFirstIdx];
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.x = this._stnRealX(stnId);
            stnInstance.y = this._stnRealY(stnId);
            stnInstance.state = this._stnState(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
        return true;
    }
    updateBranchPos(stnId, direction, pos) {
        let direc = _utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direction];
        // no change
        if (direc === 'right') {
            if (this.stations[stnId].children.indexOf(this.stations[stnId].branch.right[1]) === pos) {
                return;
            }
        }
        else {
            if (this.stations[stnId].parents.indexOf(this.stations[stnId].branch.left[1]) === pos) {
                return;
            }
        }
        let branchEndId = this.stations[stnId].branch[direc][1];
        let param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        if (direc === 'right') {
            while (this.stations[branchEndId].inDegree === 1) {
                branchEndId = this.stations[branchEndId].children[0];
            }
            this.stations[stnId].children.reverse();
            param.stn_list[stnId].children.reverse();
            this.stations[branchEndId].parents.reverse();
            param.stn_list[branchEndId].parents.reverse();
        }
        else {
            while (this.stations[branchEndId].outDegree === 1) {
                branchEndId = this.stations[branchEndId].parents[0];
            }
            this.stations[stnId].parents.reverse();
            param.stn_list[stnId].parents.reverse();
            this.stations[branchEndId].children.reverse();
            param.stn_list[branchEndId].children.reverse();
        }
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        for (let [stnId, stnInstance] of Object.entries(this.stations)) {
            if (['linestart', 'lineend'].includes(stnId)) {
                continue;
            }
            stnInstance.y = this._stnRealY(stnId);
        }
        RMGLine.clearSVG();
        this.drawStns();
        this.drawLine();
        this.drawDestInfo();
        this.loadFonts();
    }
    static clearSVG() {
        $('#stn_icons, #line_main, #line_pass').empty();
    }
    static initSVG(line) {
        line.drawSVGFrame();
        line.showFrameOuter();
        line.drawStns();
        line.fillThemeColour();
        line.drawLine();
        line.drawStrip();
        line.drawDestInfo();
        line.loadFonts();
        line.updateStnNameBg();
    }
    get branches() {
        var stack = ['linestart'];
        var branches = [[]];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount][0] || null;
            var curBranch = [curId];
            if (prevId) {
                curBranch.unshift(prevId);
            }
            while (true) {
                if (curId == 'lineend') {
                    break;
                }
                if (curId != 'linestart' && prevId == this.stations[curId].branch.left[1]) {
                    // branch ends
                    break;
                }
                else {
                    prevId = curId;
                    var children = this.stations[prevId].children;
                    switch (children.length) {
                        case 1:
                            curId = children[0];
                            break;
                        case 2:
                            branches.push([prevId]);
                            if (prevId == 'linestart') {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            else {
                                var branchNextId = this.stations[prevId].branch.right[1];
                            }
                            // var branchNextId = getParams().stn_list[prevId].branch.right[1];
                            stack.push(branchNextId);
                            curId = children.filter(stnId => stnId != branchNextId)[0];
                            break;
                    }
                    curBranch.push(curId);
                }
            }
            branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches.map(branch => {
            return branch.filter(stnId => !['linestart', 'lineend'].includes(stnId));
        });
    }
    get routes() {
        var stack = ['linestart'];
        var branches = [['linestart']];
        var branchCount = 0;
        while (stack.length) {
            var curId = stack.shift();
            var prevId = branches[branchCount].slice().reverse()[0] || null;
            if (prevId && curId !== 'linestart') {
                branches[branchCount].push(curId);
            }
            else {
                branches[branchCount] = [curId];
            }
            while (curId !== 'lineend') {
                prevId = curId;
                var children = this.stations[prevId].children;
                switch (children.length) {
                    case 1:
                        curId = children[0];
                        break;
                    case 2:
                        var branchNextId = this.stations[prevId].branch.right[1];
                        // if (branchCount === 0) {
                        if (this.stations[prevId].branch.right[0] === 'through') {
                            branches.push(branches[branchCount].slice());
                            stack.push(branchNextId);
                        }
                        else {
                            if (branchCount === 0) {
                                branches.push([prevId]);
                                stack.push(branchNextId);
                            }
                            // branches.push([prevId]);
                        }
                        // stack.push(branchNextId);
                        // }
                        curId = children.filter(stnId => stnId != branchNextId)[0];
                        break;
                }
                branches[branchCount].push(curId);
                if (prevId === this.stations[curId].branch.left[1] && this.stations[curId].branch.left[0] === 'nonthrough') {
                    break;
                }
            }
            // branches[branchCount] = curBranch;
            branchCount++;
        }
        return branches;
    }
}


/***/ }),

/***/ "./src/Line/init.ts":
/*!**************************!*\
  !*** ./src/Line/init.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Line__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line */ "./src/Line/Line.ts");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};



const getLineClass = (style) => __awaiter(void 0, void 0, void 0, function* () {
    switch (style) {
        case 'mtr':
            return Promise.resolve(_Line__WEBPACK_IMPORTED_MODULE_2__["RMGLine"]);
        // lazy loading
        case 'gzmtr':
            return __webpack_require__.e(/*! import() | LineGZ */ "LineGZ").then(__webpack_require__.bind(null, /*! ./LineGZ */ "./src/Line/LineGZ.ts"))
                .then(({ RMGLineGZ }) => RMGLineGZ);
        // any other styles
    }
});
/* harmony default export */ __webpack_exports__["default"] = (function () {
    const loadLine = (param) => __awaiter(this, void 0, void 0, function* () {
        let lineClass = yield getLineClass(window.urlParams.get('style'));
        window.myLine = yield new lineClass(param);
        lineClass.initSVG(window.myLine);
    });
    if (localStorage.rmgParam != null) {
        try {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        }
        catch (err) {
            let initErrDiag = _material_dialog__WEBPACK_IMPORTED_MODULE_1__["MDCDialog"].attachTo($('#init_err_diag')[0]);
            $('#init_err_diag')
                .find('#err_stack')
                .html(err + '<br>' + err.stack.replace(/\n/g, '<br>'));
            initErrDiag.open();
            console.error(err);
        }
    }
    else {
        $.getJSON(`templates/blank.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["updateParam"])();
            loadLine(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])());
        });
    }
});


/***/ }),

/***/ "./src/PageInitialiser/design.ts":
/*!***************************************!*\
  !*** ./src/PageInitialiser/design.ts ***!
  \***************************************/
/*! exports provided: common, mtr, gzmtr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "mtr", function() { return mtr; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gzmtr", function() { return gzmtr; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/list */ "@material/list");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_list__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/select */ "@material/select");
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_select__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material/switch */ "@material/switch");
/* harmony import */ var _material_switch__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_switch__WEBPACK_IMPORTED_MODULE_5__);






function common() {
    // mdc instances
    const designList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list')[0]);
    const [themeDialog, lineNameDialog] = ['#design_theme_diag', '#line_name_diag'].map(selector => _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($(selector)[0]));
    const [themeCitySelect, themeLineSelect] = ['#theme_city', '#theme_line'].map(selector => new _material_select__WEBPACK_IMPORTED_MODULE_3__["MDCSelect"]($(selector)[0]));
    // const themeCitySelect = new MDCSelect($('#theme_city')[0]);
    // const themeLineSelect = new MDCSelect($('#theme_line')[0]);
    const [lineNameZHTextField, lineNameENTextField] = ['#name_zh', '#name_en'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($('#line_name_diag').find(selector)[0]));
    const platformNumTextField = _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($('#platform_num')[0]);
    // helper functions
    const getDirectionText = (direc) => {
        return $('#design_list')
            .find(`li#direc p#${direc}`)
            .text();
    };
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        $('#design_list')
            .find('li#name .mdc-list-item__secondary-text')
            .text(param.line_name.join());
        lineNameZHTextField.value = param.line_name[0];
        lineNameENTextField.value = param.line_name[1];
        $('#design_list')
            .find('li#direc .mdc-list-item__secondary-text')
            .text(getDirectionText(param.direction));
        platformNumTextField.value = param.platform_num;
    });
    $.getJSON('data/city_list.json', (data) => {
        let lang = window.urlParams.get('lang');
        data.forEach(c => {
            $('#theme_city__selection').append($('<li>', {
                class: 'mdc-list-item',
                'data-value': c.id
            }).text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["countryCode2Emoji"])(c.country) + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(c.name, lang)));
        });
        var [themeCity] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().theme;
        var cityIdx = $(`#theme_city__selection > [data-value="${themeCity}"]`).index();
        themeCitySelect.selectedIndex = cityIdx;
    });
    // add event listeners
    designList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                themeDialog.open();
                break;
            case 1:
                lineNameDialog.open();
                break;
            case 2:
                if (Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().direction == 'r') {
                    console.log('right to left');
                    window.myLine.direction = 'l';
                    $('#design_list').find('li#direc .mdc-list-item__secondary-text').text(getDirectionText('l'));
                }
                else {
                    console.log('left to right');
                    window.myLine.direction = 'r';
                    $('#design_list').find('li#direc .mdc-list-item__secondary-text').text(getDirectionText('r'));
                }
                break;
            case 4:
                window.myLine.reverseStns();
                break;
        }
    });
    themeDialog.listen('MDCDialog:opened', () => {
        [themeCitySelect, themeLineSelect].map(select => select.layout());
    });
    themeCitySelect.listen("MDCSelect:change", (event) => {
        let city = event.detail.value;
        $('#theme_line__selection').empty();
        $.getJSON(`data/${city}.json`, (data) => {
            var lang = window.urlParams.get('lang');
            data.forEach(l => {
                $('#theme_line__selection').append($('<li>', {
                    class: 'mdc-list-item',
                    'data-value': l.id
                }).append($('<span>').css({
                    background: l.colour,
                    color: l.fg || '#fff'
                }).text('\u00a0' + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(l.name, lang) + '\u00a0')));
            });
            var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
            param.theme[0] = city;
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
            var lineIdx = $(`#theme_line__selection > [data-value="${param.theme[1]}"]`).index();
            themeLineSelect.selectedIndex = lineIdx == -1 ? 0 : lineIdx;
        });
    });
    themeLineSelect.listen("MDCSelect:change", (event) => {
        let lineIdx = event.detail.index;
        var param = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])();
        param.theme[1] = event.detail.value;
        Object(_utils__WEBPACK_IMPORTED_MODULE_0__["putParams"])(param);
        window.myLine.themeLine = event.detail.value;
        window.myLine.themeColour = ['background-color', 'color']
            .map(prop => $('#theme_line__selection span').eq(lineIdx).css(prop))
            .map(_utils__WEBPACK_IMPORTED_MODULE_0__["rgb2Hex"]);
        $('#design_list')
            .find('li#theme .mdc-list-item__secondary-text')
            .html($('#theme_city__selection li').eq(themeCitySelect.selectedIndex).text() +
            ' ' +
            $('#theme_line__selection li').eq(lineIdx).html().trim());
    });
    lineNameDialog.listen('MDCDialog:opened', event => {
        [lineNameZHTextField, lineNameENTextField].map(textfield => textfield.layout());
    });
    $('#line_name_diag')
        .find('.mdc-text-field')
        .on('input', () => {
        let lineNames = [lineNameZHTextField, lineNameENTextField].map(textfield => textfield.value);
        window.myLine.lineNames = lineNames;
        $('#design_list')
            .find('li#name .mdc-list-item__secondary-text')
            .text(lineNames.join());
    });
    $(platformNumTextField.root_).find('input')
        .on('input', event => window.myLine.platformNum = event.target.value);
}
function mtr() {
    // mdc instances
    const designListMTRList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list_mtr')[0]);
    const charDialog = _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($('#design_char_diag')[0]);
    const legacySwitch = new _material_switch__WEBPACK_IMPORTED_MODULE_5__["MDCSwitch"]($('#legacy')[0]);
    // helper functions
    const getCharText = (char) => {
        return $('#design_char_diag')
            .find('li')
            .filter((_, el) => el.dataset.mdcDialogAction === char)
            .find('span')
            .text();
    };
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        $('#design_list_mtr')
            .find('li#char .mdc-list-item__secondary-text')
            .text(getCharText(param.char_form));
        legacySwitch.checked = param.dest_legacy;
    });
    // add event listeners
    designListMTRList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                window.myLine.txtFlip = !Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().txt_flip;
                break;
            case 1:
                charDialog.open();
                break;
        }
    });
    charDialog.listen('MDCDialog:closed', (event) => {
        let char = event.detail.action;
        if (char == 'close') {
            return;
        }
        window.myLine.charForm = char;
        $('#design_list_mtr')
            .find('li#char .mdc-list-item__secondary-text')
            .text(getCharText(char));
    });
    $(legacySwitch.root_).find('input')
        .on('change', event => window.myLine.destLegacy = event.target.checked);
}
function gzmtr() {
    // mdc instances
    const designListGZMTRList = _material_list__WEBPACK_IMPORTED_MODULE_1__["MDCList"].attachTo($('#design_list_gzmtr')[0]);
    const panelTypeDialog = _material_dialog__WEBPACK_IMPORTED_MODULE_2__["MDCDialog"].attachTo($('#panel_type_diag')[0]);
    const [psdNumTextField, lineNumTextField] = ['#psd_num', '#line_num'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_4__["MDCTextField"].attachTo($(selector)[0]));
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        psdNumTextField.value = param.psd_num;
        lineNumTextField.value = param.line_num;
    });
    // add event listeners
    designListGZMTRList.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 1:
                panelTypeDialog.open();
                break;
        }
    });
    $(lineNumTextField.root_).find('input')
        .on('input', event => window.myLine.lineNum = event.target.value);
    $(psdNumTextField.root_).find('input')
        .on('input', event => window.myLine.psdNum = event.target.value);
    panelTypeDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action === 'close') {
            return;
        }
        window.myLine.infoPanelType = event.detail.action;
    });
}


/***/ }),

/***/ "./src/PageInitialiser/info.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/info.ts ***!
  \*************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
function common() {
    $('#panel_info .mdc-card__actions #report').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator/issues', '_blank');
    });
    $('#panel_info .mdc-card__action-icons [title="Star"]').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator', '_blank');
    });
    $('#panel_info .mdc-card__action-icons [title="Fork"]').on('click', () => {
        window.open('https://github.com/wongchito/RailMapGenerator/fork', '_blank');
    });
}


/***/ }),

/***/ "./src/PageInitialiser/init.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/init.ts ***!
  \*************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./layout */ "./src/PageInitialiser/layout.ts");
/* harmony import */ var _design__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./design */ "./src/PageInitialiser/design.ts");
/* harmony import */ var _stations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stations */ "./src/PageInitialiser/stations.ts");
/* harmony import */ var _info__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./info */ "./src/PageInitialiser/info.ts");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/tab-bar */ "@material/tab-bar");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_tab_bar__WEBPACK_IMPORTED_MODULE_4__);





/* harmony default export */ __webpack_exports__["default"] = (function () {
    let firstInit = [false, true, true, true, true];
    window.sliders = [];
    _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__["MDCTabBar"].attachTo($('#panels .mdc-tab-bar')[0]).listen('MDCTabBar:activated', (event) => {
        $('.panel--active').removeClass('panel--active');
        $('.panel').eq(event.detail.index).addClass('panel--active');
        if (event.detail.index == 1 && firstInit[1]) {
            _layout__WEBPACK_IMPORTED_MODULE_0__["common"]();
            if (window.urlParams.get('style') === 'gzmtr') {
                _layout__WEBPACK_IMPORTED_MODULE_0__["gzmtr"]();
            }
            firstInit[1] = false;
        }
        if (event.detail.index === 1) {
            window.sliders.forEach(slider => slider.layout());
        }
        if (event.detail.index == 2 && firstInit[2]) {
            _design__WEBPACK_IMPORTED_MODULE_1__["common"]();
            switch (window.urlParams.get('style')) {
                case 'mtr':
                    _design__WEBPACK_IMPORTED_MODULE_1__["mtr"]();
                    break;
                case 'gzmtr':
                    _design__WEBPACK_IMPORTED_MODULE_1__["gzmtr"]();
                    break;
            }
            firstInit[2] = false;
        }
        if (event.detail.index == 3 && firstInit[3]) {
            console.log('init again');
            _stations__WEBPACK_IMPORTED_MODULE_2__["common"]();
            firstInit[3] = false;
        }
        if (event.detail.index == 4 && firstInit[4]) {
            _info__WEBPACK_IMPORTED_MODULE_3__["common"]();
            firstInit[4] = false;
        }
    });
});


/***/ }),

/***/ "./src/PageInitialiser/layout.ts":
/*!***************************************!*\
  !*** ./src/PageInitialiser/layout.ts ***!
  \***************************************/
/*! exports provided: common, gzmtr */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "gzmtr", function() { return gzmtr; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_slider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/slider */ "@material/slider");
/* harmony import */ var _material_slider__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_slider__WEBPACK_IMPORTED_MODULE_2__);



function common() {
    // mdc instances
    const [svgDestWidthTextField, svgWidthTextField] = ['#svg_dest_width', '#svg_width'].map(selector => _material_textfield__WEBPACK_IMPORTED_MODULE_1__["MDCTextField"].attachTo($(selector)[0]));
    const [branchSpacingSlider, yPcSlider, paddingSlider] = ['#branch_spacing', '#y_pc', '#padding'].map(selector => _material_slider__WEBPACK_IMPORTED_MODULE_2__["MDCSlider"].attachTo($(selector)[0]));
    window.sliders.push(branchSpacingSlider, yPcSlider, paddingSlider);
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        svgDestWidthTextField.value = param.svg_dest_width;
        svgWidthTextField.value = param.svg_width;
        yPcSlider.value = param.y_pc;
        branchSpacingSlider.value = param.branch_spacing;
        paddingSlider.value = param.padding;
    });
    // add event listeners
    $(svgDestWidthTextField.root_).find('input')
        .on('input', event => window.myLine.svgDestWidth = Number(event.target.value));
    $(svgWidthTextField.root_).find('input')
        .on('input', event => window.myLine.svgWidth = Number(event.target.value));
    branchSpacingSlider.listen('MDCSlider:input', event => {
        window.myLine.branchSpacing = branchSpacingSlider.value;
    });
    yPcSlider.listen('MDCSlider:input', event => {
        window.myLine.yPc = Number(yPcSlider.value);
    });
    paddingSlider.listen('MDCSlider:input', event => {
        window.myLine.padding = paddingSlider.value;
    });
}
function gzmtr() {
    // mdc instances
    const [directionGZXSlider, directionGZYSlider] = ['#direction_gz_x', '#direction_gz_y']
        .map(selector => _material_slider__WEBPACK_IMPORTED_MODULE_2__["MDCSlider"].attachTo($(selector)[0]));
    window.sliders.push(directionGZXSlider, directionGZYSlider);
    // init values
    Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])())
        .then(param => {
        directionGZXSlider.value = param.direction_gz_x;
        directionGZYSlider.value = param.direction_gz_y;
    });
    // add event listeners
    directionGZXSlider.listen('MDCSlider:input', event => {
        window.myLine.directionGZX = Number(directionGZXSlider.value);
    });
    directionGZYSlider.listen('MDCSlider:input', event => {
        window.myLine.directionGZY = Number(directionGZYSlider.value);
    });
}


/***/ }),

/***/ "./src/PageInitialiser/save.ts":
/*!*************************************!*\
  !*** ./src/PageInitialiser/save.ts ***!
  \*************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _Line_Line__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Line/Line */ "./src/Line/Line.ts");
/* harmony import */ var _material_auto_init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/auto-init */ "./node_modules/@material/auto-init/index.js");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/list */ "@material/list");
/* harmony import */ var _material_list__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_list__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material/ripple */ "@material/ripple");
/* harmony import */ var _material_ripple__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_ripple__WEBPACK_IMPORTED_MODULE_5__);






function common() {
    // mdc intances 
    const [templateDialog, importDialog, exportDialog, previewDialog, styleDialog, langDialog] = ['#template_diag', '#import_diag', '#export_diag', '#preview_diag', '#style_diag', '#lang_diag']
        .map(selector => _material_dialog__WEBPACK_IMPORTED_MODULE_3__["MDCDialog"].attachTo($(selector)[0]));
    const [saveList0, saveList1] = $('#panel_save .mdc-list').map((_, el) => _material_list__WEBPACK_IMPORTED_MODULE_4__["MDCList"].attachTo(el)).get();
    saveList0.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                templateDialog.open();
                break;
            case 1:
                $('#upload_file').click();
                break;
            case 2:
                // var link = document.createElement('a');
                // var data = new Blob([localStorage.rmgParam], {type: 'application/json;charset=utf-8'});
                // var url = window.URL.createObjectURL(data);
                // link.href = url;
                // link.download = 'rmg_config.json';
                // link.click();
                // URL.revokeObjectURL(url);
                // break;
                var link = $('<a>', {
                    href: 'data:application/json;base64,' + btoa(unescape(encodeURIComponent(localStorage.rmgParam))),
                    download: 'rmg_param.json'
                });
                link[0].click();
                break;
            case 3:
                exportDialog.open();
                break;
        }
    });
    $('#panel_save .mdc-list:nth-child(2) li:first-child span:nth-child(2) span:last-child')
        .attr('trans-tag', $(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).attr('trans-tag'))
        .text($(`#style_diag [data-mdc-dialog-action="${window.urlParams.get('style')}"] span`).text());
    $('#panel_save .mdc-list:nth-child(2) li:nth-child(2) span:nth-child(2) span:last-child')
        .text($(`#lang_diag [data-mdc-dialog-action="${window.urlParams.get('lang')}"] span`).text());
    saveList1.listen('MDCList:action', (event) => {
        switch (event.detail.index) {
            case 0:
                styleDialog.open();
                break;
            case 1:
                langDialog.open();
                break;
        }
    });
    $.getJSON('templates/template_list.json', data => {
        var lang = window.urlParams.get('lang');
        data.forEach(d => {
            $('#template_diag ul').append($('<li>', {
                class: "mdc-list-item",
                'data-mdc-dialog-action': d.filename,
                'data-mdc-auto-init': 'MDCRipple'
            }).append($('<span>', { class: "mdc-list-item__text" }).text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(d.desc, lang))));
        });
        $('#template_diag li:first-child').attr('tabindex', 0);
        // autoInit();
        _material_auto_init__WEBPACK_IMPORTED_MODULE_2__["default"].register('MDCRipple', _material_ripple__WEBPACK_IMPORTED_MODULE_5__["MDCRipple"]);
    });
    templateDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        $.getJSON(`templates/${event.detail.action}.json`, data => {
            localStorage.rmgParam = JSON.stringify(data);
            location.reload(true);
        });
    });
    exportDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
                break;
            case 'svg1':
                $('#preview_diag').attr('for', 'destination');
                previewDialog.open();
                break;
            case 'svg2':
                $('#preview_diag').attr('for', 'railmap');
                previewDialog.open();
                break;
        }
    });
    $(window).on('resize', _ => {
        resizeSVGPreview();
        // $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width()-32}px;`);
    });
    const resizeSVGPreview = () => {
        var svgId = $('preview_diag').attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $('#preview_diag')
            .find('svg')
            .attr({
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        });
        $('#preview_diag')
            .find('.mdc-dialog__surface')
            .attr('style', `max-width:${MAX_WIDTH + 50}px;`);
    };
    previewDialog.listen('MDCDialog:opened', event => {
        var svgId = $(event.target).attr('for');
        var [thisSVGWidth, thisSVGHeight] = [
            svgId == 'destination' ? Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_dest_width : Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_width,
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().svg_height
        ];
        $('#preview_diag .mdc-dialog__surface').attr('style', `max-width:${$(window).width() - 32}px;`);
        var MAX_WIDTH = $(window).width() - 32 - 50;
        var MAX_HEIGHT = $(window).height() - 60 - 53 - 60;
        var scaleFactor = Math.min(MAX_WIDTH / thisSVGWidth, MAX_HEIGHT / thisSVGHeight);
        $(event.target).find('.mdc-dialog__content')
            .append($('#' + $(event.target).attr('for')).clone().attr({
            style: 'all:initial;',
            viewBox: `0 0 ${thisSVGWidth} ${thisSVGHeight}`,
            width: thisSVGWidth * scaleFactor,
            height: thisSVGHeight * scaleFactor
        }));
        $(event.target).find('svg [style="display: none;"]').remove();
    });
    previewDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action === 'close') {
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'png') {
            Object(_utils__WEBPACK_IMPORTED_MODULE_0__["test"])($(event.target).removeAttr('for').find('svg'));
            $(event.target).find('.mdc-dialog__content').empty();
            return;
        }
        if (event.detail.action === 'svg') {
            var link = document.createElement('a');
            var svgContent = $(event.target).find('.mdc-dialog__content svg').prepend($('style#svg_share').clone());
            link.href = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgContent[0].outerHTML)));
            link.download = 'rmg_export.svg';
            link.click();
            $(event.target).removeAttr('for').find('.mdc-dialog__content').empty();
        }
    });
    let importedFile;
    $('#upload_file')
        .on('change', event => {
        console.log(event.target.files[0]);
        let reader = new FileReader();
        reader.onload = function (e) {
            console.log(e.target);
            importedFile = JSON.parse(e.target.result);
            $('#import_diag')
                .find('.mdc-dialog__content')
                .html(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["describeParams"])(importedFile));
            importDialog.open();
        };
        reader.readAsText(event.target.files[0]);
    });
    importDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            $('#upload_file')[0].value = '';
            return;
        }
        _Line_Line__WEBPACK_IMPORTED_MODULE_1__["RMGLine"].clearSVG();
        localStorage.rmgParam = JSON.stringify(importedFile);
        location.reload(true);
    });
    styleDialog.listen('MDCDialog:closed', (event) => {
        switch (event.detail.action) {
            case 'close':
            case window.urlParams.get('style'):
                return;
            default:
                window.urlParams.set('style', event.detail.action);
                window.location.href = '?' + window.urlParams.toString();
        }
    });
    langDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var nextLang = event.detail.action;
        localStorage.rmgLang = nextLang;
        if (nextLang == window.urlParams.get('lang')) {
            return;
        }
        else {
            window.urlParams.set('lang', nextLang);
            window.location.href = '?' + window.urlParams.toString();
        }
    });
}


/***/ }),

/***/ "./src/PageInitialiser/stations.ts":
/*!*****************************************!*\
  !*** ./src/PageInitialiser/stations.ts ***!
  \*****************************************/
/*! exports provided: common */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "common", function() { return common; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/dialog */ "@material/dialog");
/* harmony import */ var _material_dialog__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_material_dialog__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/select */ "@material/select");
/* harmony import */ var _material_select__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_material_select__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @material/textfield */ "@material/textfield");
/* harmony import */ var _material_textfield__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_material_textfield__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @material/tab-bar */ "@material/tab-bar");
/* harmony import */ var _material_tab_bar__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_material_tab_bar__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _material_icon_button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @material/icon-button */ "@material/icon-button");
/* harmony import */ var _material_icon_button__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_material_icon_button__WEBPACK_IMPORTED_MODULE_5__);







const getStationCard = (id, names, num) => {
    return $('<div>', {
        id: id,
        class: 'mdc-card mdc-layout-grid__cell--span-2-desktop mdc-layout-grid__cell--span-4-tablet mdc-layout-grid__cell--span-2-phone station-card'
    })
        .append($('<div>', { class: 'mdc-card__primary-action' })
        .append($('<div>', { class: 'mdc-card__media mdc-card__media--16-9' }))
        .append($('<div>', { class: 'mdc-card__media-content station-card__content' })
        .html(names.join('<br>'))
        .prepend($('<span>')
        .css('display', window.urlParams.get('style') === 'gzmtr' ? 'inline' : 'none')
        .text(num + '\u00a0'))))
        .append($('<div>', { class: 'mdc-card__actions' })
        .append($('<div>', { class: 'mdc-card__action-icons' })
        .append($('<button>', {
        title: 'Set As Current',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('my_location'))
        .append($('<button>', {
        title: 'Interchange',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('edit'))
        .append($('<button>', {
        title: 'Remove',
        class: 'material-icons mdc-icon-button mdc-card__action mdc-card__action--icon'
    })
        .text('delete_forever'))));
};
function common() {
    // Duplicate element
    var intNameEl = $('#stn_transfer_diag .mdc-layout-grid__inner #int_name_zh,#int_name_en').slice(0, 2).clone();
    intNameEl.find('.mdc-text-field').removeAttr('data-mdc-auto-init-state'); // to be removed
    $('div#int_line').slice(1, 3).after(intNameEl);
    // mdc instances
    const [stnAddDialog, stnModifyDialog, stnTransferDialog, stnDeleteDialog, stnDeleteErrDialog] = ['#stn_add_diag', '#stn_modify_diag', '#stn_transfer_diag', '#stn_delete_diag', '#stn_delete_err']
        .map(selector => new _material_dialog__WEBPACK_IMPORTED_MODULE_1__["MDCDialog"]($(selector)[0]));
    const [stnAddPrepSelect, stnAddPivotSelect, stnAddLocSelect, stnAddEndSelect] = ['#prep', '#pivot', '#loc', '#end'].map(selector => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($('#stn_add_diag').find(selector)[0]));
    const stnModifyNameFields = ['#name_zh', '#name_en'].map(selector => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_modify_diag').find(selector)[0]));
    const stnModifyNumField = new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_modify_diag #stn_num')[0]);
    const stnTransferTabBar = new _material_tab_bar__WEBPACK_IMPORTED_MODULE_4__["MDCTabBar"]($('#stn_transfer_diag .mdc-tab-bar')[0]);
    const changeTypeSelect = new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($('#change_type')[0]);
    const intCitySelects = $('#int_city .mdc-select').map((_, el) => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"](el)).get();
    const intLineSelects = $('#int_line .mdc-select').map((_, el) => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"](el)).get();
    const intNameFields = ['zh', 'en']
        .map(lang => $(`div#int_name_${lang}`).find('.mdc-text-field').map((_, el) => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"](el)).get());
    const stnOSINameFields = ['zh', 'en'].map(lang => new _material_textfield__WEBPACK_IMPORTED_MODULE_3__["MDCTextField"]($('#stn_transfer_diag').find(`#osi_name_${lang}`)[0]));
    const [tickDirecToggle, paidAreaToggle] = ['#tick_direc', '#paid_area'].map(selector => new _material_icon_button__WEBPACK_IMPORTED_MODULE_5__["MDCIconButtonToggle"]($('#stn_transfer_diag').find(selector)[0]));
    const [throughSelects, firstSelects, posSelects] = ['through', 'first', 'pos']
        .map(selector => ['left', 'right'].map(direc => new _material_select__WEBPACK_IMPORTED_MODULE_2__["MDCSelect"]($(`#${direc}_${selector}`)[0])));
    var stnList = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list;
    window.myLine.tpo.forEach(stnId => {
        $('#panel_stations .mdc-layout-grid__inner:first').append(getStationCard(stnId, stnList[stnId].name, stnList[stnId].num));
        $('#pivot__selection').append($('<li>', { 'data-value': stnId }).addClass('mdc-list-item').text(stnList[stnId].name.join()));
    });
    $('#panel_stations .mdc-card__primary-action').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        if (stnId == 'add_stn') {
            return;
        }
        $('#stn_modify_diag').attr('for', stnId);
        stnModifyDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Add"]').on('click', event => {
        stnAddDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Set As Current"]').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        window.myLine.currentStnId = stnId;
    });
    $('#panel_stations .mdc-card__action-icons > [title="Interchange"]').on('click', event => {
        $('#stn_transfer_diag').attr('for', event.target.closest('.mdc-card').id);
        stnTransferDialog.open();
    });
    $('#panel_stations .mdc-card__action-icons > [title="Remove"]').on('click', event => {
        var stnId = event.target.closest('.mdc-card').id;
        $('#stn_delete_diag').attr('for', stnId);
        stnDeleteDialog.open();
    });
    // Addition
    stnAddDialog.listen('MDCDialog:opening', () => {
        stnAddPivotSelect.selectedIndex = 0;
    });
    stnAddDialog.listen('MDCDialog:opened', () => {
        [stnAddPrepSelect, stnAddPivotSelect, stnAddLocSelect].forEach(select => select.layout());
    });
    stnAddDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var prep = stnAddPrepSelect.value;
        var stnId = stnAddPivotSelect.value;
        var loc = stnAddLocSelect.value;
        var end = stnAddEndSelect.value;
        var [newId, newInfo] = window.myLine.addStn(prep, stnId, loc, end);
        console.log(prep, stnId, loc, end);
        // _genStnList();
        var prevId = window.myLine.tpo[window.myLine.tpo.indexOf(newId) - 1] || 'add_stn';
        $(`#panel_stations .mdc-layout-grid__inner:first #${prevId}`).after(getStationCard(newId, newInfo.name, newInfo.num));
        // Add event listeners
        $(`#panel_stations #${newId} .mdc-card__primary-action`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            if (stnId == 'add_stn') {
                return;
            }
            $('#stn_modify_diag').attr('for', stnId);
            stnModifyDialog.open();
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Set As Current"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            window.myLine.currentStnId = stnId;
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Interchange"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            $('#stn_transfer_diag').attr('for', stnId);
            stnTransferDialog.open();
        });
        $(`#panel_stations #${newId} .mdc-card__action-icons > [title="Remove"]`).on('click', event => {
            var stnId = event.target.closest('.mdc-card').id;
            $('#stn_delete_diag').attr('for', stnId);
            stnDeleteDialog.open();
        });
        var listElem = $('<li>', {
            'data-value': newId, 'class': 'mdc-list-item'
        }).text(newInfo.name.join(' - '));
        if (prevId == 'add_stn') {
            $('#pivot__selection').prepend(listElem);
        }
        else {
            $(`#pivot__selection [data-value="${prevId}"`).after(listElem);
        }
        // Trigger station name modification
        $('#stn_modify_diag').attr('for', newId);
        stnModifyDialog.open();
    });
    stnAddPrepSelect.listen('MDCSelect:change', event => {
        $('#stn_add_diag #pivot')[0].dispatchEvent(new Event('MDCSelect:change'));
    });
    stnAddPivotSelect.listen('MDCSelect:change', event => {
        var prep = stnAddPrepSelect.value;
        var stnId = stnAddPivotSelect.value;
        var stnList = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list;
        for (let [idx, state] of window.myLine.newStnPossibleLoc(prep, stnId).entries()) {
            if (state === 1 || state.length) {
                $('#loc__selection li').eq(idx).show();
                if (idx >= 3) {
                    // newupper or newlower
                    $('#end__selection').empty();
                    state.forEach(stnId => {
                        $('#end__selection').append($('<li>', { class: 'mdc-list-item', 'data-value': stnId }).text(stnList[stnId].name.join(' - ')));
                    });
                }
            }
            else {
                $('#loc__selection li').eq(idx).hide();
            }
        }
        // stnAddLocSelect.value = $('#loc__selection li:not([style="display: none;"]):first').attr('data-value');
        stnAddLocSelect.value = Array
            .from(document.querySelectorAll('#loc__selection li'))
            .filter(el => el.style.display !== 'none')[0]
            .dataset.value;
    });
    stnAddLocSelect.listen('MDCSelect:change', (event) => {
        if (['newupper', 'newlower'].includes(event.detail.value)) {
            // $('#stn_add_diag #new_branch').show();
            $('#stn_add_diag [new-branch]').show();
            stnAddEndSelect.selectedIndex = 0;
        }
        else {
            // $('#stn_add_diag #new_branch').hide();
            $('#stn_add_diag [new-branch]').hide();
        }
    });
    // Modification (Name)
    stnModifyDialog.listen('MDCDialog:opening', event => {
        var stnId = $(event.target).attr('for');
        Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list)
            .then(stnList => {
            stnModifyNameFields.forEach((textfield, i) => textfield.value = stnList[stnId].name[i]);
            stnModifyNumField.value = stnList[stnId].num;
        });
    });
    stnModifyDialog.listen('MDCDialog:opened', () => {
        stnModifyNameFields.map(textfield => textfield.layout());
        stnModifyNumField.layout();
    });
    $('#stn_modify_diag').find('#name_zh, #name_en, #stn_num').on('input', () => {
        let names = stnModifyNameFields.map(textfield => textfield.value);
        var stnNum = stnModifyNumField.value;
        var stnId = $('#stn_modify_diag').attr('for');
        window.myLine.updateStnName(stnId, names, stnNum);
        $(`#panel_stations .mdc-layout-grid__inner:first #${stnId} .mdc-card__media-content`)
            .html(names.join('<br>'))
            .prepend($('<span>', { style: (window.urlParams.get('style') == 'gzmtr' ? '' : 'display:none;') }).text(stnNum + ' '));
        $(`li[data-value="${stnId}`).text(names.join());
    });
    // Modification (Interchange)
    const focusInterchange = () => {
        changeTypeSelect.layout();
        intCitySelects.forEach(select => select.layout());
        intLineSelects.forEach(select => select.layout());
        intNameFields.flat().forEach(textfield => textfield.layout());
        stnOSINameFields.forEach(textfield => textfield.layout());
    };
    const focusBranch = () => {
        [...throughSelects, ...firstSelects, ...posSelects]
            .map(select => select.layout());
    };
    const initBranch = (stnInfo) => {
        // through type
        ['left', 'right'].forEach(direc => {
            let throughType = stnInfo.branch[direc][0];
            if (throughType) {
                throughSelects[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direc]].value = throughType;
                $(`#${direc}_through__selection [data-value="na"]`).hide();
                $(`#${direc}_through__selection [data-value="through"]`).show();
                $(`#${direc}_through__selection [data-value="nonthrough"]`).show();
                $(`[${direc}-first-group], [${direc}-pos-group]`).show();
            }
            else {
                throughSelects[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][direc]].value = 'na';
                $(`#${direc}_through__selection [data-value="na"]`).show();
                $(`#${direc}_through__selection [data-value="through"]`).hide();
                $(`#${direc}_through__selection [data-value="nonthrough"]`).hide();
                $(`[${direc}-first-group], [${direc}-pos-group]`).hide();
            }
        });
        // first station
        $('#left_first__selection, #right_first__selection').empty();
        Promise.resolve(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list)
            .then(stnList => {
            [0, 1].forEach(i => {
                stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][i]]
                    .forEach(ne => {
                    $(`#${_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][i]}_first__selection`)
                        .append($('<li>', { class: 'mdc-list-item', 'data-value': ne })
                        .text(stnList[ne].name.join()));
                });
            });
        })
            .then(() => {
            throughSelects.forEach((select, idx) => {
                firstSelects[idx].selectedIndex =
                    select.value !== 'na' ?
                        stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][idx]].indexOf(stnInfo.branch[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][idx]][1]) :
                        0;
            });
        });
        // swap position
        posSelects.forEach((select, i) => {
            select.selectedIndex = stnInfo[_utils__WEBPACK_IMPORTED_MODULE_0__["NeighbourPl"][i]].indexOf(stnInfo.branch[_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][i]][1]);
        });
    };
    stnTransferTabBar.listen('MDCTabBar:activated', (event) => {
        switch (event.detail.index) {
            case 0:
                $('#panel_interchange').show();
                $('#panel_branch').hide();
                focusInterchange();
                break;
            case 1:
                $('#panel_interchange').hide();
                $('#panel_branch').show();
                focusBranch();
        }
    });
    // autoInit();
    $.getJSON('data/city_list.json', data => {
        var lang = window.urlParams.get('lang');
        data.forEach(c => {
            $('#int_city__selection.mdc-list').each((_, el) => {
                $(el).append($('<li>', { class: 'mdc-list-item', 'data-value': c.id })
                    .text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["countryCode2Emoji"])(c.country) + Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(c.name, lang)));
            });
        });
    });
    function _showAllFields(n, show) {
        if (show) {
            $('#int_city, #int_line, #int_name_zh, #int_name_en').slice(n * 4, (n + 1) * 4).show();
            intCitySelects[n].layout();
            intLineSelects[n].layout();
            intNameFields.map(fields => fields[n].layout());
        }
        else {
            $('#int_city, #int_line, #int_name_zh, #int_name_en').slice(n * 4, (n + 1) * 4).hide();
        }
    }
    stnTransferDialog.listen('MDCDialog:opening', event => {
        var stnId = $(event.target).attr('for');
        var stnInfo = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId];
        let lineThemeCity = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().theme[0];
        changeTypeSelect.value = stnInfo.change_type.split('_')[0];
        if (stnInfo.change_type !== 'none') {
            var allInterchanges = stnInfo.interchange[0].concat(stnInfo.interchange[1] ? stnInfo.interchange[1].slice(1, stnInfo.interchange[1].length) : []);
            if (allInterchanges.length < 3) {
                allInterchanges.unshift([, , , , , ,]);
            }
            if (allInterchanges.length < 3) {
                allInterchanges.push([, , , , , ,]);
            }
            console.log(allInterchanges);
            allInterchanges.forEach((intInfo, idx) => {
                let cIdx = $('#int_city__selection.mdc-list').eq(0).find(`[data-value="${intInfo[0] || lineThemeCity}"]`).index();
                intCitySelects[idx].selectedIndex = cIdx;
                intNameFields.forEach((fields, i) => fields[idx].value = intInfo[4 + i] || '');
            });
        }
        else {
            let cIdx = $('#int_city__selection.mdc-list').eq(0).find(`[data-value="${lineThemeCity}"]`).index();
            intCitySelects.forEach(select => select.selectedIndex = cIdx);
            intNameFields.flat().forEach(textfield => textfield.value = '');
        }
        if (['none', 'int2'].includes(stnInfo.change_type.split('_')[0])) {
            tickDirecToggle.on = true;
        }
        else {
            tickDirecToggle.on = (stnInfo.change_type.slice(-1) == 'r');
        }
        if (stnInfo.change_type.substring(0, 3) == 'osi') {
            stnOSINameFields.forEach((textfield, i) => textfield.value = stnInfo.interchange[1][0][i]);
            paidAreaToggle.on = (stnInfo.change_type.split('_').reverse()[0][0] == 'p');
        }
        else {
            stnOSINameFields.forEach(textfield => textfield.value = '');
            paidAreaToggle.on = true;
        }
        // Branch
        initBranch(stnInfo);
    });
    stnTransferDialog.listen('MDCDialog:opened', event => {
        focusInterchange();
        focusBranch();
    });
    stnTransferDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        // var stnId = $('#panel_stations #selected_stn').attr('stn');
        var stnId = event.target.getAttribute('for');
        var type = changeTypeSelect.value;
        var tickDirec = tickDirecToggle.on ? 'r' : 'l';
        let osi = stnOSINameFields.map(textfield => textfield.value);
        var osiPaidArea = paidAreaToggle.on ? 'p' : 'u';
        var [intInfo0, intInfo1, intInfo2] = [0, 1, 2].map(idx => {
            return [intCitySelects[idx].value, intLineSelects[idx].value]
                .concat($('ul#int_line__selection').eq(idx).find('li span')
                .eq(intLineSelects[idx].selectedIndex)
                .attr('style').match(/#[\w\d]+/g), ...intNameFields.map(fields => fields[idx].value));
        });
        if (type == 'none') {
            window.myLine.updateStnTransfer(stnId, type);
        }
        else if (type == 'osi22') {
            window.myLine.updateStnTransfer(stnId, `${type}_${osiPaidArea}${tickDirec}`, [[intInfo0], [osi, intInfo1, intInfo2]]);
        }
        else {
            switch (type) {
                case 'int2':
                    // window.myLine.updateStnTransfer(stnId, type, [[], intInfo1, []]);
                    window.myLine.updateStnTransfer(stnId, type, [[intInfo1]]);
                    break;
                case 'osi11':
                    // window.myLine.updateStnTransfer(stnId, `${type}_${osiPaidArea}${tickDirec}`, [osi, intInfo1, []]);
                    window.myLine.updateStnTransfer(stnId, `${type}_${osiPaidArea}${tickDirec}`, [[], [osi, intInfo1]]);
                    break;
                default:
                    switch (type) {
                        case 'int3':
                            // window.myLine.updateStnTransfer(stnId, `${type}_${tickDirec}`, [[], intInfo1, intInfo2]);
                            window.myLine.updateStnTransfer(stnId, `${type}_${tickDirec}`, [[intInfo1, intInfo2]]);
                            break;
                        case 'osi12':
                            // window.myLine.updateStnTransfer(stnId, `${type}_${osiPaidArea}${tickDirec}`, [osi, intInfo1, intInfo2]);
                            window.myLine.updateStnTransfer(stnId, `${type}_${osiPaidArea}${tickDirec}`, [[], [osi, intInfo1, intInfo2]]);
                    }
            }
        }
    });
    changeTypeSelect.listen('MDCSelect:change', (event) => {
        if (event.detail.value == 'int2') {
            _showAllFields(0, false);
            _showAllFields(1, true);
            _showAllFields(2, false);
            $('#stn_transfer_diag #tick_direc').hide();
            $('#osi_name_zh, #osi_name_en, #paid_area').hide();
        }
        else if (event.detail.value == 'int3') {
            _showAllFields(0, false);
            _showAllFields(1, true);
            _showAllFields(2, true);
            $('#stn_transfer_diag #tick_direc').show();
            $('#osi_name_zh, #osi_name_en, #paid_area').hide();
        }
        else if (event.detail.value == 'osi11') {
            _showAllFields(0, false);
            _showAllFields(1, true);
            _showAllFields(2, false);
            $('#stn_transfer_diag #tick_direc').show();
            $('#osi_name_zh, #osi_name_en, #paid_area').show();
        }
        else if (event.detail.value == 'osi12') {
            _showAllFields(0, false);
            _showAllFields(1, true);
            _showAllFields(2, true);
            $('#stn_transfer_diag #tick_direc').show();
            $('#osi_name_zh, #osi_name_en, #paid_area').show();
        }
        else if (event.detail.value == 'osi22') {
            // $('#stn_transfer_diag .mdc-dialog__content [id]div, #paid_area').slice(1).show()
            _showAllFields(0, true);
            _showAllFields(1, true);
            _showAllFields(2, true);
            let stnInfo = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[$('#stn_transfer_diag').attr('for')];
            if (stnInfo.parents[0] == 'linestart' || stnInfo.children[0] == 'lineend') {
                $('#tick_direc').hide();
            }
            else {
                $('#tick_direc').show();
            }
        }
        else {
            $('#stn_transfer_diag #panel_interchange [id]div').slice(1).hide();
            $('#tick_direc, #paid_area').hide();
        }
    });
    intCitySelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if (event.detail.index === -1) {
                return;
            }
            $.getJSON(`data/${event.detail.value}.json`, data => {
                var lang = window.urlParams.get('lang');
                $('#int_line__selection.mdc-list').eq(idx).empty();
                data.forEach(l => {
                    $('#int_line__selection.mdc-list').eq(idx).append(`<li class="mdc-list-item" data-value="${l.id}">
                        <span style="background:${l.colour};color:${l.fg || '#fff'};">&nbsp;${Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getTransText"])(l.name, lang)}&nbsp;</span>
                        </li>`);
                });
                var stnId = $('#stn_transfer_diag').attr('for');
                var stnInfo = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId];
                if (stnInfo.change_type !== 'none') {
                    var allInterchanges = stnInfo.interchange[0].concat(stnInfo.interchange[1] ? stnInfo.interchange[1].slice(1, stnInfo.interchange[1].length) : []);
                    if (allInterchanges.length < 3) {
                        allInterchanges.unshift([, , , , , ,]);
                    }
                    if (allInterchanges.length < 3) {
                        allInterchanges.push([, , , , , ,]);
                    }
                    var lIdx = $('#int_line__selection.mdc-list').eq(idx).find(`[data-value="${allInterchanges[idx][1]}"]`).index();
                    intLineSelects[idx].selectedIndex = (lIdx == -1) ? 0 : lIdx;
                }
                else {
                    intLineSelects[idx].selectedIndex = 0;
                }
            });
        });
    });
    // Modification (Branch)
    throughSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if (event.detail.value === 'na') {
                return;
            }
            let stnId = $('#stn_transfer_diag').attr('for');
            window.myLine.updateBranchType(stnId, idx, event.detail.value);
        });
    });
    firstSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if ($(`#${_utils__WEBPACK_IMPORTED_MODULE_0__["DirectionLong"][idx]}_first__selection`).children().length === 1) {
                return;
            }
            let stnId = $('#stn_transfer_diag').attr('for');
            if (window.myLine.updateBranchFirst(stnId, idx, event.detail.value)) {
                posSelects[idx].selectedIndex = posSelects[idx].selectedIndex === 0 ? 1 : 0;
            }
        });
    });
    posSelects.forEach((select, idx) => {
        select.listen('MDCSelect:change', (event) => {
            if (throughSelects[idx].value === 'na') {
                return;
            }
            let stnId = $('#stn_transfer_diag').attr('for');
            window.myLine.updateBranchPos(stnId, idx, event.detail.index);
        });
    });
    // Deletion
    stnDeleteDialog.listen('MDCDialog:opening', event => {
        var stnId = $(event.target).attr('for');
        $('#stn_delete_diag #err_stn').text(Object(_utils__WEBPACK_IMPORTED_MODULE_0__["getParams"])().stn_list[stnId].name.join(' - '));
    });
    stnDeleteDialog.listen('MDCDialog:closed', (event) => {
        if (event.detail.action == 'close') {
            return;
        }
        var stnId = $(event.target).attr('for');
        // Remove from data and svg
        if (window.myLine.removeStn(stnId)) {
            // Remove station from selection
            $(`#panel_stations .mdc-layout-grid__inner #${stnId}`).remove();
            $(`#pivot__selection [data-value="${stnId}"]`).remove();
        }
        else {
            stnDeleteErrDialog.open();
        }
    });
}


/***/ }),

/***/ "./src/Station/Station.ts":
/*!********************************!*\
  !*** ./src/Station/Station.ts ***!
  \********************************/
/*! exports provided: IntInfoTag, RMGStation, Int2Station, Int3LStation, Int3RStation, OSI11LStation, OSI11RStation, OSI12LStation, OSI12RStation, OSI22LStation, OSI22RStation, OSI22EndStation */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "IntInfoTag", function() { return IntInfoTag; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RMGStation", function() { return RMGStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int2Station", function() { return Int2Station; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int3LStation", function() { return Int3LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Int3RStation", function() { return Int3RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI11LStation", function() { return OSI11LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI11RStation", function() { return OSI11RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI12LStation", function() { return OSI12LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI12RStation", function() { return OSI12RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22LStation", function() { return OSI22LStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22RStation", function() { return OSI22RStation; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OSI22EndStation", function() { return OSI22EndStation; });
/* harmony import */ var _utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils */ "./src/utils.ts");

var IntInfoTag;
(function (IntInfoTag) {
    IntInfoTag[IntInfoTag["city"] = 0] = "city";
    IntInfoTag[IntInfoTag["line"] = 1] = "line";
    IntInfoTag[IntInfoTag["colour"] = 2] = "colour";
    IntInfoTag[IntInfoTag["fg"] = 3] = "fg";
    IntInfoTag[IntInfoTag["nameZH"] = 4] = "nameZH";
    IntInfoTag[IntInfoTag["nameEN"] = 5] = "nameEN";
})(IntInfoTag || (IntInfoTag = {}));
;
class RMGStation {
    constructor(id, data) {
        this.STN_NAME_Y = -10.5;
        this.STN_NAME_BASE_HEIGHT = 30.390625;
        this.STN_NAME_LINE_GAP = 14;
        this.STN_NAME_BG_ADJUST = 0.5;
        this.id = id;
        this.parents = data.parents;
        this.children = data.children;
        this.name = data.name;
        this.branch = data.branch;
    }
    get inDegree() { return this.parents.length; }
    get outDegree() { return this.children.length; }
    get nameClass() {
        switch (this.state) {
            case -1:
                return 'Pass';
            case 0:
                return 'Current';
            default:
                return 'Future';
        }
    }
    get _nameTxtAnchor() { return 'middle'; }
    get _nameDX() { return 0; }
    get _nameDY() { return 0; }
    get nameHTML() {
        var nameENs = this.name[1].split('\\');
        if (this.namePos == 1) {
            var dy = this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BG_ADJUST;
        }
        else {
            var dy = -this.STN_NAME_LINE_GAP - this.STN_NAME_Y - this.STN_NAME_BASE_HEIGHT - (nameENs.length - 1) * 10;
        }
        // dy -= this.STN_NAME_BG_ADJUST;
        if (this.state === 0) {
            $('#current_bg').attr({
                y: this.y + dy + this.STN_NAME_Y - 1.5 + this._nameDY,
                height: this.STN_NAME_BASE_HEIGHT + (nameENs.length - 1) * 10 + 2 + 1.5
            });
        }
        var nameENp = nameENs.shift();
        var nameENElem = $('<text>', {
            dy: 15, class: 'rmg-name__en rmg-name__mtr--station'
        }).text(nameENp);
        while (nameENp = nameENs.shift()) {
            nameENElem.append($('<tspan>', { x: 0, dy: 10, 'alignment-baseline': 'middle' }).text(nameENp));
        }
        return $('<g>', {
            transform: `translate(${this.x + this._nameDX},${this.y + dy + this._nameDY})`,
            'text-anchor': this._nameTxtAnchor,
            'class': `Name ${this.nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--station').text(this.name[0])).append(nameENElem);
    }
    get iconClass() { return this.state == -1 ? 'rmg-stn__mtr--pass' : 'rmg-stn__mtr--future'; }
    get iconHTML() {
        return $('<use>', {
            'xlink:href': '#stn_hk',
            x: this.x, y: this.y,
            class: this.iconClass
        });
    }
    get ungrpHTML() {
        return [this.iconHTML, this.nameHTML];
    }
    get html() {
        return $('<g>', { id: this.id }).append(...this.ungrpHTML);
    }
}
class Int2Station extends RMGStation {
    constructor(id, data) {
        super(id, data);
        this._intInfo = data.interchange[0][0];
    }
    get _dy() { return 0; }
    get intTickHTML() {
        var tickRotation = (this.namePos == 1) ? 180 : 0;
        var tickColour = this._intInfo[IntInfoTag.colour];
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y + this._dy})rotate(${tickRotation})`,
            class: 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get _nameClass() {
        return (this.state == -1) ? 'Pass' : 'Future';
    }
    get intNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._intInfo[IntInfoTag.nameZH], this._intInfo[IntInfoTag.nameEN]], 15, 7);
        var dy = (this.namePos == 0) ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': 'middle',
            'transform': `translate(${this.x},${this.y + dy})`,
            'class': `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML];
    }
}
class Int3Station extends RMGStation {
    // _int3Type;
    constructor(id, data) {
        super(id, data);
        this._intCity = [];
        this._intLine = [];
        this._intColour = [];
        this._intNameZH = [];
        this._intNameEN = [];
        this._intInfos = data.interchange[0];
        data.interchange[0].forEach(intInfo => {
            this._intCity.push(intInfo[0]);
            this._intLine.push(intInfo[1]);
            this._intColour.push(intInfo[2]);
            this._intNameZH.push(intInfo[4]);
            this._intNameEN.push(intInfo[5]);
        });
        // this._int3Type = data.change_type.substring(5);
    }
    get iconHTML() {
        let iconRotation = (this.namePos != 1) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#int3_hk',
            transform: `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: this.iconClass
        });
    }
    get _tickRotation() { return 0; }
    get _dy() { return 0; }
    get _dx() { return 0; }
    get _tickFlip() { return 1; }
    get intTickHTML() {
        let elems = [];
        this._intInfos
            .map(info => info[IntInfoTag.colour])
            .forEach((c, i) => {
            if (i >= 2) {
                return;
            }
            let tickColour = (this.state === -1) ? '#aaa' : c;
            let dy = (this.namePos !== 1) ? 18 * (i + 1) : -18 * (2 - i);
            dy += this._dy;
            dy *= this._tickFlip;
            elems.push($('<use>', {
                'xlink:href': '#inttick_hk',
                stroke: tickColour,
                transform: `translate(${this.x + this._dx},${this.y + dy})rotate(${this._tickRotation})`,
                class: 'rmg-line rmg-line__mtr rmg-line__change'
            }));
        });
        return elems;
    }
    get _txtAnchor() { return 'middle'; }
    get _intNameDX() { return 0; }
    get _nameClass() { return (this.state == -1) ? 'Pass' : 'Future'; }
    get intNameHTML() {
        // var str = '';
        let elems = [];
        let nameClass = this._nameClass;
        this._intInfos
            .map(info => [info[IntInfoTag.nameZH], info[IntInfoTag.nameEN]])
            .forEach((names, i) => {
            if (i >= 2) {
                return;
            }
            let [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])(names, 15, 7);
            var dy = (this.namePos === 0) ? 18 * (i + 1) : -18 * (2 - i);
            dy += this._dy;
            dy *= this._tickFlip;
            dy += 5.953125 - (19.65625 + 13 * (nameZHLn - 1) + 7 * (nameENLn - 1)) / 2;
            elems.push($('<g>', {
                'text-anchor': this._txtAnchor,
                transform: `translate(${this.x + this._intNameDX},${this.y + dy})`,
                class: 'Name ' + nameClass
            }).html(nameHTML[0]));
        });
        return elems;
    }
    get ungrpHTML() {
        return [...this.intTickHTML, this.iconHTML, this.nameHTML, ...this.intNameHTML];
    }
}
class Int3LStation extends Int3Station {
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
}
class Int3RStation extends Int3Station {
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
}
class OSI11Station extends Int2Station {
    constructor(id, data) {
        // data.int2 = data.osi11;
        data.interchange[0].push(data.interchange[1][1]);
        super(id, data);
        this._osiNames = data.interchange[1][0];
        this._osiType = data.change_type.substring(6, 7); // u(npaid) or p(aid);
    }
    get osiClass() { return this._osiType == 'u' ? 'rmg-stn__mtr--unpaid-osi' : 'rmg-stn__mtr--paid-osi'; }
    get iconHTML() {
        var iconRotation = (this.namePos != 1) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi11_hk',
            'transform': `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _dy() { return (this.namePos == 0) ? 26 : -26; }
    get _txtAnchor() { return 'middle'; }
    get _osiNameDX() { return 0; }
    get osiNameHTML() {
        var dy = this._dy + 8.34375 - 25.03125 / 2;
        return $('<g>', {
            'text-anchor': this._txtAnchor,
            'transform': `translate(${this.x + this._osiNameDX},${this.y + dy})`,
            'class': 'Name ' + this._nameClass
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            'x': 0, 'dy': 12, 'class': 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1]));
    }
    get ungrpHTML() {
        return [this.intTickHTML, this.iconHTML, this.nameHTML, this.intNameHTML, this.osiNameHTML];
    }
}
class OSI11LStation extends OSI11Station {
    // OSI name on left
    get _txtAnchor() { return 'end'; }
    get _osiNameDX() { return -13; }
}
class OSI11RStation extends OSI11Station {
    // OSI name on right
    get _txtAnchor() { return 'start'; }
    get _osiNameDX() { return 13; }
}
class OSI12Station extends Int3Station {
    constructor(id, data) {
        // data.int3 = data.osi12;
        data.interchange[0].unshift(...data.interchange[1].slice(1, 3));
        super(id, data);
        this._osiNames = data.interchange[1][0];
        this._osiType = data.change_type.split('_').reverse()[0][0];
    }
    get osiClass() { return this._osiType == 'u' ? 'rmg-stn__mtr--unpaid-osi' : 'rmg-stn__mtr--paid-osi'; }
    get iconHTML() {
        var iconRotation = (this.namePos != 1) ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi12_hk',
            transform: `translate(${this.x},${this.y})rotate(${iconRotation})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _dy() { return (this.namePos == 0) ? (26 - 18) : -8; }
    get _osiDY() { return (this.namePos == 0) ? (26 + 18 + 10) + 8.34375 : -(26 + 18 + 10) + 8.34375 - 25.03125; }
    get _osiTxtAnchor() { return 'middle'; }
    get _osiDX() { return 0; }
    get osiNameHTML() {
        var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': this._osiTxtAnchor,
            'transform': `translate(${this.x + this._dx + this._osiDX},${this.y + this._osiDY})`,
            'class': `Name ${nameClass}`
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            'x': 0, 'dy': 12, 'class': 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1].split('\\')[0]).append($('<tspan>', { x: 0, dy: 10 }).text(this._osiNames[1].split('\\')[1] || '')));
    }
    get ungrpHTML() {
        return [...this.intTickHTML, this.iconHTML, this.nameHTML, ...this.intNameHTML, this.osiNameHTML];
    }
}
class OSI12LStation extends OSI12Station {
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
}
class OSI12RStation extends OSI12Station {
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
}
class OSI22Station extends OSI12Station {
    constructor(id, data) {
        super(id, data);
        // data mutated by OSI12Station!!!
        this._origIntInfo = data.interchange[0][2];
    }
    get _nameTxtAnchor() { return this._osiTxtAnchor; }
    get _nameDY() {
        return (this.namePos === 1) ? 11.515625 : -11.515625;
    }
    get origIntTickHTML() {
        var tickRotation = (this.namePos == 1) ? 0 : 180;
        var tickColour = this._origIntInfo[IntInfoTag.colour];
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y})rotate(${tickRotation})`,
            'class': 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get origIntNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._origIntInfo[IntInfoTag.nameZH], this._origIntInfo[IntInfoTag.nameEN]], 15, 7);
        var dy = (this.namePos == 1) ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        // dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': this._txtAnchor,
            transform: `translate(${this.x - this._nameDX},${this.y + dy})`,
            class: `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get _osiNameDX() { return 0; }
    get osiNameHTML() {
        var dy = this._dy - (this.namePos === 1 ? 18 + 9 : -27) + 8.34375 - 25.03125 / 2;
        return $('<g>', {
            'text-anchor': this._osiTxtAnchor,
            transform: `translate(${this.x + this._osiNameDX},${this.y + dy})`,
            class: 'Name ' + this._nameClass
        }).append($('<text>').addClass('rmg-name__zh rmg-name__mtr--osi').text(this._osiNames[0])).append($('<text>', {
            x: 0, dy: 12, class: 'rmg-name__en rmg-name__mtr--osi'
        }).text(this._osiNames[1]));
    }
    get ungrpHTML() {
        return [
            ...this.intTickHTML, this.origIntTickHTML,
            this.iconHTML, this.nameHTML,
            ...this.intNameHTML, this.origIntNameHTML, this.osiNameHTML
        ];
    }
}
class OSI22LStation extends OSI22Station {
    get _nameDX() { return 3; }
    get _tickRotation() { return 90; }
    get _txtAnchor() { return 'end'; }
    get _intNameDX() { return -24; }
    get _osiNameDX() { return 13; }
    get _osiTxtAnchor() { return 'start'; }
}
class OSI22RStation extends OSI22Station {
    get _nameDX() { return -3; }
    get _tickRotation() { return -90; }
    get _txtAnchor() { return 'start'; }
    get _intNameDX() { return 24; }
    get _osiNameDX() { return -13; }
    get _osiTxtAnchor() { return 'end'; }
}
class OSI22EndStation extends OSI12Station {
    constructor(id, data) {
        super(id, data);
        // data mutated by OSI12Station!!!
        [this._origIntCity, this._origIntLine, this._origIntColour, this._origIntFg, this._origIntNameZH, this._origIntNameEN] = data.interchange[0][2];
    }
    get origIntTickHTML() {
        var tickRotation = (this.namePos == 1) ? 180 : 0;
        var tickColour = this._origIntColour;
        var tick = $('<use>', {
            'xlink:href': '#inttick_hk',
            stroke: tickColour,
            transform: `translate(${this.x},${this.y})rotate(${tickRotation})`,
            'class': 'rmg-line rmg-line__mtr rmg-line__change'
        });
        if (this.state == -1) {
            tick.addClass('rmg-line__pass');
        }
        return tick;
    }
    get origIntNameHTML() {
        var [nameHTML, nameZHLn, nameENLn] = Object(_utils__WEBPACK_IMPORTED_MODULE_0__["joinIntName"])([this._origIntNameZH, this._origIntNameEN], 15, 7);
        var dy = (this.namePos == 0) ? 25 + 5.953125 : -25 + 5.953125 - 18.65625 - 13 * (nameZHLn - 1) - 7 * (nameENLn - 1);
        // dy += this._dy;
        // var nameClass = (this.state == -1) ? 'Pass' : 'Future';
        return $('<g>', {
            'text-anchor': 'middle',
            'transform': `translate(${this.x},${this.y + dy})`,
            'class': `Name ${this._nameClass}`
        }).html(nameHTML[0]);
    }
    get iconHTML() {
        var iconYFlip = (this.namePos == 1) ? 1 : -1;
        var iconXFlip = (this.children[0] == 'lineend') ? 1 : -1;
        var iconRotation = (this.children[0] == 'lineend') ? 0 : 180;
        return $('<use>', {
            'xlink:href': '#osi22end_hk',
            'transform': `translate(${this.x},${this.y})scale(${iconXFlip},${iconYFlip})`,
            class: [this.iconClass, this.osiClass].join(' ')
        });
    }
    get _tickRotation() { return (this.children[0] == 'lineend') ? -90 : 90; }
    get _tickFlip() { return -1; }
    get _dx() { return (this.children[0] == 'lineend') ? 41 : -41; }
    get _dy() { return (this.namePos == 0) ? -18 : 18; }
    get _intNameDX() { return (this.children[0] == 'lineend') ? 24 + 41 : -(24 + 41); }
    get _txtAnchor() { return (this.children[0] == 'lineend') ? 'start' : 'end'; }
    get _osiDY() { return (this.namePos == 0) ? (10) + 8.34375 : -(10) + 8.34375 - 25.03125; }
    get _osiTxtAnchor() { return (this.children[0] == 'lineend') ? 'start' : 'end'; }
    get _osiDX() { return (this.children[0] == 'lineend') ? -9 : 9; }
    get ungrpHTML() {
        return [
            ...this.intTickHTML, this.origIntTickHTML,
            this.iconHTML, this.nameHTML,
            ...this.intNameHTML, this.origIntNameHTML, this.osiNameHTML
        ];
    }
}



/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PageInitialiser/save */ "./src/PageInitialiser/save.ts");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jquery */ "jquery");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _Line_init__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Line/init */ "./src/Line/init.ts");
/* harmony import */ var _PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./PageInitialiser/init */ "./src/PageInitialiser/init.ts");




var requestLang = window.urlParams.get('lang') || localStorage.rmgLang || navigator.language.split('-').slice(0, 2).join('-');
switch (requestLang.toLowerCase()) {
    case 'zh-cn':
    case 'zh-hans':
        window.urlParams.set('lang', 'zh-Hans');
        break;
    case 'zh':
    case 'zh-hk':
    case 'zh-tw':
        window.urlParams.set('lang', 'zh-HK');
        break;
    default: window.urlParams.set('lang', 'en');
}
switch (window.urlParams.get('style')) {
    case 'mtr':
    case 'gzmtr':
        break;
    default: window.urlParams.set('style', 'mtr');
}
history.pushState({ url: window.location.href }, null, '?' + window.urlParams.toString());
window.myLine = null;
jquery__WEBPACK_IMPORTED_MODULE_1__(`[${window.urlParams.get('style')}-specific]`).show();
// autoInit();
_PageInitialiser_save__WEBPACK_IMPORTED_MODULE_0__["common"]();
Object(_Line_init__WEBPACK_IMPORTED_MODULE_2__["default"])();
Object(_PageInitialiser_init__WEBPACK_IMPORTED_MODULE_3__["default"])();


/***/ }),

/***/ "./src/utils.ts":
/*!**********************!*\
  !*** ./src/utils.ts ***!
  \**********************/
/*! exports provided: DirectionLong, NeighbourPl, putParams, getParams, setParams, test, getTxtBoxDim, joinIntName, getRandomId, describeParams, countryCode2Emoji, rgb2Hex, updateParam, getTransText */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DirectionLong", function() { return DirectionLong; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NeighbourPl", function() { return NeighbourPl; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "putParams", function() { return putParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getParams", function() { return getParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "setParams", function() { return setParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "test", function() { return test; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTxtBoxDim", function() { return getTxtBoxDim; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "joinIntName", function() { return joinIntName; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getRandomId", function() { return getRandomId; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "describeParams", function() { return describeParams; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "countryCode2Emoji", function() { return countryCode2Emoji; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "rgb2Hex", function() { return rgb2Hex; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "updateParam", function() { return updateParam; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "getTransText", function() { return getTransText; });
var DirectionLong;
(function (DirectionLong) {
    DirectionLong[DirectionLong["left"] = 0] = "left";
    DirectionLong[DirectionLong["right"] = 1] = "right";
})(DirectionLong || (DirectionLong = {}));
;
var NeighbourPl;
(function (NeighbourPl) {
    NeighbourPl[NeighbourPl["parents"] = 0] = "parents";
    NeighbourPl[NeighbourPl["children"] = 1] = "children";
})(NeighbourPl || (NeighbourPl = {}));
;
function putParams(instance) {
    localStorage.setItem('rmgParam', JSON.stringify(instance));
}
function getParams() {
    return JSON.parse(localStorage.rmgParam);
}
function setParams(key, data) {
    let param = getParams();
    param[key] = data;
    putParams(param);
}
function test(svgEl) {
    var [svgW, svgH] = svgEl.attr('viewBox').split(' ').slice(2);
    var canvas = $('canvas')[0];
    $('canvas').attr({
        width: svgW * 2.5, height: svgH * 2.5
    });
    var ctx = canvas.getContext("2d");
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    // bypass Chrome min font size (to be improved)
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--station, .rmg-name__en.rmg-name__mtr--station, .rmg-name__zh.IntName').each((_, el) => {
        $(el).attr('font-size', '10px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int').each((_, el) => {
        $(el).attr('font-size', '8px');
    });
    svgEl.find('.rmg-name__en.rmg-name__gzmtr--int-small, .rmg-name__en.IntName').each((_, el) => {
        $(el).attr('font-size', '7px');
    });
    svgEl.find('text:not([font-size]), tspan:not([font-size])').each((_, el) => {
        $(el).attr('font-size', window.getComputedStyle(el).fontSize);
    });
    svgEl.find('text, tspan').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'font-family': elStyle.getPropertyValue('font-family'),
            'fill': elStyle.getPropertyValue('fill'),
            'alignment-baseline': elStyle.getPropertyValue('alignment-baseline'),
            'text-anchor': elStyle.getPropertyValue('text-anchor')
        }).removeAttr('class');
    });
    svgEl.find('#strip, #dest_strip').each((_, el) => {
        var elStyle = window.getComputedStyle(el);
        $(el).attr({
            'stroke-width': elStyle.getPropertyValue('stroke-width')
        });
    });
    var img = new Image();
    img.onload = function () {
        ctx.drawImage(img, 0, 0, svgW * 2.5, svgH * 2.5);
        saveAs($('canvas')[0].toDataURL('image/png'), 'rmg_export');
    };
    img.src = 'data:image/svg+xml;base64,' + btoa(unescape(encodeURIComponent(svgEl[0].outerHTML)));
}
function saveAs(uri, filename) {
    var link = document.createElement('a');
    if (typeof link.download === 'string') {
        link.href = uri;
        link.download = filename;
        //Firefox requires the link to be in the body
        document.body.appendChild(link);
        //simulate click
        link.click();
        //remove the link when done
        document.body.removeChild(link);
    }
    else {
        window.open(uri);
    }
}
function getTxtBoxDim(elem, svg) {
    let svgNode = $('#' + svg)[0];
    let bcr = elem.getBoundingClientRect();
    let pt = svgNode.createSVGPoint();
    let ctm = svgNode.getScreenCTM();
    pt.x = bcr.left;
    pt.y = bcr.top;
    let pos = pt.matrixTransform(ctm.inverse());
    return { x: pos.x, y: pos.y, width: bcr.width, height: bcr.height };
}
function joinIntName(names, dy1, dy2) {
    var [nameZH, nameEN] = names.map(txt => txt.split(/\\/g));
    var res = $('<text>').addClass('rmg-name__zh IntName').text(nameZH[0]);
    for (let i = 1; i < nameZH.length; i++) {
        res = res.append($('<tspan>', { 'x': 0, 'dy': dy1 }).text(nameZH[i]));
    }
    var btwGap = (nameZH.length == 1) ? 9 : dy2;
    res = res.append($('<tspan>', {
        'x': 0, 'dy': btwGap, 'class': 'rmg-name__en IntName'
    }).text(nameEN[0]));
    for (let i = 1; i < nameEN.length; i++) {
        res = res.append($('<tspan>', {
            'x': 0, 'dy': dy2, 'class': 'rmg-name__en IntName'
        }).text(nameEN[i]));
    }
    return [res, nameZH.length, nameEN.length];
}
function getRandomId() {
    return Math.floor(Math.random() * Math.pow(36, 4)).toString(36).padStart(4, '0');
}
function describeParams(param) {
    return `Number of stations: ${Object.keys(param.stn_list).length - 2}
            ${Object.entries(param.stn_list).map(x => ['linestart', 'lineend'].includes(x[0]) ? '' : x[1].name.join(' - ')).join('<br>').trim().replace(/\\/, ' ')}`;
}
function countryCode2Emoji(code) {
    var chars = code.toUpperCase().split('');
    if (code.length == 2) {
        return chars.map(char => String.fromCodePoint((char.codePointAt(0) + 127397))).join('');
    }
    else {
        return '\u{1f3f4}' + chars.map(char => String.fromCodePoint((char.codePointAt(0) + 917536))).join('') + '\u{e007f}';
    }
}
function rgb2Hex(rgb) {
    let hex = rgb.match(/[\d]+/g)
        .map(dec => Number(dec).toString(16).padStart(2, '0'))
        .join('');
    switch (hex) {
        case '000000': return '#000';
        case 'ffffff': return '#fff';
        default: return '#' + hex;
    }
}
function updateParam() {
    var param = getParams();
    // Version 0.10
    if (!('line_name' in param)) {
        param.line_name = ['', 'Name of Line'];
    }
    if (!('dest_legacy' in param)) {
        param.dest_legacy = false;
    }
    // Version 0.11
    if (!('char_form' in param)) {
        param.char_form = (region => {
            switch (region) {
                case 'KR': return 'trad';
                case 'TC': return 'tw';
                case 'SC': return 'cn';
                case 'JP': return 'jp';
            }
        })(param.fontZH[0].split(' ').reverse()[0]);
    }
    delete param.fontZH;
    delete param.fontEN;
    delete param.weightZH;
    delete param.weightEN;
    // Version 0.12
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        // if (['linestart', 'lineend'].includes(stnId)) {continue;}
        if ('transfer' in stnInfo) {
            delete param.stn_list[stnId].interchange;
            switch (stnInfo.change_type) {
                case 'int2':
                    param.stn_list[stnId].interchange = [[stnInfo.transfer[1]]];
                    break;
                case 'int3_l':
                case 'int3_r':
                    param.stn_list[stnId].interchange = [stnInfo.transfer.slice(1, 3)];
                    break;
                case 'osi11_pl':
                case 'osi11_pr':
                case 'osi11_ul':
                case 'osi11_ur':
                    param.stn_list[stnId].interchange = [[], stnInfo.transfer.slice(0, 2)];
                    break;
                case 'osi12_pl':
                case 'osi12_pr':
                case 'osi12_ul':
                case 'osi12_ur':
                    param.stn_list[stnId].interchange = [[], stnInfo.transfer];
                    break;
            }
        }
        delete param.stn_list[stnId].transfer;
        if (!('branch' in stnInfo)) {
            param.stn_list[stnId].branch = { left: [], right: [] };
            if (stnInfo.children.length == 2) {
                param.stn_list[stnId].branch.right = ['through', stnInfo.children[1]];
            }
            else {
                param.stn_list[stnId].branch.right = [];
            }
            if (stnInfo.parents.length == 2) {
                param.stn_list[stnId].branch.left = ['through', stnInfo.parents[1]];
            }
            else {
                param.stn_list[stnId].branch.left = [];
            }
        }
    }
    // Version 1.2
    if (!('psd_num' in param)) {
        param.psd_num = 1;
    }
    if (!('line_num' in param)) {
        param.line_num = 1;
    }
    delete param.style;
    if (param.theme.length == 3) {
        param.theme.push('#fff');
    }
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (['linestart', 'lineend'].includes(stnId)) {
            continue;
        }
        if (!('num' in stnInfo)) {
            param.stn_list[stnId].num = '00';
        }
    }
    // Version 1.3
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if ('interchange' in stnInfo) {
            stnInfo.interchange.map(arr => {
                arr.map(intInfo => {
                    if (intInfo.length == 5) {
                        intInfo.splice(3, 0, '#fff');
                    }
                });
            });
        }
    }
    // Version 1.4
    if (!('info_panel_type' in param)) {
        param.info_panel_type = 'panasonic';
    }
    // Version 1.5
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (stnInfo.change_type === 'osi22_end_p') {
            param.stn_list[stnId].change_type = 'osi22_pr';
        }
        if (stnInfo.change_type === 'osi22_end_u') {
            param.stn_list[stnId].change_type = 'osi22_ur';
        }
    }
    // Version 2.1
    for (let [stnId, stnInfo] of Object.entries(param.stn_list)) {
        if (!('interchange' in stnInfo)) {
            param.stn_list[stnId].interchange = [[]];
        }
    }
    // Version 2.2
    if (param.info_panel_type === 'gz_1') {
        param.info_panel_type = 'gz28';
    }
    // Version 2.3
    if (param.info_panel_type === 'panasonic') {
        param.info_panel_type = 'gz28';
    }
    if (param.info_panel_type === 'gz_2') {
        param.info_panel_type = 'gzgf';
    }
    if (param.info_panel_type === 'gz_3') {
        param.info_panel_type = 'gz3';
    }
    if (!('direction_gz_x' in param)) {
        param.direction_gz_x = 50;
    }
    if (!('direction_gz_y' in param)) {
        param.direction_gz_y = 70;
    }
    putParams(param);
}
const langFallback = (lang) => {
    switch (lang) {
        case 'en': return ['en'];
        case 'zh-Hans': return ['zh-Hans', 'zh', 'en'];
        case 'zh-HK': return ['zh-HK', 'zh-Hant', 'zh', 'en'];
        default: return [lang, 'en'];
    }
};
const getTransText = (obj, lang) => {
    return obj[langFallback(lang).find(l => obj[l])];
};


/***/ }),

/***/ "@material/dialog":
/*!*****************************!*\
  !*** external "mdc.dialog" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.dialog;

/***/ }),

/***/ "@material/icon-button":
/*!*********************************!*\
  !*** external "mdc.iconButton" ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.iconButton;

/***/ }),

/***/ "@material/list":
/*!***************************!*\
  !*** external "mdc.list" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.list;

/***/ }),

/***/ "@material/ripple":
/*!*****************************!*\
  !*** external "mdc.ripple" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.ripple;

/***/ }),

/***/ "@material/select":
/*!*****************************!*\
  !*** external "mdc.select" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.select;

/***/ }),

/***/ "@material/slider":
/*!*****************************!*\
  !*** external "mdc.slider" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.slider;

/***/ }),

/***/ "@material/switch":
/*!************************************!*\
  !*** external "mdc.switchControl" ***!
  \************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.switchControl;

/***/ }),

/***/ "@material/tab-bar":
/*!*****************************!*\
  !*** external "mdc.tabBar" ***!
  \*****************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.tabBar;

/***/ }),

/***/ "@material/textfield":
/*!********************************!*\
  !*** external "mdc.textField" ***!
  \********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = mdc.textField;

/***/ }),

/***/ "jquery":
/*!*************************!*\
  !*** external "jQuery" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = jQuery;

/***/ })

/******/ });
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BtYXRlcmlhbC9hdXRvLWluaXQvY29uc3RhbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AbWF0ZXJpYWwvYXV0by1pbml0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0xpbmUvTGluZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTGluZS9pbml0LnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvZGVzaWduLnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvaW5mby50cyIsIndlYnBhY2s6Ly8vLi9zcmMvUGFnZUluaXRpYWxpc2VyL2luaXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhZ2VJbml0aWFsaXNlci9sYXlvdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1BhZ2VJbml0aWFsaXNlci9zYXZlLnRzIiwid2VicGFjazovLy8uL3NyYy9QYWdlSW5pdGlhbGlzZXIvc3RhdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1N0YXRpb24vU3RhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5kaWFsb2dcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMuaWNvbkJ1dHRvblwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5saXN0XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnJpcHBsZVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1kYy5zZWxlY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMuc2xpZGVyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnN3aXRjaENvbnRyb2xcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtZGMudGFiQmFyXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWRjLnRleHRGaWVsZFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7UUFBQTtRQUNBO1FBQ0E7UUFDQTs7O1FBR0E7UUFDQTtRQUNBO1FBQ0EsUUFBUSxvQkFBb0I7UUFDNUI7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTs7UUFFQTs7O1FBR0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7Ozs7UUFJQTtRQUNBO1FBQ0EseUNBQXlDLGtCQUFrQjtRQUMzRDs7UUFFQTtRQUNBOztRQUVBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7OztRQUdBOztRQUVBO1FBQ0EsaUNBQWlDOztRQUVqQztRQUNBO1FBQ0E7UUFDQSxLQUFLO1FBQ0w7UUFDQTtRQUNBO1FBQ0EsTUFBTTtRQUNOOztRQUVBO1FBQ0E7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0Esd0JBQXdCLGtDQUFrQztRQUMxRCxNQUFNO1FBQ047UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBOztRQUVBO1FBQ0E7O1FBRUE7UUFDQTs7UUFFQTtRQUNBO1FBQ0E7UUFDQSwwQ0FBMEMsZ0NBQWdDO1FBQzFFO1FBQ0E7O1FBRUE7UUFDQTtRQUNBO1FBQ0Esd0RBQXdELGtCQUFrQjtRQUMxRTtRQUNBLGlEQUFp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LENBQUMsS0FBUztRQUN0QixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLFVBQVUsR0FBRyxDQUFDLGNBQWMsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUN0RyxJQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQzVGLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBQyxDQUFDLENBQUM7U0FBQztRQUNsRSxJQUFJLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBQyxDQUFDLENBQUM7U0FBQztRQUM1RixPQUFPLEdBQUcsQ0FBQztJQUNmLENBQUM7SUFFRCxlQUFlLENBQUMsS0FBUztRQUNyQixJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7UUFDWixJQUFJLFVBQVUsR0FBRyxDQUFDLGNBQWMsRUFBRSxlQUFlLEVBQUUsZUFBZSxFQUFFLGVBQWUsRUFBRSxlQUFlLENBQUMsQ0FBQztRQUN0RyxJQUFJLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsQ0FBQztTQUFDO1FBQzVGLElBQUksSUFBSSxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFBQyxHQUFHLElBQUksSUFBSSxDQUFDLGFBQWEsR0FBQyxD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T0FBTyxHQUFHLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckQsQ0FBQzs7Ozs7Ozs7Ozs7O0FDaFdELDRCOzs7Ozs7Ozs7OztBQ0FBLGdDOzs7Ozs7Ozs7OztBQ0FBLDBCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLG1DOzs7Ozs7Ozs7OztBQ0FBLDRCOzs7Ozs7Ozs7OztBQ0FBLCtCOzs7Ozs7Ozs7OztBQ0FBLHdCIiwiZmlsZSI6ImluZGV4Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIGluc3RhbGwgYSBKU09OUCBjYWxsYmFjayBmb3IgY2h1bmsgbG9hZGluZ1xuIFx0ZnVuY3Rpb24gd2VicGFja0pzb25wQ2FsbGJhY2soZGF0YSkge1xuIFx0XHR2YXIgY2h1bmtJZHMgPSBkYXRhWzBdO1xuIFx0XHR2YXIgbW9yZU1vZHVsZXMgPSBkYXRhWzFdO1xuXG5cbiBcdFx0Ly8gYWRkIFwibW9yZU1vZHVsZXNcIiB0byB0aGUgbW9kdWxlcyBvYmplY3QsXG4gXHRcdC8vIHRoZW4gZmxhZyBhbGwgXCJjaHVua0lkc1wiIGFzIGxvYWRlZCBhbmQgZmlyZSBjYWxsYmFja1xuIFx0XHR2YXIgbW9kdWxlSWQsIGNodW5rSWQsIGkgPSAwLCByZXNvbHZlcyA9IFtdO1xuIFx0XHRmb3IoO2kgPCBjaHVua0lkcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdGNodW5rSWQgPSBjaHVua0lkc1tpXTtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoaW5zdGFsbGVkQ2h1bmtzLCBjaHVua0lkKSAmJiBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0pIHtcbiBcdFx0XHRcdHJlc29sdmVzLnB1c2goaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdWzBdKTtcbiBcdFx0XHR9XG4gXHRcdFx0aW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gMDtcbiBcdFx0fVxuIFx0XHRmb3IobW9kdWxlSWQgaW4gbW9yZU1vZHVsZXMpIHtcbiBcdFx0XHRpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9yZU1vZHVsZXMsIG1vZHVsZUlkKSkge1xuIFx0XHRcdFx0bW9kdWxlc1ttb2R1bGVJZF0gPSBtb3JlTW9kdWxlc1ttb2R1bGVJZF07XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdGlmKHBhcmVudEpzb25wRnVuY3Rpb24pIHBhcmVudEpzb25wRnVuY3Rpb24oZGF0YSk7XG5cbiBcdFx0d2hpbGUocmVzb2x2ZXMubGVuZ3RoKSB7XG4gXHRcdFx0cmVzb2x2ZXMuc2hpZnQoKSgpO1xuIFx0XHR9XG5cbiBcdH07XG5cblxuIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gb2JqZWN0IHRvIHN0b3JlIGxvYWRlZCBhbmQgbG9hZGluZyBjaHVua3NcbiBcdC8vIHVuZGVmaW5lZCA9IGNodW5rIG5vdCBsb2FkZWQsIG51bGwgPSBjaHVuayBwcmVsb2FkZWQvcHJlZmV0Y2hlZFxuIFx0Ly8gUHJvbWlzZSA9IGNodW5rIGxvYWRpbmcsIDAgPSBjaHVuayBsb2FkZWRcbiBcdHZhciBpbnN0YWxsZWRDaHVua3MgPSB7XG4gXHRcdFwiaW5kZXhcIjogMFxuIFx0fTtcblxuXG5cbiBcdC8vIHNjcmlwdCBwYXRoIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBqc29ucFNjcmlwdFNyYyhjaHVua0lkKSB7XG4gXHRcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLnAgKyBcIlwiICsgKHtcIkxpbmVHWlwiOlwiTGluZUdaXCJ9W2NodW5rSWRdfHxjaHVua0lkKSArIFwiLm1pbi5qc1wiXG4gXHR9XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuIFx0Ly8gVGhpcyBmaWxlIGNvbnRhaW5zIG9ubHkgdGhlIGVudHJ5IGNodW5rLlxuIFx0Ly8gVGhlIGNodW5rIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGFkZGl0aW9uYWwgY2h1bmtzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmUgPSBmdW5jdGlvbiByZXF1aXJlRW5zdXJlKGNodW5rSWQpIHtcbiBcdFx0dmFyIHByb21pc2VzID0gW107XG5cblxuIFx0XHQvLyBKU09OUCBjaHVuayBsb2FkaW5nIGZvciBqYXZhc2NyaXB0XG5cbiBcdFx0dmFyIGluc3RhbGxlZENodW5rRGF0YSA9IGluc3RhbGxlZENodW5rc1tjaHVua0lkXTtcbiBcdFx0aWYoaW5zdGFsbGVkQ2h1bmtEYXRhICE9PSAwKSB7IC8vIDAgbWVhbnMgXCJhbHJlYWR5IGluc3RhbGxlZFwiLlxuXG4gXHRcdFx0Ly8gYSBQcm9taXNlIG1lYW5zIFwiY3VycmVudGx5IGxvYWRpbmdcIi5cbiBcdFx0XHRpZihpbnN0YWxsZWRDaHVua0RhdGEpIHtcbiBcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdKTtcbiBcdFx0XHR9IGVsc2Uge1xuIFx0XHRcdFx0Ly8gc2V0dXAgUHJvbWlzZSBpbiBjaHVuayBjYWNoZVxuIFx0XHRcdFx0dmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiBcdFx0XHRcdFx0aW5zdGFsbGVkQ2h1bmtEYXRhID0gaW5zdGFsbGVkQ2h1bmtzW2NodW5rSWRdID0gW3Jlc29sdmUsIHJlamVjdF07XG4gXHRcdFx0XHR9KTtcbiBcdFx0XHRcdHByb21pc2VzLnB1c2goaW5zdGFsbGVkQ2h1bmtEYXRhWzJdID0gcHJvbWlzZSk7XG5cbiBcdFx0XHRcdC8vIHN0YXJ0IGNodW5rIGxvYWRpbmdcbiBcdFx0XHRcdHZhciBzY3JpcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiBcdFx0XHRcdHZhciBvblNjcmlwdENvbXBsZXRlO1xuXG4gXHRcdFx0XHRzY3JpcHQuY2hhcnNldCA9ICd1dGYtOCc7XG4gXHRcdFx0XHRzY3JpcHQudGltZW91dCA9IDEyMDtcbiBcdFx0XHRcdGlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKSB7XG4gXHRcdFx0XHRcdHNjcmlwdC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBfX3dlYnBhY2tfcmVxdWlyZV9fLm5jKTtcbiBcdFx0XHRcdH1cbiBcdFx0XHRcdHNjcmlwdC5zcmMgPSBqc29ucFNjcmlwdFNyYyhjaHVua0lkKTtcblxuIFx0XHRcdFx0Ly8gY3JlYXRlIGVycm9yIGJlZm9yZSBzdGFjayB1bndvdW5kIHRvIGdldCB1c2VmdWwgc3RhY2t0cmFjZSBsYXRlclxuIFx0XHRcdFx0dmFyIGVycm9yID0gbmV3IEVycm9yKCk7XG4gXHRcdFx0XHRvblNjcmlwdENvbXBsZXRlID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gXHRcdFx0XHRcdC8vIGF2b2lkIG1lbSBsZWFrcyBpbiBJRS5cbiBcdFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gbnVsbDtcbiBcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuIFx0XHRcdFx0XHR2YXIgY2h1bmsgPSBpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF07XG4gXHRcdFx0XHRcdGlmKGNodW5rICE9PSAwKSB7XG4gXHRcdFx0XHRcdFx0aWYoY2h1bmspIHtcbiBcdFx0XHRcdFx0XHRcdHZhciBlcnJvclR5cGUgPSBldmVudCAmJiAoZXZlbnQudHlwZSA9PT0gJ2xvYWQnID8gJ21pc3NpbmcnIDogZXZlbnQudHlwZSk7XG4gXHRcdFx0XHRcdFx0XHR2YXIgcmVhbFNyYyA9IGV2ZW50ICYmIGV2ZW50LnRhcmdldCAmJiBldmVudC50YXJnZXQuc3JjO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IubWVzc2FnZSA9ICdMb2FkaW5nIGNodW5rICcgKyBjaHVua0lkICsgJyBmYWlsZWQuXFxuKCcgKyBlcnJvclR5cGUgKyAnOiAnICsgcmVhbFNyYyArICcpJztcbiBcdFx0XHRcdFx0XHRcdGVycm9yLm5hbWUgPSAnQ2h1bmtMb2FkRXJyb3InO1xuIFx0XHRcdFx0XHRcdFx0ZXJyb3IudHlwZSA9IGVycm9yVHlwZTtcbiBcdFx0XHRcdFx0XHRcdGVycm9yLnJlcXVlc3QgPSByZWFsU3JjO1xuIFx0XHRcdFx0XHRcdFx0Y2h1bmtbMV0oZXJyb3IpO1xuIFx0XHRcdFx0XHRcdH1cbiBcdFx0XHRcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSB1bmRlZmluZWQ7XG4gXHRcdFx0XHRcdH1cbiBcdFx0XHRcdH07XG4gXHRcdFx0XHR2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiBcdFx0XHRcdFx0b25TY3JpcHRDb21wbGV0ZSh7IHR5cGU6ICd0aW1lb3V0JywgdGFyZ2V0OiBzY3JpcHQgfSk7XG4gXHRcdFx0XHR9LCAxMjAwMDApO1xuIFx0XHRcdFx0c2NyaXB0Lm9uZXJyb3IgPSBzY3JpcHQub25sb2FkID0gb25TY3JpcHRDb21wbGV0ZTtcbiBcdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0cmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbiBcdH07XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIuL2Rpc3QvXCI7XG5cbiBcdC8vIG9uIGVycm9yIGZ1bmN0aW9uIGZvciBhc3luYyBsb2FkaW5nXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm9lID0gZnVuY3Rpb24oZXJyKSB7IGNvbnNvbGUuZXJyb3IoZXJyKTsgdGhyb3cgZXJyOyB9O1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBcIi4vc3JjL2luZGV4LnRzXCIpO1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5leHBvcnQgdmFyIHN0cmluZ3MgPSB7XG4gICAgQVVUT19JTklUX0FUVFI6ICdkYXRhLW1kYy1hdXRvLWluaXQnLFxuICAgIEFVVE9fSU5JVF9TVEFURV9BVFRSOiAnZGF0YS1tZGMtYXV0by1pbml0LXN0YXRlJyxcbiAgICBJTklUSUFMSVpFRF9TVEFURTogJ2luaXRpYWxpemVkJyxcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIiwiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgR29vZ2xlIEluYy5cbiAqXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKlxuICogVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbiAqIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuICpcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiAqIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuICogRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG4gKiBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG4gKiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuICogT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuICogVEhFIFNPRlRXQVJFLlxuICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBBVVRPX0lOSVRfQVRUUiA9IHN0cmluZ3MuQVVUT19JTklUX0FUVFIsIEFVVE9fSU5JVF9TVEFURV9BVFRSID0gc3RyaW5ncy5BVVRPX0lOSVRfU1RBVEVfQVRUUiwgSU5JVElBTElaRURfU1RBVEUgPSBzdHJpbmdzLklOSVRJQUxJWkVEX1NUQVRFO1xudmFyIHJlZ2lzdHJ5ID0ge307XG52YXIgQ09OU09MRV9XQVJOID0gY29uc29sZS53YXJuLmJpbmQoY29uc29sZSk7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tY29uc29sZVxuZnVuY3Rpb24gZW1pdChldnRUeXBlLCBldnREYXRhLCBzaG91bGRCdWJibGUpIHtcbiAgICBpZiAoc2hvdWxkQnViYmxlID09PSB2b2lkIDApIHsgc2hvdWxkQnViYmxlID0gZmFsc2U7IH1cbiAgICB2YXIgZXZ0O1xuICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGV2dFR5cGUsIHtcbiAgICAgICAgICAgIGJ1YmJsZXM6IHNob3VsZEJ1YmJsZSxcbiAgICAgICAgICAgIGRldGFpbDogZXZ0RGF0YSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICAgICAgZXZ0LmluaXRDdXN0b21FdmVudChldnRUeXBlLCBzaG91bGRCdWJibGUsIGZhbHNlLCBldnREYXRhKTtcbiAgICB9XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQ6IG9wdGlvbmFsIGFyZ3VtZW50IGlzIG5vdCBhIGJyYW5jaCBzdGF0ZW1lbnQgKi9cbi8qKlxuICogQXV0by1pbml0aWFsaXplcyBhbGwgTURDIGNvbXBvbmVudHMgb24gYSBwYWdlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbWRjQXV0b0luaXQocm9vdCkge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmIChyb290ID09PSB2b2lkIDApIHsgcm9vdCA9IGRvY3VtZW50OyB9XG4gICAgdmFyIGNvbXBvbmVudHMgPSBbXTtcbiAgICB2YXIgbm9kZXMgPSBbXS5zbGljZS5jYWxsKHJvb3QucXVlcnlTZWxlY3RvckFsbChcIltcIiArIEFVVE9fSU5JVF9BVFRSICsgXCJdXCIpKTtcbiAgICBub2RlcyA9IG5vZGVzLmZpbHRlcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gbm9kZS5nZXRBdHRyaWJ1dGUoQVVUT19JTklUX1NUQVRFX0FUVFIpICE9PSBJTklUSUFMSVpFRF9TVEFURTsgfSk7XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgbm9kZXNfMSA9IHRzbGliXzEuX192YWx1ZXMobm9kZXMpLCBub2Rlc18xXzEgPSBub2Rlc18xLm5leHQoKTsgIW5vZGVzXzFfMS5kb25lOyBub2Rlc18xXzEgPSBub2Rlc18xLm5leHQoKSkge1xuICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc18xXzEudmFsdWU7XG4gICAgICAgICAgICB2YXIgY3Rvck5hbWUgPSBub2RlLmdldEF0dHJpYnV0ZShBVVRPX0lOSVRfQVRUUik7XG4gICAgICAgICAgICBpZiAoIWN0b3JOYW1lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCcobWRjLWF1dG8taW5pdCkgQ29uc3RydWN0b3IgbmFtZSBtdXN0IGJlIGdpdmVuLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIENvbnN0cnVjdG9yID0gcmVnaXN0cnlbY3Rvck5hbWVdOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOnZhcmlhYmxlLW5hbWVcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQ29uc3RydWN0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIobWRjLWF1dG8taW5pdCkgQ291bGQgbm90IGZpbmQgY29uc3RydWN0b3IgaW4gcmVnaXN0cnkgZm9yIFwiICsgY3Rvck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogU2hvdWxkIHdlIG1ha2UgYW4gZXNsaW50IHJ1bGUgZm9yIGFuIGF0dGFjaFRvKCkgc3RhdGljIG1ldGhvZD9cbiAgICAgICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQvaXNzdWVzLzE0NjAwIGZvciBkaXNjdXNzaW9uIG9mIHN0YXRpYyBpbnRlcmZhY2Ugc3VwcG9ydCBpbiBUU1xuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IENvbnN0cnVjdG9yLmF0dGFjaFRvKG5vZGUpO1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5vZGUsIGN0b3JOYW1lLCB7XG4gICAgICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBjb21wb25lbnQsXG4gICAgICAgICAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb21wb25lbnRzLnB1c2goY29tcG9uZW50KTtcbiAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKEFVVE9fSU5JVF9TVEFURV9BVFRSLCBJTklUSUFMSVpFRF9TVEFURSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICBmaW5hbGx5IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChub2Rlc18xXzEgJiYgIW5vZGVzXzFfMS5kb25lICYmIChfYSA9IG5vZGVzXzEucmV0dXJuKSkgX2EuY2FsbChub2Rlc18xKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgfVxuICAgIGVtaXQoJ01EQ0F1dG9Jbml0OkVuZCcsIHt9KTtcbiAgICByZXR1cm4gY29tcG9uZW50cztcbn1cbi8vIENvbnN0cnVjdG9yIGlzIFBhc2NhbENhc2VkIGJlY2F1c2UgaXQgaXMgYSBkaXJlY3QgcmVmZXJlbmNlIHRvIGEgY2xhc3MsIHJhdGhlciB0aGFuIGFuIGluc3RhbmNlIG9mIGEgY2xhc3MuXG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6dmFyaWFibGUtbmFtZVxubWRjQXV0b0luaXQucmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29tcG9uZW50TmFtZSwgQ29uc3RydWN0b3IsIHdhcm4pIHtcbiAgICBpZiAod2FybiA9PT0gdm9pZCAwKSB7IHdhcm4gPSBDT05TT0xFX1dBUk47IH1cbiAgICBpZiAodHlwZW9mIENvbnN0cnVjdG9yICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIihtZGMtYXV0by1pbml0KSBJbnZhbGlkIENvbnN0cnVjdG9yIHZhbHVlOiBcIiArIENvbnN0cnVjdG9yICsgXCIuIEV4cGVjdGVkIGZ1bmN0aW9uLlwiKTtcbiAgICB9XG4gICAgdmFyIHJlZ2lzdHJ5VmFsdWUgPSByZWdpc3RyeVtjb21wb25lbnROYW1lXTtcbiAgICBpZiAocmVnaXN0cnlWYWx1ZSkge1xuICAgICAgICB3YXJuKFwiKG1kYy1hdXRvLWluaXQpIE92ZXJyaWRpbmcgcmVnaXN0cmF0aW9uIGZvciBcIiArIGNvbXBvbmVudE5hbWUgKyBcIiB3aXRoIFwiICsgQ29uc3RydWN0b3IgKyBcIi4gV2FzOiBcIiArIHJlZ2lzdHJ5VmFsdWUpO1xuICAgIH1cbiAgICByZWdpc3RyeVtjb21wb25lbnROYW1lXSA9IENvbnN0cnVjdG9yO1xufTtcbm1kY0F1dG9Jbml0LmRlcmVnaXN0ZXIgPSBmdW5jdGlvbiAoY29tcG9uZW50TmFtZSkge1xuICAgIGRlbGV0ZSByZWdpc3RyeVtjb21wb25lbnROYW1lXTtcbn07XG5tZGNBdXRvSW5pdC5kZXJlZ2lzdGVyQWxsID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVnaXN0cnkpO1xuICAgIGtleXMuZm9yRWFjaCh0aGlzLmRlcmVnaXN0ZXIsIHRoaXMpO1xufTtcbi8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1kZWZhdWx0LWV4cG9ydCBOZWVkZWQgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aCBNREMgV2ViIHYwLjQ0LjAgYW5kIGVhcmxpZXIuXG5leHBvcnQgZGVmYXVsdCBtZGNBdXRvSW5pdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7IGdldFR4dEJveERpbSwgc2V0UGFyYW1zLCBnZXRQYXJhbXMsIHB1dFBhcmFtcywgZ2V0UmFuZG9tSWQgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSTUdTdGF0aW9uLCBJbnQyU3RhdGlvbiwgSW50M0xTdGF0aW9uLCBJbnQzUlN0YXRpb24sIE9TSTExTFN0YXRpb24sIE9TSTExUlN0YXRpb24sIE9TSTEyTFN0YXRpb24sIE9TSTEyUlN0YXRpb24sIE9TSTIyTFN0YXRpb24sIE9TSTIyUlN0YXRpb24sIE9TSTIyRW5kU3RhdGlvbiB9IGZyb20gJy4uL1N0YXRpb24vU3RhdGlvbic7XG5cbmltcG9ydCB7IElELCBOYW1lLCBTdGF0aW9uSW5mbywgUk1HUGFyYW0sIERpcmVjdGlvbkxvbmcgfSBmcm9tICcuLi91dGlscyc7XG5cbmludGVyZmFjZSBTdGF0aW9uRGljdCB7XG4gICAgW2luZGV4OiBzdHJpbmddOiBSTUdTdGF0aW9uO1xufVxuXG5leHBvcnQgY2xhc3MgUk1HTGluZSB7XG4gICAgcHJvdGVjdGVkIF9zdmdIZWlnaHQ6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3N2Z1dpZHRoOiBudW1iZXI7XG4gICAgcHJvdGVjdGVkIF9zdmdEZXN0V2lkdGg6IG51bWJlcjtcbiAgICBwcml2YXRlIF9zaG93T3V0ZXI6IGJvb2xlYW47XG4gICAgdGhlbWVDaXR5OyB0aGVtZUxpbmU7IF90aGVtZUNvbG91cjsgX2ZnQ29sb3VyO1xuICAgIHByaXZhdGUgX3lQYzogbnVtYmVyO1xuICAgIHByaXZhdGUgX3N0cmlwUGM6IG51bWJlcjtcbiAgICBwcm90ZWN0ZWQgX3BhZGRpbmc6IG51bWJlcjtcbiAgICBwcml2YXRlIF9sb25nSW50ZXJ2YWwgPSAxO1xuICAgIHByaXZhdGUgX2JyYW5jaFNwYWNpbmc6IG51bWJlcjtcbiAgICBwcml2YXRlIF90eHRGbGlwOiBib29sZWFuO1xuICAgIHB1YmxpYyBzdGF0aW9ucyA9IHt9IGFzIFN0YXRpb25EaWN0O1xuICAgIHByb3RlY3RlZCBfY3VycmVudFN0bklkO1xuICAgIHByb3RlY3RlZCBfZGlyZWN0aW9uO1xuICAgIHByb3RlY3RlZCBfcGxhdGZvcm1OdW06IHN0cmluZztcbiAgICBwcm90ZWN0ZWQgX2NoYXJGb3JtOiBzdHJpbmc7XG4gICAgcHJvdGVjdGVkIF9saW5lTmFtZXM6IE5hbWU7XG4gICAgcHJpdmF0ZSBfZGVzdExlZ2FjeTogYm9vbGVhbjsgXG5cbiAgICBjb25zdHJ1Y3RvciAocGFyYW06IFJNR1BhcmFtKSB7XG4gICAgICAgIHRoaXMuX3N2Z0hlaWdodCA9IHBhcmFtWydzdmdfaGVpZ2h0J107XG4gICAgICAgIHRoaXMuX3N2Z1dpZHRoID0gcGFyYW1bJ3N2Z193aWR0aCddO1xuICAgICAgICB0aGlzLl9zdmdEZXN0V2lkdGggPSBwYXJhbVsnc3ZnX2Rlc3Rfd2lkdGgnXTtcbiAgICAgICAgdGhpcy5fc2hvd091dGVyID0gcGFyYW1bJ3Nob3dfb3V0ZXInXTtcblxuICAgICAgICBbdGhpcy50aGVtZUNpdHksIHRoaXMudGhlbWVMaW5lLCB0aGlzLl90aGVtZUNvbG91ciwgdGhpcy5fZmdDb2xvdXJdID0gcGFyYW0udGhlbWU7XG5cbiAgICAgICAgdGhpcy55UGMgPSBwYXJhbVsneV9wYyddO1xuICAgICAgICB0aGlzLl9wYWRkaW5nID0gcGFyYW1bJ3BhZGRpbmcnXTtcbiAgICAgICAgdGhpcy5fc3RyaXBQYyA9IHBhcmFtWydzdHJpcF9wYyddO1xuICAgICAgICB0aGlzLl9icmFuY2hTcGFjaW5nID0gcGFyYW0uYnJhbmNoX3NwYWNpbmc7XG4gICAgICAgIHRoaXMuX3R4dEZsaXAgPSBwYXJhbVsndHh0X2ZsaXAnXTtcblxuICAgICAgICB0aGlzLl9saW5lTmFtZXMgPSBwYXJhbVsnbGluZV9uYW1lJ107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluZm9dIG9mIE9iamVjdC5lbnRyaWVzKHBhcmFtLnN0bl9saXN0KSkge1xuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0gPSB0aGlzLl9pbml0U3RuSW5zdGFuY2Uoc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdG5JZCA9IHBhcmFtWydjdXJyZW50X3N0bl9pZHgnXTtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gcGFyYW1bJ2RpcmVjdGlvbiddO1xuICAgICAgICB0aGlzLl9wbGF0Zm9ybU51bSA9IHBhcmFtWydwbGF0Zm9ybV9udW0nXTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuX2Rlc3RMZWdhY3kgPSBwYXJhbVsnZGVzdF9sZWdhY3knXTtcblxuICAgICAgICB0aGlzLl9jaGFyRm9ybSA9IHBhcmFtLmNoYXJfZm9ybTtcblxuICAgICAgICAvLyBDYWxjdWxhdGUgb3RoZXIgcHJvcGVydGllcyBvZiBzdGF0aW9uc1xuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UubmFtZVBvcyA9ICh0aGlzLl90eHRGbGlwKSA/IE51bWJlcighdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCkpIDogdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfaW5pdFN0bkluc3RhbmNlKHN0bklkOiBJRCwgc3RuSW5mbzogU3RhdGlvbkluZm8pIHtcbiAgICAgICAgc3dpdGNoIChzdG5JbmZvLmNoYW5nZV90eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdpbnQyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludDJTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgICAgIGNhc2UgJ2ludDNfbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnQzTFN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgY2FzZSAnaW50M19yJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludDNSU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XG4gICAgICAgICAgICBjYXNlICdvc2kxMV91bCc6XG4gICAgICAgICAgICBjYXNlICdvc2kxMV9wbCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0kxMUxTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3VyJzpcbiAgICAgICAgICAgIGNhc2UgJ29zaTExX3ByJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTExUlN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgY2FzZSAnb3NpMTJfdWwnOlxuICAgICAgICAgICAgY2FzZSAnb3NpMTJfcGwnOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1NJMTJMU3RhdGlvbihzdG5JZCwgc3RuSW5mbyk7XG4gICAgICAgICAgICBjYXNlICdvc2kxMl91cic6XG4gICAgICAgICAgICBjYXNlICdvc2kxMl9wcic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPU0kxMlJTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3BsJzpcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3VsJzpcbiAgICAgICAgICAgICAgICBpZiAoc3RuSW5mby5wYXJlbnRzWzBdID09ICdsaW5lc3RhcnQnIHx8IHN0bkluZm8uY2hpbGRyZW5bMF0gPT0gJ2xpbmVlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1NJMjJFbmRTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTIyTFN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3ByJzpcbiAgICAgICAgICAgIGNhc2UgJ29zaTIyX3VyJzpcbiAgICAgICAgICAgICAgICBpZiAoc3RuSW5mby5wYXJlbnRzWzBdID09ICdsaW5lc3RhcnQnIHx8IHN0bkluZm8uY2hpbGRyZW5bMF0gPT0gJ2xpbmVlbmQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgT1NJMjJFbmRTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9TSTIyUlN0YXRpb24oc3RuSWQsIHN0bkluZm8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSTUdTdGF0aW9uKHN0bklkLCBzdG5JbmZvKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNldCBzdmdEZXN0V2lkdGgodmFsOiBudW1iZXIpIHtcbiAgICAgICAgaWYgKGlzTmFOKHZhbCkgfHwgdmFsIDw9IDApIHtyZXR1cm47fVxuICAgICAgICB0aGlzLl9zdmdEZXN0V2lkdGggPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnc3ZnX2Rlc3Rfd2lkdGgnLCB2YWwpO1xuXG4gICAgICAgIHRoaXMuZHJhd1NWR0ZyYW1lKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XG4gICAgfVxuXG4gICAgc2V0IHN2Z1dpZHRoKHZhbDogbnVtYmVyKSB7XG4gICAgICAgIGlmIChpc05hTih2YWwpIHx8IHZhbCA8PSAwKSB7cmV0dXJuO31cbiAgICAgICAgdGhpcy5fc3ZnV2lkdGggPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnc3ZnX3dpZHRoJywgdmFsKTtcblxuICAgICAgICB0aGlzLmRyYXdTVkdGcmFtZSgpO1xuXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS55ID0gdGhpcy5fc3RuUmVhbFkoc3RuSWQpO1xuICAgICAgICB9XG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XG5cbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0bk5hbWVCZygpO1xuICAgIH1cblxuICAgIHNldCB5UGModmFsKSB7XG4gICAgICAgIHZhbCA9IE51bWJlcih2YWwpO1xuICAgICAgICB0aGlzLl95UGMgPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygneV9wYycsIHZhbCk7XG5cbiAgICAgICAgbGV0IHkgPSB2YWwgKiB0aGlzLl9zdmdIZWlnaHQgLyAxMDA7XG4gICAgICAgICQoJ2cjbWFpbicpLmF0dHIoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoMCwke3l9KWApO1xuICAgIH1cblxuICAgIHNldCBwYWRkaW5nKHZhbCkge1xuICAgICAgICB2YWwgPSBOdW1iZXIodmFsKTtcbiAgICAgICAgdGhpcy5fcGFkZGluZyA9IHZhbDtcbiAgICAgICAgc2V0UGFyYW1zKCdwYWRkaW5nJywgdmFsKTtcblxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICB9XG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XG5cbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0bk5hbWVCZygpO1xuICAgIH1cblxuICAgIHNldCBicmFuY2hTcGFjaW5nKHZhbCkge1xuICAgICAgICB2YWwgPSBOdW1iZXIodmFsKTtcbiAgICAgICAgdGhpcy5fYnJhbmNoU3BhY2luZyA9IHZhbDtcbiAgICAgICAgc2V0UGFyYW1zKCdicmFuY2hfc3BhY2luZycsIHZhbCk7XG5cbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcblxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3RuTmFtZUJnKCk7XG4gICAgfVxuXG4gICAgc2V0IHR4dEZsaXAodmFsKSB7XG4gICAgICAgIHRoaXMuX3R4dEZsaXAgPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygndHh0X2ZsaXAnLCB2YWwpO1xuXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cbiAgICAgICAgICAgIHN0bkluc3RhbmNlLm5hbWVQb3MgPSAodGhpcy5fdHh0RmxpcCkgPyBOdW1iZXIoIXRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgJCgnI3N0bl9pY29ucycpLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcblxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3RuTmFtZUJnKCk7XG4gICAgfVxuXG4gICAgc2V0IHRoZW1lQ29sb3VyKHJnYnMpIHtcbiAgICAgICAgdGhpcy5fdGhlbWVDb2xvdXIgPSByZ2JzWzBdO1xuICAgICAgICB0aGlzLl9mZ0NvbG91ciA9IHJnYnNbMV07XG5cbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XG4gICAgICAgIHBhcmFtLnRoZW1lWzJdID0gcmdic1swXTtcbiAgICAgICAgcGFyYW0udGhlbWVbM10gPSByZ2JzWzFdO1xuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xuXG4gICAgICAgIHRoaXMuZmlsbFRoZW1lQ29sb3VyKCk7XG4gICAgfVxuXG4gICAgc2V0IGRpcmVjdGlvbih2YWwpIHtcbiAgICAgICAgdGhpcy5fZGlyZWN0aW9uID0gdmFsO1xuICAgICAgICBzZXRQYXJhbXMoJ2RpcmVjdGlvbicsIHZhbCk7XG5cbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgc3RuSW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XG4gICAgICAgIH1cblxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XG5cbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcbiAgICB9XG5cbiAgICBzZXQgcGxhdGZvcm1OdW0odmFsKSB7XG4gICAgICAgIHRoaXMuX3BsYXRmb3JtTnVtID0gdmFsO1xuICAgICAgICBzZXRQYXJhbXMoJ3BsYXRmb3JtX251bScsIHZhbCk7XG4gICAgICAgICQoJy5ybWctbmFtZV9fcGxhdGZvcm1udW0nKS50ZXh0KHZhbCk7XG4gICAgfVxuXG4gICAgc2V0IGNoYXJGb3JtKHZhbCkge1xuICAgICAgICB0aGlzLl9jaGFyRm9ybSA9IHZhbDtcbiAgICAgICAgc2V0UGFyYW1zKCdjaGFyX2Zvcm0nLCB2YWwpO1xuXG4gICAgICAgIHZhciBwcmV2Q2hhckZvcm0gPSAkKCcucm1nLW5hbWVfX3poJykuZXEoMCkuYXR0cignY2xhc3MnKS5tYXRjaCgvcm1nLW5hbWVfX2NoYXItXFx3ezIsNH0vZylbMF07XG4gICAgICAgICQoJy5ybWctbmFtZV9femgnKS5yZW1vdmVDbGFzcyhwcmV2Q2hhckZvcm0pO1xuICAgICAgICAkKCcucm1nLW5hbWVfX3poJykuYWRkQ2xhc3MoYHJtZy1uYW1lX19jaGFyLSR7dmFsfWApO1xuICAgIH1cbiAgICBcbiAgICBzZXQgbGluZU5hbWVzKHZhbCkge1xuICAgICAgICB0aGlzLl9saW5lTmFtZXMgPSB2YWw7XG4gICAgICAgIHNldFBhcmFtcygnbGluZV9uYW1lJywgdmFsKTtcblxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHNldCBkZXN0TGVnYWN5KHZhbCkge1xuICAgICAgICB0aGlzLl9kZXN0TGVnYWN5ID0gdmFsO1xuICAgICAgICBzZXRQYXJhbXMoJ2Rlc3RfbGVnYWN5JywgdmFsKTtcblxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHNldCBjdXJyZW50U3RuSWQodmFsKSB7XG4gICAgICAgIHRoaXMuX2N1cnJlbnRTdG5JZCA9IHZhbDtcbiAgICAgICAgc2V0UGFyYW1zKCdjdXJyZW50X3N0bl9pZHgnLCB2YWwpO1xuXG4gICAgICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5zdGFuY2VdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuc3RhdGlvbnMpKSB7XG4gICAgICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSkge2NvbnRpbnVlO31cbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xuICAgICAgICB9XG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcbiAgICAgICAgdGhpcy5kcmF3U3RucygpO1xuICAgICAgICB0aGlzLmRyYXdMaW5lKCk7XG5cbiAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcblxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuXG4gICAgICAgIHRoaXMudXBkYXRlU3RuTmFtZUJnKCk7XG4gICAgfVxuXG4gICAgX3JpZ2h0V2lkZUZhY3RvcihzdG5JZDogSUQpIHtcbiAgICAgICAgdmFyIHJlcyA9IDA7XG4gICAgICAgIHZhciBzdG5DbGFzc2VzID0gWydJbnQzUlN0YXRpb24nLCAnT1NJMTFSU3RhdGlvbicsICdPU0kxMlJTdGF0aW9uJywgJ09TSTIyTFN0YXRpb24nLCAnT1NJMjJSU3RhdGlvbiddO1xuICAgICAgICBpZiAoc3RuQ2xhc3Nlcy5pbmNsdWRlcyh0aGlzLnN0YXRpb25zW3N0bklkXS5jb25zdHJ1Y3Rvci5uYW1lKSkge3JlcyArPSB0aGlzLl9sb25nSW50ZXJ2YWw7fVxuICAgICAgICBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHN0bklkKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cbiAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBfbGVmdFdpZGVGYWN0b3Ioc3RuSWQ6IElEKSB7XG4gICAgICAgIHZhciByZXMgPSAwO1xuICAgICAgICB2YXIgc3RuQ2xhc3NlcyA9IFsnSW50M0xTdGF0aW9uJywgJ09TSTExTFN0YXRpb24nLCAnT1NJMTJMU3RhdGlvbicsICdPU0kyMkxTdGF0aW9uJywgJ09TSTIyUlN0YXRpb24nXTtcbiAgICAgICAgaWYgKHN0bkNsYXNzZXMuaW5jbHVkZXModGhpcy5zdGF0aW9uc1tzdG5JZF0uY29uc3RydWN0b3IubmFtZSkpIHtyZXMgKz0gdGhpcy5fbG9uZ0ludGVydmFsO31cbiAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHN0bklkKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cbiAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdKSA9PSAyKSB7cmVzICs9IHRoaXMuX2xvbmdJbnRlcnZhbC8yO31cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG5cbiAgICBfcGF0aFdlaWdodChzdG5JZDE6IElELCBzdG5JZDI6IElEKSB7XG4gICAgICAgIC8vIFBhdGggd2VpZ2h0IGZyb20gc3RuSWQxIHRvIHN0bklkMlxuXG4gICAgICAgIC8vIGlmIChzdG5JZDEgPT0gc3RuSWQyKSB7cmV0dXJuIDA7fVxuICAgICAgICBpZiAoIXRoaXMuc3RhdGlvbnNbc3RuSWQxXS5jaGlsZHJlbi5pbmNsdWRlcyhzdG5JZDIpKSB7cmV0dXJuIC1JbmZpbml0eTt9XG5cbiAgICAgICAgcmV0dXJuIDEgKyB0aGlzLl9yaWdodFdpZGVGYWN0b3Ioc3RuSWQxKSArIHRoaXMuX2xlZnRXaWRlRmFjdG9yKHN0bklkMik7XG4gICAgfVxuXG4gICAgX2NwbShmcm9tOiBJRCwgdG86IElEKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgLy8gQ3JpdGljYWwgUGF0aCBNZXRob2QgKEZ1T1IpXG4gICAgICAgIGlmIChmcm9tPT10bykge3JldHVybiAwfTtcbiAgICAgICAgLy8gdmFyIGFsbExlbmd0aHMgPSBbXTtcbiAgICAgICAgdmFyIGFsbExlbmd0aHMgPSB0aGlzLnN0YXRpb25zW2Zyb21dLmNoaWxkcmVuLm1hcChjaGlsZCA9PiBhbGxMZW5ndGhzLnB1c2goMSArIHNlbGYuX2NwbShjaGlsZCwgdG8pKSk7XG4gICAgICAgIC8vIGZvciAobGV0IGNoaWxkIG9mIHRoaXMuc3RhdGlvbnNbZnJvbV0uY2hpbGRyZW4pIHtcbiAgICAgICAgLy8gICAgIGFsbExlbmd0aHMucHVzaCgxICsgc2VsZi5fY3BtKGNoaWxkLCB0bykpO1xuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBNYXRoLm1heCguLi5hbGxMZW5ndGhzKVxuICAgIH1cblxuICAgIF9jcChmcm9tOiBJRCwgdG86IElEKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKGZyb20gPT0gdG8pIHtcbiAgICAgICAgICAgIHJldHVybiB7IGxlbjogMCwgbm9kZXM6IFtmcm9tXSB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBhbGxMZW5ndGhzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBsZXQgY3JpdGljYWxQYXRoczogSURbXVtdID0gW107XG4gICAgICAgIHRoaXMuc3RhdGlvbnNbZnJvbV0uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICBsZXQgY3AgPSBzZWxmLl9jcChjaGlsZCwgdG8pO1xuICAgICAgICAgICAgaWYgKGNwLmxlbiA8IDApIHtyZXR1cm47fVxuICAgICAgICAgICAgYWxsTGVuZ3Rocy5wdXNoKHRoaXMuX3BhdGhXZWlnaHQoZnJvbSwgY2hpbGQpICsgY3AubGVuKTtcbiAgICAgICAgICAgIGNwLm5vZGVzLnVuc2hpZnQoZnJvbSk7XG4gICAgICAgICAgICBjcml0aWNhbFBhdGhzLnB1c2goY3Aubm9kZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IG1heExlbmd0aCA9IE1hdGgubWF4KC4uLmFsbExlbmd0aHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2xlbic6IG1heExlbmd0aCwgXG4gICAgICAgICAgICAnbm9kZXMnOiBjcml0aWNhbFBhdGhzW2FsbExlbmd0aHMuaW5kZXhPZihtYXhMZW5ndGgpXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldCBjcml0aWNhbFBhdGgoKSB7XG4gICAgICAgIGxldCBhbGxMZW5ndGhzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgICBsZXQgY3JpdGljYWxQYXRoczogSURbXVtdID0gW107XG4gICAgICAgIHRoaXMubGVmdERlc3RzLmZvckVhY2gobGQgPT4ge1xuICAgICAgICAgICAgdGhpcy5yaWdodERlc3RzLmZvckVhY2gocmQgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjcCA9IHRoaXMuX2NwKGxkLCByZCk7XG4gICAgICAgICAgICAgICAgYWxsTGVuZ3Rocy5wdXNoKGNwLmxlbik7XG4gICAgICAgICAgICAgICAgY3JpdGljYWxQYXRocy5wdXNoKGNwLm5vZGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgbGV0IG1heExlbiA9IE1hdGgubWF4KC4uLmFsbExlbmd0aHMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgJ2xlbic6IG1heExlbixcbiAgICAgICAgICAgICdub2Rlcyc6IGNyaXRpY2FsUGF0aHNbYWxsTGVuZ3Rocy5pbmRleE9mKG1heExlbildXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgX3RvcG9PcmRlcihmcm9tOiBJRCwgdHBvOiBJRFtdID0gW10pIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0cG8ucHVzaChmcm9tKTtcbiAgICAgICAgdGhpcy5zdGF0aW9uc1tmcm9tXS5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShjaGlsZCkgPT0gMiAmJiB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzLmluZGV4T2YoZnJvbSk9PTApIHtcbiAgICAgICAgICAgICAgICAvLyB3YWl0IHRoZSBvdGhlciBicmFuY2hcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IFxuICAgICAgICAgICAgdHBvLmNvbmNhdChzZWxmLl90b3BvT3JkZXIoY2hpbGQsIHRwbykpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRwbztcbiAgICB9XG5cbiAgICBnZXQgdHBvKCkge1xuICAgICAgICBsZXQgcmVzID0gdGhpcy5fdG9wb09yZGVyKCdsaW5lc3RhcnQnKTtcbiAgICAgICAgcmV0dXJuIHJlcy5zbGljZSgxLCByZXMubGVuZ3RoLTEpO1xuICAgIH1cblxuICAgIGdldCB5KCkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5feVBjICogdGhpcy5fc3ZnSGVpZ2h0IC8gMTAwOyBcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIGdldCBzdHJpcFkoKSB7cmV0dXJuIHRoaXMuX3N0cmlwUGMgKiB0aGlzLl9zdmdIZWlnaHQgLyAxMDA7fVxuICAgIGdldCB0dXJuaW5nUmFkaXVzKCkge3JldHVybiB0aGlzLl9icmFuY2hTcGFjaW5nLzIgKiAoTWF0aC5zcXJ0KDIpIC8gKE1hdGguc3FydCgyKS0xKSk7fVxuXG4gICAgZ2V0IGxpbmVYcygpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIHRoaXMuX3N2Z1dpZHRoICogdGhpcy5fcGFkZGluZyAvIDEwMCwgXG4gICAgICAgICAgICB0aGlzLl9zdmdXaWR0aCAqICgxIC0gdGhpcy5fcGFkZGluZy8xMDApXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgZ2V0IGxlZnREZXN0cygpIHtyZXR1cm4gdGhpcy5zdGF0aW9ucy5saW5lc3RhcnQuY2hpbGRyZW47fVxuICAgIGdldCByaWdodERlc3RzKCkge3JldHVybiB0aGlzLnN0YXRpb25zLmxpbmVlbmQucGFyZW50czt9XG5cbiAgICBnZXQgbFZhbGlkRGVzdHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxuICAgICAgICAgICAgbmV3IFNldChcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2YodGhpcy5fY3VycmVudFN0bklkKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAocm91dGUgPT4gcm91dGUuZmlsdGVyKHN0bklkID0+IHN0bklkICE9PSAnbGluZWVuZCcgJiYgc3RuSWQgIT09ICdsaW5lc3RhcnQnKVswXSlcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgclZhbGlkRGVzdHMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKFxuICAgICAgICAgICAgbmV3IFNldChcbiAgICAgICAgICAgICAgICB0aGlzLnJvdXRlc1xuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKHJvdXRlID0+IHJvdXRlLmluZGV4T2YodGhpcy5fY3VycmVudFN0bklkKSAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIC5tYXAocm91dGUgPT4gcm91dGUuZmlsdGVyKHN0bklkID0+IHN0bklkICE9PSAnbGluZWVuZCcgJiYgc3RuSWQgIT09ICdsaW5lc3RhcnQnKS5yZXZlcnNlKClbMF0pXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgX3N0bkluZGVncmVlKHN0bklkOiBJRCkge3JldHVybiB0aGlzLnN0YXRpb25zW3N0bklkXS5pbkRlZ3JlZTt9XG4gICAgX3N0bk91dGRlZ3JlZShzdG5JZDogSUQpIHtyZXR1cm4gdGhpcy5zdGF0aW9uc1tzdG5JZF0ub3V0RGVncmVlfVxuXG4gICAgX3N0blhTaGFyZShzdG5JZDogSUQpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgICAgIHZhciBjcCA9IHRoaXMuY3JpdGljYWxQYXRoO1xuICAgICAgICBpZiAoY3Aubm9kZXMuaW5jbHVkZXMoc3RuSWQpKSB7cmV0dXJuIHRoaXMuX2NwKGNwLm5vZGVzWzBdLCBzdG5JZCkubGVuO31cblxuICAgICAgICB2YXIgcGFydFNvdXJjZSA9IHN0bklkO1xuICAgICAgICB2YXIgcGFydFNpbmsgPSBzdG5JZDtcbiAgICAgICAgdmFyIGxlZnRPcGVuSmF3ID0gZmFsc2U7XG4gICAgICAgIHZhciByaWdodE9wZW5KYXcgPSBmYWxzZTtcblxuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuc3RhdGlvbnNbcGFydFNvdXJjZV0ucGFyZW50c1swXTtcbiAgICAgICAgICAgIGlmIChwYXJlbnQgPT0gJ2xpbmVzdGFydCcpIHtcbiAgICAgICAgICAgICAgICBsZWZ0T3BlbkphdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwYXJ0U291cmNlID0gcGFyZW50O1xuICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShwYXJ0U291cmNlKSA+IDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3BhcnRTaW5rXS5jaGlsZHJlbjtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlblswXSAhPSAnbGluZWVuZCcpIHtcbiAgICAgICAgICAgICAgICBwYXJ0U2luayA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByaWdodE9wZW5KYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuX3N0bkluZGVncmVlKHBhcnRTaW5rKSA+IDEpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBsZW5ndGhUb1NvdXJjZSA9IHRoaXMuX2NwKHBhcnRTb3VyY2UsIHN0bklkKS5sZW47XG4gICAgICAgIHZhciBsZW5ndGhUb1NpbmsgPSB0aGlzLl9jcChzdG5JZCwgcGFydFNpbmspLmxlbjtcbiAgICAgICAgaWYgKGxlZnRPcGVuSmF3KSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsUGFydExlbmd0aCA9IHRoaXMuX2NwKGNwLm5vZGVzWzBdLCBwYXJ0U2luaykubGVuO1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3N0blhTaGFyZShwYXJ0U2luaykgLSBsZW5ndGhUb1NpbmsgLyAobGVuZ3RoVG9Tb3VyY2UgKyBsZW5ndGhUb1NpbmspICogYWN0dWFsUGFydExlbmd0aDtcbiAgICAgICAgfSBlbHNlIGlmIChyaWdodE9wZW5KYXcpIHtcbiAgICAgICAgICAgIHZhciBhY3R1YWxQYXJ0TGVuZ3RoID0gdGhpcy5fY3AocGFydFNvdXJjZSwgY3Aubm9kZXMuc2xpY2UoLTEpWzBdKS5sZW47XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgYWN0dWFsUGFydExlbmd0aCA9IHRoaXMuX2NwKHBhcnRTb3VyY2UsIHBhcnRTaW5rKS5sZW47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuX3N0blhTaGFyZShwYXJ0U291cmNlKSArIGxlbmd0aFRvU291cmNlIC8gKGxlbmd0aFRvU291cmNlICsgbGVuZ3RoVG9TaW5rKSAqIGFjdHVhbFBhcnRMZW5ndGg7XG4gICAgfVxuXG4gICAgX3N0blJlYWxYKHN0bklkOiBJRCkge1xuICAgICAgICBsZXQgW2xpbmVTdGFydCwgbGluZUVuZF0gPSB0aGlzLmxpbmVYcztcbiAgICAgICAgcmV0dXJuIGxpbmVTdGFydCArIHRoaXMuX3N0blhTaGFyZShzdG5JZCkgLyB0aGlzLmNyaXRpY2FsUGF0aC5sZW4gKiAobGluZUVuZCAtIGxpbmVTdGFydCk7XG4gICAgfVxuXG4gICAgX3N0bllTaGFyZShzdG5JZCkge1xuICAgICAgICBpZiAoWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSB8fCB0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPiAxIHx8IHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCkgPiAxKSB7XG4gICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RuUHJlZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF07XG4gICAgICAgIGlmIChzdG5QcmVkKSB7XG4gICAgICAgICAgICAvLyBwYXJlbnQgZXhpc3RcbiAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuUHJlZCkgPT0gMSkge1xuICAgICAgICAgICAgICAgIC8vIG5vIHNpYmxpbmcsIHRoZW4geSBzYW1lIGFzIHBhcmVudFxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zdG5ZU2hhcmUoc3RuUHJlZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIHNpYmxpbmcgZXhpc3RzLCB0aGVuIHkgZGVwZW5kcyBvbiBpdHMgaWR4IG9mIGJlaW5nIGNoaWxkcmVuXG4gICAgICAgICAgICAgICAgcmV0dXJuICh0aGlzLnN0YXRpb25zW3N0blByZWRdLmNoaWxkcmVuLmluZGV4T2Yoc3RuSWQpID09IDApID8gMSA6IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gbm8gcGFyZW50LCBtdXN0IGJlIGxpbmVzdGFydFxuICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgX3N0blJlYWxZKHN0bklkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnkgLSB0aGlzLl9zdG5ZU2hhcmUoc3RuSWQpICogdGhpcy5fYnJhbmNoU3BhY2luZztcbiAgICB9XG5cbiAgICBfaXNTdWNjZXNzb3Jfb2xkKHN0bklkMSwgc3RuSWQyKSB7XG4gICAgICAgIC8vIElzIHN0bklkMiBhIHN1Y2Nlc3NvciBvZiBzdG5JZDE/XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgZGVzY09mU3RuMSA9IHRoaXMuc3RhdGlvbnNbc3RuSWQxXS5jaGlsZHJlbjtcbiAgICAgICAgaWYgKCFkZXNjT2ZTdG4xLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGRlc2NPZlN0bjEuaW5jbHVkZXMoc3RuSWQyKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGxldCBkZXNjIG9mIGRlc2NPZlN0bjEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5faXNTdWNjZXNzb3Jfb2xkKGRlc2MsIHN0bklkMikpIHtyZXR1cm4gdHJ1ZTt9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pc1N1Y2Nlc3NvcihzdG5JZDE6IElELCBzdG5JZDI6IElEKSB7XG4gICAgICAgIC8vIElzIHN0bklkMiBhIHN1Y2Nlc3NvciBvZiBzdG5JZDE/XG4gICAgICAgIGZvciAobGV0IHJvdXRlIG9mIHRoaXMucm91dGVzKSB7XG4gICAgICAgICAgICBsZXQgaWR4MSA9IHJvdXRlLmluZGV4T2Yoc3RuSWQxKTtcbiAgICAgICAgICAgIGxldCBpZHgyID0gcm91dGUuaW5kZXhPZihzdG5JZDIpO1xuICAgICAgICAgICAgaWYgKGlkeDEgIT09IC0xICYmIGlkeDIgIT09IC0xICYmIGlkeDEgPCBpZHgyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIF9pc1ByZWRlY2Vzc29yX29sZChzdG5JZDEsIHN0bklkMikge1xuICAgICAgICAvLyBJcyBzdG5JZDIgYSBwcmVkZWNlc3NvciBvZiBzdG5JZDE/XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgICB2YXIgYW5jT2ZTdG4xID0gdGhpcy5zdGF0aW9uc1tzdG5JZDFdLnBhcmVudHM7XG4gICAgICAgIGlmICghYW5jT2ZTdG4xLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuY09mU3RuMS5pbmNsdWRlcyhzdG5JZDIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAobGV0IGFuYyBvZiBhbmNPZlN0bjEpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5faXNQcmVkZWNlc3Nvcl9vbGQoYW5jLCBzdG5JZDIpKSB7cmV0dXJuIHRydWU7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBfaXNQcmVkZWNlc3NvcihzdG5JZDE6IElELCBzdG5JZDI6IElEKSB7XG4gICAgICAgIC8vIElzIHN0bklkMiBhIHByZWRlY2Vzc29yIG9mIHN0bklkMT9cbiAgICAgICAgZm9yIChsZXQgcm91dGUgb2YgdGhpcy5yb3V0ZXMpIHtcbiAgICAgICAgICAgIGxldCBpZHgxID0gcm91dGUuaW5kZXhPZihzdG5JZDEpO1xuICAgICAgICAgICAgbGV0IGlkeDIgPSByb3V0ZS5pbmRleE9mKHN0bklkMik7XG4gICAgICAgICAgICBpZiAoaWR4MSAhPT0gLTEgJiYgaWR4MiAhPT0gLTEgJiYgaWR4MiA8IGlkeDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgX3N0blN0YXRlKHN0bklkOiBJRCkge1xuICAgICAgICBpZiAoc3RuSWQgPT0gdGhpcy5fY3VycmVudFN0bklkKSB7cmV0dXJuIDA7fVxuICAgICAgICBpZiAodGhpcy5fZGlyZWN0aW9uID09ICdyJykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzU3VjY2Vzc29yKHRoaXMuX2N1cnJlbnRTdG5JZCwgc3RuSWQpID8gMSA6IC0xO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2lzUHJlZGVjZXNzb3IodGhpcy5fY3VycmVudFN0bklkLCBzdG5JZCkgPyAxIDogLTE7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc3RuTmFtZVBvcyhzdG5JZCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHZhciBjcCA9IHRoaXMuY3JpdGljYWxQYXRoLm5vZGVzO1xuICAgICAgICBpZiAoc3RuSWQgPT0gJ2xpbmVzdGFydCcpIHtyZXR1cm4gMTt9XG4gICAgICAgIHZhciBwb3MgPSBjcC5pbmRleE9mKHN0bklkKSAlIDI7XG4gICAgICAgIGlmIChwb3MgPT0gLTEpIHtcbiAgICAgICAgICAgIHZhciBwYXJJZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF07XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHBhcklkKSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuX3N0bk5hbWVQb3MocGFySWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcighc2VsZi5fc3RuTmFtZVBvcyhwYXJJZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb3M7XG4gICAgfVxuXG4gICAgZHJhd1NWR0ZyYW1lKCkge1xuICAgICAgICAkKCcjcmFpbG1hcCwgI291dGVyJykuYXR0cih7XG4gICAgICAgICAgICB3aWR0aDogdGhpcy5fc3ZnV2lkdGgsIFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9zdmdIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNkZXN0aW5hdGlvbiwgI2Rlc3Rfb3V0ZXInKS5hdHRyKHtcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLl9zdmdEZXN0V2lkdGgsIFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLl9zdmdIZWlnaHRcbiAgICAgICAgfSk7XG4gICAgICAgICQoJyNkZXN0X3N0cmlwX2d6JykuYXR0cignd2lkdGgnLCB0aGlzLl9zdmdEZXN0V2lkdGgpO1xuICAgICAgICAkKCcjc3RyaXBfZ3onKS5hdHRyKCd3aWR0aCcsIHRoaXMuX3N2Z1dpZHRoKTtcbiAgICB9XG5cbiAgICBzaG93RnJhbWVPdXRlcigpIHtcbiAgICAgICAgLy8gdmFyIG91dGVyQ29sb3VyID0gdGhpcy5fc2hvd091dGVyID8gJ2JsYWNrJyA6ICdub25lJztcbiAgICAgICAgLy8gJCgnI291dGVyLCAjZGVzdF9vdXRlcicpLmF0dHIoJ3N0cm9rZScsIG91dGVyQ29sb3VyKTtcbiAgICAgICAgaWYgKHRoaXMuX3Nob3dPdXRlcikge1xuICAgICAgICAgICAgJCgnI291dGVyLCAjZGVzdF9vdXRlcicpLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNvdXRlciwgI2Rlc3Rfb3V0ZXInKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkcmF3U3RucygpIHtcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgJCgnI3N0bl9pY29ucycpLmFwcGVuZChzdG5JbnN0YW5jZS5odG1sKTtcbiAgICAgICAgfVxuICAgICAgICAkKCcjc3RuX2ljb25zJykuaHRtbCgkKCcjc3RuX2ljb25zJykuaHRtbCgpKTsgLy8gUmVmcmVzaCBET01cbiAgICB9XG5cbiAgICB1cGRhdGVTdG5OYW1lQmcoKSB7XG4gICAgICAgIHZhciBzdG5OYW1lRGltID0gZ2V0VHh0Qm94RGltKFxuICAgICAgICAgICAgJChgI3N0bl9pY29ucyA+ICMke3RoaXMuX2N1cnJlbnRTdG5JZH0gPiAuTmFtZWApWzBdIGFzIEVsZW1lbnQgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LFxuICAgICAgICAgICAgJ3JhaWxtYXAnXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUubG9nKHN0bk5hbWVEaW0pO1xuICAgICAgICAkKCcjY3VycmVudF9iZycpLmF0dHIoe1xuICAgICAgICAgICAgeDogc3RuTmFtZURpbS54LTMsIFxuICAgICAgICAgICAgd2lkdGg6IHN0bk5hbWVEaW0ud2lkdGgrNiwgXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCBzdG5EWCgpIHtyZXR1cm4gdGhpcy50dXJuaW5nUmFkaXVzIC0gdGhpcy5fYnJhbmNoU3BhY2luZy8yfTtcbiAgICBnZXQgc3RuRFkoKSB7cmV0dXJuIHRoaXMuX2JyYW5jaFNwYWNpbmcvMn07XG4gICAgZ2V0IHN0bkV4dHJhSCgpIHtcbiAgICAgICAgdmFyIFtsaW5lU3RhcnQsIGxpbmVFbmRdID0gdGhpcy5saW5lWHM7XG4gICAgICAgIHJldHVybiAobGluZUVuZCAtIGxpbmVTdGFydCkgLyB0aGlzLmNyaXRpY2FsUGF0aC5sZW4gKiB0aGlzLl9sb25nSW50ZXJ2YWw7XG4gICAgfVxuICAgIGdldCBzdG5TcGFyZUgoKSB7XG4gICAgICAgIHZhciBbbGluZVN0YXJ0LCBsaW5lRW5kXSA9IHRoaXMubGluZVhzO1xuICAgICAgICB2YXIgZGggPSAoIChsaW5lRW5kLWxpbmVTdGFydCkvdGhpcy5jcml0aWNhbFBhdGgubGVuIC0gMip0aGlzLnN0bkRYICkgLyAyO1xuICAgICAgICBpZiAoZGggPCAwKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oYFNWRyB3aWR0aCB0b28gc21hbGwhICR7ZGh9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRoO1xuICAgIH1cbiAgICBnZXQgcGF0aFR1cm5FTkUoKSB7cmV0dXJuIGBhICR7dGhpcy50dXJuaW5nUmFkaXVzfSwke3RoaXMudHVybmluZ1JhZGl1c30gMCAwLDAgJHt0aGlzLnN0bkRYfSwkey10aGlzLnN0bkRZfWB9O1xuICAgIGdldCBwYXRoVHVybk5FRSgpIHtyZXR1cm4gYGEgJHt0aGlzLnR1cm5pbmdSYWRpdXN9LCR7dGhpcy50dXJuaW5nUmFkaXVzfSAwIDAsMSAke3RoaXMuc3RuRFh9LCR7LXRoaXMuc3RuRFl9YH07XG4gICAgZ2V0IHBhdGhUdXJuRVNFKCkge3JldHVybiBgYSAke3RoaXMudHVybmluZ1JhZGl1c30sJHt0aGlzLnR1cm5pbmdSYWRpdXN9IDAgMCwxICR7dGhpcy5zdG5EWH0sJHt0aGlzLnN0bkRZfWB9O1xuICAgIGdldCBwYXRoVHVyblNFRSgpIHtyZXR1cm4gYGEgJHt0aGlzLnR1cm5pbmdSYWRpdXN9LCR7dGhpcy50dXJuaW5nUmFkaXVzfSAwIDAsMCAke3RoaXMuc3RuRFh9LCR7dGhpcy5zdG5EWX1gfTtcblxuICAgIF9saW5lUGF0aChzdG5JZHM6IElEW10pIHtcbiAgICAgICAgdmFyIFtwcmV2SWQsIHByZXZZLCBwcmV2WF06IFtzdHJpbmc/LCBudW1iZXI/LCBudW1iZXI/XSA9IFtdO1xuICAgICAgICB2YXIgcGF0aCA9IFtdO1xuXG4gICAgICAgIHZhciB7IHN0bkV4dHJhSCwgc3RuU3BhcmVILCBwYXRoVHVybkVTRSwgcGF0aFR1cm5TRUUsIHBhdGhUdXJuRU5FLCBwYXRoVHVybk5FRSwgc3RuRFggfSA9IHRoaXM7XG5cbiAgICAgICAgc3RuSWRzLmZvckVhY2goc3RuSWQgPT4ge1xuICAgICAgICAgICAgdmFyIFt4LHldID0gWydfc3RuUmVhbFgnLCAnX3N0blJlYWxZJ10ubWFwKGZ1biA9PiB0aGlzW2Z1bl0oc3RuSWQpKTtcbiAgICAgICAgICAgIGlmICghcHJldlkgJiYgcHJldlkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBbcHJldklkLCBwcmV2WCwgcHJldlldID0gW3N0bklkLCB4LCB5XTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2goYE0gJHt4fSwke3l9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHkgPiBwcmV2WSkge1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChcbiAgICAgICAgICAgICAgICAgICAgeT09dGhpcy55ID8gYGggJHt4IC0gcHJldlggLSBzdG5FeHRyYUgqdGhpcy5fbGVmdFdpZGVGYWN0b3Ioc3RuSWQpIC0gc3RuU3BhcmVIIC0gc3RuRFgqMn1gIDogYGggJHtzdG5FeHRyYUggKiB0aGlzLl9yaWdodFdpZGVGYWN0b3IocHJldklkKSArIHN0blNwYXJlSH1gXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBwYXRoLnB1c2gocGF0aFR1cm5FU0UsIHBhdGhUdXJuU0VFKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeSA8IHByZXZZKSB7XG4gICAgICAgICAgICAgICAgcGF0aC5wdXNoKFxuICAgICAgICAgICAgICAgICAgICB5PT10aGlzLnkgPyBgaCAke3ggLSBwcmV2WCAtIHN0bkV4dHJhSCp0aGlzLl9sZWZ0V2lkZUZhY3RvcihzdG5JZCkgLSBzdG5TcGFyZUggLSBzdG5EWCoyfWAgOiBgaCAke3N0bkV4dHJhSCAqIHRoaXMuX3JpZ2h0V2lkZUZhY3RvcihwcmV2SWQpICsgc3RuU3BhcmVIfWBcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHBhdGgucHVzaChwYXRoVHVybkVORSwgcGF0aFR1cm5ORUUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGF0aC5wdXNoKGBIICR7eH1gKTtcbiAgICAgICAgICAgIFtwcmV2SWQsIHByZXZYLCBwcmV2WV0gPSBbc3RuSWQsIHgsIHldO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBzaW1wbGlmeSBwYXRoXG4gICAgICAgIHJldHVybiBwYXRoLmpvaW4oJyAnKS5yZXBsYWNlKC8oIEggKFtcXGQuXSspKSsvZywgJyBIICQyJyk7XG4gICAgfVxuXG4gICAgZHJhd0xpbmUoKSB7XG4gICAgICAgIHRoaXMuYnJhbmNoZXMubWFwKGJyYW5jaCA9PiB7XG4gICAgICAgICAgICB2YXIgbGluZU1haW5TdG5zID0gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiB0aGlzLnN0YXRpb25zW3N0bklkXS5zdGF0ZSA+PSAwKTtcbiAgICAgICAgICAgIHZhciBsaW5lUGFzc1N0bnMgPSBicmFuY2guZmlsdGVyKHN0bklkID0+IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnN0YXRlIDw9IDApO1xuXG4gICAgICAgICAgICBpZiAobGluZU1haW5TdG5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGxpbmVQYXNzU3RucyA9IGJyYW5jaDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxpbmVNYWluU3Rucy5maWx0ZXIoc3RuSWQgPT4gbGluZVBhc3NTdG5zLmluZGV4T2Yoc3RuSWQpICE9PSAtMSkubGVuZ3RoID09IDAgJiYgbGluZU1haW5TdG5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIGlmIHR3byBzZXQgZGlzam9pbnRcbiAgICAgICAgICAgICAgICBpZiAobGluZVBhc3NTdG5zWzBdID09PSBicmFuY2hbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gLTEgLTEgMSAxXG4gICAgICAgICAgICAgICAgICAgIGxpbmVQYXNzU3Rucy5wdXNoKGxpbmVNYWluU3Ruc1swXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsaW5lTWFpblN0bnNbMF0gPT09IGJyYW5jaFswXSAmJiBsaW5lTWFpblN0bnNbbGluZU1haW5TdG5zLmxlbmd0aC0xXSA9PT0gYnJhbmNoW2JyYW5jaC5sZW5ndGgtMV0gJiYgbGluZVBhc3NTdG5zLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMgPSBicmFuY2g7XG4gICAgICAgICAgICAgICAgICAgIGxpbmVNYWluU3RucyA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDEgMSAtMSAtMVxuICAgICAgICAgICAgICAgICAgICBsaW5lUGFzc1N0bnMudW5zaGlmdChsaW5lTWFpblN0bnNbbGluZU1haW5TdG5zLmxlbmd0aC0xXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkKCcjbGluZV9tYWluJykuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoJzxwYXRoPicsIHtkOnRoaXMuX2xpbmVQYXRoKGxpbmVNYWluU3Rucyl9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICQoJyNsaW5lX3Bhc3MnKS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJCgnPHBhdGg+Jywge2Q6dGhpcy5fbGluZVBhdGgobGluZVBhc3NTdG5zKX0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgICAgICAkKCcjbGluZV9tYWluJykuaHRtbCgkKCcjbGluZV9tYWluJykuaHRtbCgpKTtcbiAgICAgICAgJCgnI2xpbmVfcGFzcycpLmh0bWwoJCgnI2xpbmVfcGFzcycpLmh0bWwoKSk7XG4gICAgfVxuXG4gICAgZHJhd1N0cmlwKCkge1xuICAgICAgICAvLyAkKCcjc3RyaXAsICNkZXN0X3N0cmlwJykuYXR0cignZCcsIGBNIDAsJHt0aGlzLnN0cmlwWX0gSCAke3RoaXMuX3N2Z1dpZHRofWApXG4gICAgICAgICQoJyNzdHJpcCcpLmF0dHIoJ2QnLCBgTSAwLCR7dGhpcy5zdHJpcFl9IEggJHt0aGlzLl9zdmdXaWR0aH1gKTtcbiAgICAgICAgJCgnI2Rlc3Rfc3RyaXAnKS5hdHRyKCdkJywgYE0gMCwke3RoaXMuc3RyaXBZfSBIICR7dGhpcy5fc3ZnRGVzdFdpZHRofWApO1xuICAgIH1cblxuICAgIGZpbGxUaGVtZUNvbG91cigpIHtcbiAgICAgICAgJCgnI2xpbmVfbWFpbiwgI3N0cmlwLCAjZGVzdF9zdHJpcCcpLmF0dHIoJ3N0cm9rZScsIHRoaXMuX3RoZW1lQ29sb3VyKTtcbiAgICAgICAgJCgnI2Rlc3RfbmFtZSA+ICNwbGF0Zm9ybSA+IGNpcmNsZScpLmF0dHIoJ2ZpbGwnLCB0aGlzLl90aGVtZUNvbG91cik7XG4gICAgfVxuXG4gICAgZHJhd0Rlc3RJbmZvKCkge1xuICAgICAgICAkKCcjZGVzdF9uYW1lID4gI3BsYXRmb3JtID4gdGV4dCcpLnRleHQodGhpcy5fcGxhdGZvcm1OdW0pO1xuXG4gICAgICAgIGxldCB2YWxpZERlc3Q6IElEW10gPSB0aGlzW3RoaXMuX2RpcmVjdGlvbiArICdWYWxpZERlc3RzJ107XG4gICAgICAgIGxldCB0eHRBbmNob3IgPSB0aGlzLl9kaXJlY3Rpb249PT0nbCcgPyAnc3RhcnQnIDogJ2VuZCc7XG5cbiAgICAgICAgdmFyIFtkZXN0TmFtZVpILCBkZXN0TmFtZUVOXSA9IFswLDFdLm1hcChpZHggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHZhbGlkRGVzdC5tYXAoc3RuSWQgPT4gdGhpcy5zdGF0aW9uc1tzdG5JZF0ubmFtZVtpZHhdLnJlcGxhY2UoL1xcXFwvZywgJyAnKSkuam9pbignLycpO1xuICAgICAgICB9KVxuXG4gICAgICAgIGlmICh0aGlzLl9kZXN0TGVnYWN5KSB7XG4gICAgICAgICAgICB2YXIgW2xpbmVOYW1lWkgsIGxpbmVOYW1lRU5dID0gdGhpcy5fbGluZU5hbWVzO1xuICAgICAgICAgICAgbGluZU5hbWVFTiArPSAnICc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbGluZU5hbWVaSCA9IGxpbmVOYW1lRU4gPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgICQoJyNkZXN0X25hbWUgPiBnOmxhc3QtY2hpbGQgdGV4dCcpLmVxKDApLnRleHQoYCR7bGluZU5hbWVaSH3lvoAke2Rlc3ROYW1lWkh9YCk7XG4gICAgICAgICQoJyNkZXN0X25hbWUgPiBnOmxhc3QtY2hpbGQgdGV4dCcpLmVxKDEpLnRleHQoYCR7bGluZU5hbWVFTn10byAke2Rlc3ROYW1lRU59YCk7XG5cbiAgICAgICAgdmFyIGJjciA9ICQoJyNkZXN0X25hbWUgPiBnOmxhc3QtY2hpbGQnKVswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgdmFyIGZsYWdMZW5ndGggPSAxNjAgKyAxNTAgKyBiY3Iud2lkdGggKyA0NSArIDUwO1xuICAgICAgICB2YXIgaXNMZWZ0ID0gKHRoaXMuX2RpcmVjdGlvbiA9PSAnbCcpID8gMSA6IC0xO1xuICAgICAgICB2YXIgYXJyb3dYID0gKHRoaXMuX3N2Z0Rlc3RXaWR0aCAtIGlzTGVmdCAqIGZsYWdMZW5ndGgpIC8gMjtcbiAgICAgICAgdmFyIGFycm93Um90YXRlID0gOTAgKiAoMSAtIGlzTGVmdCk7XG4gICAgICAgIHZhciBwbGF0Zm9ybU51bVggPSBhcnJvd1ggKyBpc0xlZnQgKiAoMTYwICsgNTAgKyA3NSk7XG4gICAgICAgIHZhciBkZXN0TmFtZVggPSBwbGF0Zm9ybU51bVggKyBpc0xlZnQgKiAoNzUgKyA0NSk7XG4gICAgICAgICQoJyNkZXN0X25hbWUgPiB1c2UnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7YXJyb3dYfSwxMzApcm90YXRlKCR7YXJyb3dSb3RhdGV9KWApO1xuICAgICAgICAkKCcjZGVzdF9uYW1lID4gI3BsYXRmb3JtJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3BsYXRmb3JtTnVtWH0sMTMwKWApO1xuICAgICAgICAkKCcjZGVzdF9uYW1lID4gZzpsYXN0LWNoaWxkJykuYXR0cih7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHtkZXN0TmFtZVh9LDEwNSlgLCBcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHR4dEFuY2hvclxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBsb2FkRm9udHMoKSB7XG4gICAgICAgICQoJy5ybWctbmFtZV9femgsIC5ybWctbmFtZV9fZW4nKS5hZGRDbGFzcyhgcm1nLW5hbWVfX2NoYXItJHt0aGlzLl9jaGFyRm9ybX1gKTtcbiAgICB9XG5cbiAgICB1cGRhdGVTdG5OYW1lKHN0bklkOiBJRCwgbmFtZXM6IE5hbWUsIHN0bk51bTogc3RyaW5nKSB7XG4gICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ubmFtZSA9IG5hbWVzO1xuICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ubnVtID0gc3RuTnVtO1xuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xuXG4gICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWUgPSBuYW1lcztcbiAgICAgICAgLy8gdGhpcy5zdGF0aW9uc1tzdG5JZF0uX25hbWVaSCA9IG5hbWVaSDtcbiAgICAgICAgLy8gdGhpcy5zdGF0aW9uc1tzdG5JZF0uX25hbWVFTiA9IG5hbWVFTjtcbiAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RuTnVtID0gc3RuTnVtO1xuXG4gICAgICAgICQoYCNzdG5faWNvbnMgIyR7c3RuSWR9YCkucmVtb3ZlKCk7XG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5hcHBlbmQodGhpcy5zdGF0aW9uc1tzdG5JZF0uaHRtbCk7XG4gICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpO1xuXG4gICAgICAgIGlmICh0aGlzLmxlZnREZXN0cy5pbmNsdWRlcyhzdG5JZCkgJiYgdGhpcy5fZGlyZWN0aW9uID09ICdsJykge1xuICAgICAgICAgICAgdGhpcy5kcmF3RGVzdEluZm8oKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnJpZ2h0RGVzdHMuaW5jbHVkZXMoc3RuSWQpICYmIHRoaXMuX2RpcmVjdGlvbiA9PSAncicpIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgICAgICBpZiAoc3RuSWQgPT0gdGhpcy5fY3VycmVudFN0bklkKSB7dGhpcy51cGRhdGVTdG5OYW1lQmcoKTt9XG4gICAgfVxuXG4gICAgdXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQ6IElELCB0eXBlLCBpbmZvPW51bGwpIHtcbiAgICAgICAgdmFyIHByZXZDbGFzcyA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWU7XG5cbiAgICAgICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XG4gICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGFuZ2VfdHlwZSA9IHR5cGU7XG4gICAgICAgIGlmICh0eXBlID09ICdub25lJykge1xuICAgICAgICAgICAgZGVsZXRlIHBhcmFtLnN0bl9saXN0W3N0bklkXS50cmFuc2ZlcjtcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2U7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2UgPSBbW11dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnRyYW5zZmVyID0gaW5mbztcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5pbnRlcmNoYW5nZSA9IGluZm87XG4gICAgICAgIH1cbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcblxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXSA9IHRoaXMuX2luaXRTdG5JbnN0YW5jZShzdG5JZCwgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdKTtcblxuICAgICAgICBpZiAocHJldkNsYXNzICE9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNvbnN0cnVjdG9yLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIE5vdCBzdXJlIHBvc2l0aW9uLCByZWRyYXcgYWxsXG4gICAgICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgICAgIHN0bkluc3RhbmNlLnggPSB0aGlzLl9zdG5SZWFsWChzdG5JZCk7XG4gICAgICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgICAgICBzdG5JbnN0YW5jZS5uYW1lUG9zID0gKHRoaXMuX3R4dEZsaXApID8gTnVtYmVyKCF0aGlzLl9zdG5OYW1lUG9zKHN0bklkKSkgOiB0aGlzLl9zdG5OYW1lUG9zKHN0bklkKTtcbiAgICAgICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd1N0cmlwKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLm5hbWVQb3MgPSAodGhpcy5fdHh0RmxpcCkgPyBOdW1iZXIoIXRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XG4gICAgICAgICAgICAkKGAjc3RuX2ljb25zICMke3N0bklkfWApLnJlbW92ZSgpO1xuICAgICAgICAgICAgJCgnI3N0bl9pY29ucycpLmFwcGVuZCh0aGlzLnN0YXRpb25zW3N0bklkXS5odG1sKTtcbiAgICAgICAgICAgICQoJyNzdG5faWNvbnMnKS5odG1sKCQoJyNzdG5faWNvbnMnKS5odG1sKCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcbiAgICB9XG5cbiAgICByZW1vdmVTdG4oc3RuSWQ6IElEKSB7XG4gICAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xuXG4gICAgICAgIHZhciBwYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcbiAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW47XG5cbiAgICAgICAgdmFyIGlzTGFzdE1haW5CcmFuY2hTdG4gPSB0cnVlO1xuICAgICAgICBmb3IgKGxldCBpZCBpbiB0aGlzLnN0YXRpb25zKSB7XG4gICAgICAgICAgICBpZiAoW3N0bklkLCAnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhpZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBpZiAodGhpcy5fc3RuWVNoYXJlKGlkKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgaXNMYXN0TWFpbkJyYW5jaFN0biA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgJiYgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgIC8vIFRvIGJlIHJld3JpdHRlbiwgam9pbiB0d28gYnJhbmNoZXNcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChpc0xhc3RNYWluQnJhbmNoU3RuKSB7XG4gICAgICAgICAgICAvLyBMYXN0IG1haW4gbGluZSBzdGF0aW9uXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAoT2JqZWN0LmtleXMocGFyYW0uc3RuX2xpc3QpLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgICAgICAvLyBMYXN0IHR3byBzdGF0aW9uc1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKHBhcmVudHMubGVuZ3RoID09IDIgfHwgY2hpbGRyZW4ubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgIHBhcmVudHMuZm9yRWFjaChwYXJJZCA9PiB7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZElkID0+IHtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzID0gcGFyZW50cztcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkSWRdLnBhcmVudHMgPSBwYXJlbnRzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3BhcmVudHNbMF1dLmJyYW5jaC5yaWdodCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcmVudHNbMF1dLmJyYW5jaC5yaWdodCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHBhcmVudHNbMF0pPT0yICYmIHRoaXMuX3N0bkluZGVncmVlKGNoaWxkcmVuWzBdKT09Mikge1xuICAgICAgICAgICAgLy8gMSBwYXIgMSBjaGlsZCwgbGFzdCBzdGF0aW9uIG9uIHVwcGVyL2xvd2VyIGJyYW5jaFxuICAgICAgICAgICAgLy8gYnJhbmNoIGRpc2FwcGVhclxuICAgICAgICAgICAgdmFyIGNoaWxkSWR4T2ZQYXIgPSB0aGlzLnN0YXRpb25zW3BhcmVudHNbMF1dLmNoaWxkcmVuLmluZGV4T2Yoc3RuSWQpO1xuICAgICAgICAgICAgdmFyIHBhcklkeE9mQ2hpbGQgPSB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5wYXJlbnRzLmluZGV4T2Yoc3RuSWQpO1xuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uY2hpbGRyZW4uc3BsaWNlKGNoaWxkSWR4T2ZQYXIsIDEpO1xuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJlbnRzWzBdXS5jaGlsZHJlbi5zcGxpY2UoY2hpbGRJZHhPZlBhciwgMSk7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZHJlblswXV0ucGFyZW50cy5zcGxpY2UocGFySWR4T2ZDaGlsZCwgMSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5wYXJlbnRzLnNwbGljZShwYXJJZHhPZkNoaWxkLCAxKTtcblxuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0ID0gW107XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcmVudHNbMF1dLmJyYW5jaC5yaWdodCA9IFtdO1xuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0ID0gW107XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkcmVuWzBdXS5icmFuY2gubGVmdCA9IFtdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gMSBwYXIgMSBjaGlsZFxuICAgICAgICAgICAgcGFyZW50cy5mb3JFYWNoKHBhcklkID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuLmluZGV4T2Yoc3RuSWQpO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuW2lkeF0gPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJJZF0uY2hpbGRyZW5baWR4XSA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJpZ2h0IGRlc3RcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5jaGlsZHJlbi5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1twYXJJZF0uYnJhbmNoLnJpZ2h0WzFdID09PSBzdG5JZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3BhcklkXS5icmFuY2gucmlnaHRbMV0gPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFySWRdLmJyYW5jaC5yaWdodFsxXSA9IGNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2hpbGRyZW4uZm9yRWFjaChjaGlsZElkID0+IHtcbiAgICAgICAgICAgICAgICB2YXIgaWR4ID0gcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0ucGFyZW50cy5pbmRleE9mKHN0bklkKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyZW50cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRJZF0ucGFyZW50c1tpZHhdID0gcGFyZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZElkXS5wYXJlbnRzW2lkeF0gPSBwYXJlbnRzWzBdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExlZnQgZGVzdFxuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5wYXJlbnRzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkSWRdLnBhcmVudHMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPT09IHN0bklkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRJZF0uYnJhbmNoLmxlZnRbMV0gPSBwYXJlbnRzWzBdO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZElkXS5icmFuY2gubGVmdFsxXSA9IHBhcmVudHNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF07XG4gICAgICAgIGRlbGV0ZSB0aGlzLnN0YXRpb25zW3N0bklkXTtcblxuICAgICAgICB2YXIgaXNDdXJyZW50U3RuQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICBpZiAodGhpcy5fY3VycmVudFN0bklkID09IHN0bklkKSB7XG4gICAgICAgICAgICB2YXIgbmV3Q3VycmVudFN0bklkID0gT2JqZWN0LmtleXModGhpcy5zdGF0aW9ucylbMV07XG4gICAgICAgICAgICB0aGlzLl9jdXJyZW50U3RuSWQgPSBuZXdDdXJyZW50U3RuSWQ7XG4gICAgICAgICAgICBwYXJhbS5jdXJyZW50X3N0bl9pZHggPSBuZXdDdXJyZW50U3RuSWQ7XG4gICAgICAgICAgICBpc0N1cnJlbnRTdG5DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xuXG4gICAgICAgIHBhcmVudHMuY29uY2F0KGNoaWxkcmVuKS5mb3JFYWNoKG5lSWQgPT4ge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhuZUlkKSkge3JldHVybjt9XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW25lSWRdID0gdGhpcy5faW5pdFN0bkluc3RhbmNlKG5lSWQsIHBhcmFtLnN0bl9saXN0W25lSWRdKTtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLm5hbWVQb3MgPSAodGhpcy5fdHh0RmxpcCkgPyBOdW1iZXIoIXRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpKSA6IHRoaXMuX3N0bk5hbWVQb3Moc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2Uuc3RhdGUgPSB0aGlzLl9zdG5TdGF0ZShzdG5JZCk7XG4gICAgICAgIH1cbiAgICAgICAgUk1HTGluZS5jbGVhclNWRygpO1xuICAgICAgICB0aGlzLmRyYXdTdG5zKCk7XG4gICAgICAgIHRoaXMuZHJhd0xpbmUoKTtcbiAgICAgICAgdGhpcy5kcmF3U3RyaXAoKTtcblxuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuXG4gICAgICAgIHRoaXMubG9hZEZvbnRzKCk7XG5cbiAgICAgICAgdGhpcy51cGRhdGVTdG5OYW1lQmcoKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgbmV3U3RuUG9zc2libGVMb2MocHJlcDogJ2JlZm9yZScgfCAnYWZ0ZXInLCBzdG5JZDogSUQpOiBbbnVtYmVyLCBudW1iZXIsIG51bWJlciwgSURbXSwgSURbXV0ge1xuICAgICAgICB2YXIgZGVnID0gKHByZXAgPT0gJ2JlZm9yZScpID8gdGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpIDogdGhpcy5fc3RuT3V0ZGVncmVlKHN0bklkKTtcbiAgICAgICAgc3dpdGNoIChkZWcpIHtcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyAxIC0+IDJcbiAgICAgICAgICAgICAgICByZXR1cm4gWzEsMSwxLFtdLFtdXTtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuWVNoYXJlKHN0bklkKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIDEgLT4gMVxuICAgICAgICAgICAgICAgICAgICBsZXQgc3RhdGU6IElEW10gfCAwID0gdGhpcy5uZXdCcmFuY2hQb3NzaWJsZUVuZChwcmVwLCBzdG5JZCk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gKHN0YXRlLmxlbmd0aCkgPyBzdGF0ZSA6IFtdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzEsMCwwLHN0YXRlLHN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gWzEsMCwwLDEsMV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS55ID4gdGhpcy55KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmVwID09ICdiZWZvcmUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bk91dGRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdKS0xLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLDEsW10sW11cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW3RoaXMuX3N0bkluZGVncmVlKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuWzBdKS0xLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAwLDEsW10sW11cbiAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJlcCA9PSAnYmVmb3JlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9zdG5PdXRkZWdyZWUodGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSktMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMSwwLFtdLFtdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFt0aGlzLl9zdG5JbmRlZ3JlZSh0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXSktMSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgMSwwLFtdLFtdXG4gICAgICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbMCwwLDAsW10sW11dO1xuICAgIH1cblxuICAgIG5ld0JyYW5jaFBvc3NpYmxlRW5kKHByZXA6ICdiZWZvcmUnIHwgJ2FmdGVyJywgc3RuSWQ6IElEKSB7XG4gICAgICAgIGxldCByZXM6IElEW10gPSBbXTtcbiAgICAgICAgaWYgKHByZXAgPT0gJ2JlZm9yZScpIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPT0gMSkge1xuICAgICAgICAgICAgICAgIHN0bklkID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXTtcbiAgICAgICAgICAgICAgICByZXMudW5zaGlmdChzdG5JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMucG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5fc3RuT3V0ZGVncmVlKHN0bklkKSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc3RuSWQgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICByZXMucHVzaChzdG5JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMuc2hpZnQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cblxuICAgIGFkZFN0bihwcmVwOiAnYmVmb3JlJyB8ICdhZnRlcicsIHN0bklkOiBJRCwgbG9jLCBlbmQ6IElEKTogW0lELCBTdGF0aW9uSW5mb10ge1xuICAgICAgICBsZXQgbmV3SWQgPSBnZXRSYW5kb21JZCgpO1xuICAgICAgICB3aGlsZSAoT2JqZWN0LmtleXModGhpcy5zdGF0aW9ucykuaW5jbHVkZXMobmV3SWQpKSB7XG4gICAgICAgICAgICBuZXdJZCA9IGdldFJhbmRvbUlkKCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcGFyYW0gPSBnZXRQYXJhbXMoKTtcbiAgICAgICAgbGV0IG5ld0luZm8gPSB7fSBhcyBTdGF0aW9uSW5mbztcblxuICAgICAgICBpZiAocHJlcCA9PSAnYmVmb3JlJykge1xuICAgICAgICAgICAgaWYgKGxvYyA9PSAnY2VudHJlJykge1xuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoc3RuSWQpPT0wICYmIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnkgIT0gdGhpcy55KSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSB0aGlzLmxlZnREZXN0cztcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLnkgIT0gdGhpcy55KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBpdm90IG9uIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1t0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzBdXS5jaGlsZHJlbjtcblxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IFtdLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnN0YXRpb25zW25ld0luZm8ucGFyZW50c1swXV0uYnJhbmNoLnJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbbmV3SW5mby5wYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbbmV3SW5mby5wYXJlbnRzWzBdXS5icmFuY2gucmlnaHQgPSBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwaXZvdCBvbiBtYWluXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbc3RuSWRdO1xuXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnQsIFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFtdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdCA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ3VwcGVyJykge1xuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1swXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5zbGljZSgwLDEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzLmZvckVhY2gocGFyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHNbMF0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnBhcmVudHNbMF0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IG9uIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzLmZvckVhY2gocGFyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbcGFyXS5jaGlsZHJlblswXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlblswXSA9IG5ld0lkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1twYXJdLmJyYW5jaC5yaWdodFsxXSA9PT0gc3RuSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ2xvd2VyJykge1xuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5JbmRlZ3JlZShzdG5JZCkgPT0gMikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50c1sxXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzWzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzWzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cztcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW5bMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uY2hpbGRyZW5bMV0gPSBuZXdJZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbcGFyXS5icmFuY2gucmlnaHRbMV0gPT09IHN0bklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICduZXd1cHBlcicpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gubGVmdFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5icmFuY2gucmlnaHRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtlbmRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xuXG4gICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW2VuZF07XG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IFtzdG5JZF07XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLmNoaWxkcmVuLnVuc2hpZnQobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uY2hpbGRyZW4udW5zaGlmdChuZXdJZCk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChsb2MgPT0gJ25ld2xvd2VyJykge1xuICAgICAgICAgICAgICAgIG5ld0luZm8uYnJhbmNoID0geyBsZWZ0OltdLCByaWdodDpbXSB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tlbmRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XG5cbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbZW5kXTtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gW3N0bklkXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uY2hpbGRyZW4ucHVzaChuZXdJZCk7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbZW5kXS5jaGlsZHJlbi5wdXNoKG5ld0lkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMucHVzaChuZXdJZCk7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnBhcmVudHMucHVzaChuZXdJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAobG9jID09ICdjZW50cmUnKSB7XG4gICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3N0bk91dGRlZ3JlZShzdG5JZCk9PTAgJiYgdGhpcy5zdGF0aW9uc1tzdG5JZF0ueSAhPSB0aGlzLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gdGhpcy5yaWdodERlc3RzO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0ueSAhPSB0aGlzLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcGl2b3Qgb24gYnJhbmNoXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IHRoaXMuc3RhdGlvbnNbdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF1dLnBhcmVudHM7XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnN0YXRpb25zW25ld0luZm8uY2hpbGRyZW5bMF1dLmJyYW5jaC5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQ6IFtdXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbbmV3SW5mby5jaGlsZHJlblswXV0uYnJhbmNoLmxlZnQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbbmV3SW5mby5jaGlsZHJlblswXV0uYnJhbmNoLmxlZnQgPSBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwaXZvdCBvbiBtYWluXG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtwYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICd1cHBlcicpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9zdG5PdXRkZWdyZWUoc3RuSWQpID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9PSB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW4uc2xpY2UoMCwxKTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5wYXJlbnRzID0gW3N0bklkXTtcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbi5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHMgPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMF0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmNoaWxkcmVuWzBdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gYWxyZWFkeSBvbiBicmFuY2hcbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50c1swXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLnBhcmVudHNbMF0gPSBuZXdJZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID09PSBzdG5JZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbY2hpbGRdLmJyYW5jaC5sZWZ0WzFdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMuZm9yRWFjaChwYXIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1twYXJdLmNoaWxkcmVuID0gW25ld0lkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGxvYyA9PSAnbG93ZXInKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5mby5icmFuY2ggPSB7IGxlZnQ6W10sIHJpZ2h0OltdIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuT3V0ZGVncmVlKHN0bklkKSA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRbMV0gPT0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW5bMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbmV3SW5mby5jaGlsZHJlbiA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnNsaWNlKDEpO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuLmZvckVhY2goY2hpbGQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50cyA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlblsxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW5bMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBhbHJlYWR5IG9uIGJyYW5jaFxuICAgICAgICAgICAgICAgICAgICBuZXdJbmZvLmNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1tzdG5JZF0uY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cyA9IFtzdG5JZF07XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4uZm9yRWFjaChjaGlsZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RuSW5kZWdyZWUoY2hpbGQpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0ucGFyZW50c1swXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2NoaWxkXS5wYXJlbnRzWzBdID0gbmV3SWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbY2hpbGRdLnBhcmVudHNbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0ucGFyZW50c1sxXSA9IG5ld0lkO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPT09IHN0bklkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtjaGlsZF0uYnJhbmNoLmxlZnRbMV0gPSBuZXdJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG5ld0luZm8ucGFyZW50cy5mb3JFYWNoKHBhciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3Bhcl0uY2hpbGRyZW4gPSBbbmV3SWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbcGFyXS5jaGlsZHJlbiA9IFtuZXdJZF07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICduZXd1cHBlcicpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbZW5kXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcblxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbZW5kXTtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5wYXJlbnRzLnVuc2hpZnQobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0ucGFyZW50cy51bnNoaWZ0KG5ld0lkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnVuc2hpZnQobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbi51bnNoaWZ0KG5ld0lkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobG9jID09ICduZXdsb3dlcicpIHtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRpb25zW2VuZF0uYnJhbmNoLmxlZnQgPSBbJ3Rocm91Z2gnLCBuZXdJZF07XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbZW5kXS5icmFuY2gubGVmdCA9IFsndGhyb3VnaCcsIG5ld0lkXTtcblxuICAgICAgICAgICAgICAgIG5ld0luZm8uY2hpbGRyZW4gPSBbZW5kXTtcbiAgICAgICAgICAgICAgICBuZXdJbmZvLnBhcmVudHMgPSBbc3RuSWRdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbZW5kXS5wYXJlbnRzLnB1c2gobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W2VuZF0ucGFyZW50cy5wdXNoKG5ld0lkKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLnB1c2gobmV3SWQpO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbi5wdXNoKG5ld0lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIG5ld0luZm8ubmFtZSA9IFtg6LuK56uZJHtuZXdJZC50b1VwcGVyQ2FzZSgpfWAsIGBTdGF0aW9uICR7bmV3SWQudG9VcHBlckNhc2UoKX1gXTtcbiAgICAgICAgbmV3SW5mby5jaGFuZ2VfdHlwZSA9ICdub25lJztcbiAgICAgICAgbmV3SW5mby5udW0gPSAnMDAnO1xuICAgICAgICBuZXdJbmZvLmludGVyY2hhbmdlID0gW1tdXTtcbiAgICAgICAgXG4gICAgICAgIHBhcmFtLnN0bl9saXN0W25ld0lkXSA9IG5ld0luZm87XG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XG5cbiAgICAgICAgdGhpcy5zdGF0aW9uc1tuZXdJZF0gPSB0aGlzLl9pbml0U3RuSW5zdGFuY2UobmV3SWQsIG5ld0luZm8pO1xuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXSA9IHRoaXMuX2luaXRTdG5JbnN0YW5jZShzdG5JZCwgZ2V0UGFyYW1zKCkuc3RuX2xpc3Rbc3RuSWRdKTtcblxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS54ID0gdGhpcy5fc3RuUmVhbFgoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnN0YXRlID0gdGhpcy5fc3RuU3RhdGUoc3RuSWQpO1xuICAgICAgICAgICAgc3RuSW5zdGFuY2UubmFtZVBvcyA9ICh0aGlzLl90eHRGbGlwKSA/IE51bWJlcighdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCkpIDogdGhpcy5fc3RuTmFtZVBvcyhzdG5JZCk7XG4gICAgICAgIH1cblxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuICAgICAgICB0aGlzLmRyYXdTdHJpcCgpO1xuXG4gICAgICAgIHRoaXMuZHJhd0Rlc3RJbmZvKCk7XG5cbiAgICAgICAgdGhpcy5sb2FkRm9udHMoKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVN0bk5hbWVCZygpO1xuXG4gICAgICAgIHJldHVybiBbbmV3SWQsIG5ld0luZm9dO1xuICAgIH1cblxuICAgIHJldmVyc2VTdG5zKCkge1xuICAgICAgICB2YXIgcGFyYW0gPSBnZXRQYXJhbXMoKTtcbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChzdG5JZCA9PT0gJ2xpbmVzdGFydCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFsnbGluZWVuZCddLnBhcmVudHMgPSBzdG5JbnN0YW5jZS5jaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3RbJ2xpbmVlbmQnXS5icmFuY2ggPSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQ6IHN0bkluc3RhbmNlLmJyYW5jaC5yaWdodCwgXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBbXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0bklkID09PSAnbGluZWVuZCcpIHtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFsnbGluZXN0YXJ0J10uY2hpbGRyZW4gPSBzdG5JbnN0YW5jZS5wYXJlbnRzLnJldmVyc2UoKTtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFsnbGluZXN0YXJ0J10uYnJhbmNoID0ge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBbXSwgXG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0OiBzdG5JbnN0YW5jZS5icmFuY2gubGVmdFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHRtcEFyciA9IHN0bkluc3RhbmNlLmNoaWxkcmVuLnJldmVyc2UoKS5tYXAoaWQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lc3RhcnQnOiByZXR1cm4gJ2xpbmVlbmQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnbGluZWVuZCc6IHJldHVybiAnbGluZXN0YXJ0JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiBpZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGlsZHJlbiA9IHN0bkluc3RhbmNlLnBhcmVudHMucmV2ZXJzZSgpLm1hcChpZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xpbmVzdGFydCc6IHJldHVybiAnbGluZWVuZCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdsaW5lZW5kJzogcmV0dXJuICdsaW5lc3RhcnQnO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIGlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLnBhcmVudHMgPSB0bXBBcnI7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gc3RuSW5zdGFuY2UuYnJhbmNoLnJpZ2h0O1xuICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2gucmlnaHQgPSBzdG5JbnN0YW5jZS5icmFuY2gubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwdXRQYXJhbXMocGFyYW0pO1xuICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgfVxuXG4gICAgdXBkYXRlQnJhbmNoVHlwZShzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgdHlwZTogJ3Rocm91Z2gnIHwgJ25vbnRocm91Z2gnKSB7XG4gICAgICAgIGxldCBkaXJlYyA9IERpcmVjdGlvbkxvbmdbZGlyZWN0aW9uXTtcbiAgICAgICAgLy8gbm8gY2hhbmdlXG4gICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2hbZGlyZWNdWzBdID09PSB0eXBlKSB7cmV0dXJuO31cblxuICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2hbZGlyZWNdWzBdID0gdHlwZTtcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XG4gICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5icmFuY2hbZGlyZWNdWzBdID0gdHlwZTtcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcblxuICAgICAgICBmb3IgKGxldCBbc3RuSWQsIHN0bkluc3RhbmNlXSBvZiBPYmplY3QuZW50cmllcyh0aGlzLnN0YXRpb25zKSkge1xuICAgICAgICAgICAgaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcbiAgICAgICAgfVxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkOiBJRCwgZGlyZWN0aW9uOiBEaXJlY3Rpb25Mb25nLCBmaXJzdDogSUQpIHtcbiAgICAgICAgbGV0IGRpcmVjID0gRGlyZWN0aW9uTG9uZ1tkaXJlY3Rpb25dO1xuICAgICAgICAvLyBubyBjaGFuZ2VcbiAgICAgICAgaWYgKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMV0gPT09IGZpcnN0KSB7cmV0dXJuIGZhbHNlO31cblxuICAgICAgICBsZXQgYnJhbmNoRW5kSWQgPSBmaXJzdDtcbiAgICAgICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XG4gICAgICAgIGlmIChkaXJlYyA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLmluRGVncmVlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYnJhbmNoRW5kSWQgPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5jaGlsZHJlblswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBicmFuY2hGaXJzdElkeCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmNoaWxkcmVuLmluZGV4T2YoZmlyc3QpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5icmFuY2gucmlnaHRbMV0gPSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0WzFdID0gZmlyc3Q7XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5icmFuY2gubGVmdFsxXSA9IHBhcmFtLnN0bl9saXN0W2JyYW5jaEVuZElkXS5icmFuY2gubGVmdFsxXSA9IHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLnBhcmVudHNbYnJhbmNoRmlyc3RJZHhdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2hpbGUgKHRoaXMuc3RhdGlvbnNbYnJhbmNoRW5kSWRdLm91dERlZ3JlZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGJyYW5jaEVuZElkID0gdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ucGFyZW50c1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBicmFuY2hGaXJzdElkeCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLnBhcmVudHMuaW5kZXhPZihmaXJzdCk7XG5cbiAgICAgICAgICAgIHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdID0gZmlyc3Q7XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5icmFuY2gucmlnaHRbMV0gPSBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0uYnJhbmNoLnJpZ2h0WzFdID0gdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0uY2hpbGRyZW5bYnJhbmNoRmlyc3RJZHhdO1xuICAgICAgICB9XG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XG5cbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueCA9IHRoaXMuX3N0blJlYWxYKHN0bklkKTtcbiAgICAgICAgICAgIHN0bkluc3RhbmNlLnkgPSB0aGlzLl9zdG5SZWFsWShzdG5JZCk7XG4gICAgICAgICAgICBzdG5JbnN0YW5jZS5zdGF0ZSA9IHRoaXMuX3N0blN0YXRlKHN0bklkKTtcbiAgICAgICAgfVxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZUJyYW5jaFBvcyhzdG5JZDogSUQsIGRpcmVjdGlvbjogRGlyZWN0aW9uTG9uZywgcG9zOiAwIHwgMSkge1xuICAgICAgICBsZXQgZGlyZWMgPSBEaXJlY3Rpb25Mb25nW2RpcmVjdGlvbl07XG4gICAgICAgIC8vIG5vIGNoYW5nZVxuICAgICAgICBpZiAoZGlyZWMgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5pbmRleE9mKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5yaWdodFsxXSkgPT09IHBvcykge3JldHVybjt9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5pbmRleE9mKHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaC5sZWZ0WzFdKSA9PT0gcG9zKSB7cmV0dXJuO31cbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBicmFuY2hFbmRJZCA9IHRoaXMuc3RhdGlvbnNbc3RuSWRdLmJyYW5jaFtkaXJlY11bMV07XG4gICAgICAgIGxldCBwYXJhbSA9IGdldFBhcmFtcygpO1xuICAgICAgICBpZiAoZGlyZWMgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5pbkRlZ3JlZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIGJyYW5jaEVuZElkID0gdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0uY2hpbGRyZW5bMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW3N0bklkXS5jaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uY2hpbGRyZW4ucmV2ZXJzZSgpO1xuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ucGFyZW50cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0ucGFyZW50cy5yZXZlcnNlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB3aGlsZSAodGhpcy5zdGF0aW9uc1ticmFuY2hFbmRJZF0ub3V0RGVncmVlID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYnJhbmNoRW5kSWQgPSB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5wYXJlbnRzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdGF0aW9uc1tzdG5JZF0ucGFyZW50cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0ucGFyZW50cy5yZXZlcnNlKCk7XG4gICAgICAgICAgICB0aGlzLnN0YXRpb25zW2JyYW5jaEVuZElkXS5jaGlsZHJlbi5yZXZlcnNlKCk7XG4gICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFticmFuY2hFbmRJZF0uY2hpbGRyZW4ucmV2ZXJzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XG5cbiAgICAgICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbnN0YW5jZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5zdGF0aW9ucykpIHtcbiAgICAgICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICAgICAgc3RuSW5zdGFuY2UueSA9IHRoaXMuX3N0blJlYWxZKHN0bklkKTtcbiAgICAgICAgfVxuICAgICAgICBSTUdMaW5lLmNsZWFyU1ZHKCk7XG4gICAgICAgIHRoaXMuZHJhd1N0bnMoKTtcbiAgICAgICAgdGhpcy5kcmF3TGluZSgpO1xuICAgICAgICB0aGlzLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICB0aGlzLmxvYWRGb250cygpO1xuICAgIH1cblxuICAgIHN0YXRpYyBjbGVhclNWRygpIHtcbiAgICAgICAgJCgnI3N0bl9pY29ucywgI2xpbmVfbWFpbiwgI2xpbmVfcGFzcycpLmVtcHR5KCk7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXRTVkcobGluZSkge1xuICAgICAgICBsaW5lLmRyYXdTVkdGcmFtZSgpO1xuICAgICAgICBsaW5lLnNob3dGcmFtZU91dGVyKCk7XG4gICAgICAgIGxpbmUuZHJhd1N0bnMoKTtcbiAgICAgICAgbGluZS5maWxsVGhlbWVDb2xvdXIoKTtcbiAgICAgICAgbGluZS5kcmF3TGluZSgpO1xuICAgICAgICBsaW5lLmRyYXdTdHJpcCgpO1xuICAgICAgICBsaW5lLmRyYXdEZXN0SW5mbygpO1xuICAgICAgICBsaW5lLmxvYWRGb250cygpO1xuICAgICAgICBsaW5lLnVwZGF0ZVN0bk5hbWVCZygpO1xuICAgIH1cblxuICAgIGdldCBicmFuY2hlcygpIHtcbiAgICAgICAgdmFyIHN0YWNrID0gWydsaW5lc3RhcnQnXTtcbiAgICAgICAgdmFyIGJyYW5jaGVzID0gW1tdXTtcbiAgICAgICAgdmFyIGJyYW5jaENvdW50ID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjdXJJZCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YXIgcHJldklkID0gYnJhbmNoZXNbYnJhbmNoQ291bnRdWzBdIHx8IG51bGw7XG4gICAgICAgICAgICB2YXIgY3VyQnJhbmNoID0gW2N1cklkXTtcbiAgICAgICAgICAgIGlmIChwcmV2SWQpIHtjdXJCcmFuY2gudW5zaGlmdChwcmV2SWQpO31cbiAgICAgICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGN1cklkID09ICdsaW5lZW5kJykge2JyZWFrO31cbiAgICAgICAgICAgICAgICBpZiAoY3VySWQgIT0gJ2xpbmVzdGFydCcgJiYgcHJldklkID09IHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJyYW5jaCBlbmRzXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZJZCA9IGN1cklkO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uY2hpbGRyZW47XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VySWQgPSBjaGlsZHJlblswXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJldklkID09ICdsaW5lc3RhcnQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBicmFuY2hOZXh0SWQgPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBicmFuY2hOZXh0SWQgPSB0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgYnJhbmNoTmV4dElkID0gZ2V0UGFyYW1zKCkuc3RuX2xpc3RbcHJldklkXS5icmFuY2gucmlnaHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cklkID0gY2hpbGRyZW4uZmlsdGVyKHN0bklkID0+IHN0bklkICE9IGJyYW5jaE5leHRJZClbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VyQnJhbmNoLnB1c2goY3VySWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyYW5jaGVzW2JyYW5jaENvdW50XSA9IGN1ckJyYW5jaDtcbiAgICAgICAgICAgIGJyYW5jaENvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gYnJhbmNoZXMubWFwKGJyYW5jaCA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYnJhbmNoLmZpbHRlcihzdG5JZCA9PiAhWydsaW5lc3RhcnQnLCAnbGluZWVuZCddLmluY2x1ZGVzKHN0bklkKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCByb3V0ZXMoKSB7XG4gICAgICAgIHZhciBzdGFjayA9IFsnbGluZXN0YXJ0J107XG4gICAgICAgIHZhciBicmFuY2hlcyA9IFtbJ2xpbmVzdGFydCddXTtcbiAgICAgICAgdmFyIGJyYW5jaENvdW50ID0gMDtcbiAgICAgICAgXG4gICAgICAgIHdoaWxlIChzdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBjdXJJZCA9IHN0YWNrLnNoaWZ0KCk7XG4gICAgICAgICAgICB2YXIgcHJldklkID0gYnJhbmNoZXNbYnJhbmNoQ291bnRdLnNsaWNlKCkucmV2ZXJzZSgpWzBdIHx8IG51bGw7XG4gICAgICAgICAgICBpZiAocHJldklkICYmIGN1cklkICE9PSAnbGluZXN0YXJ0Jykge1xuICAgICAgICAgICAgICAgIGJyYW5jaGVzW2JyYW5jaENvdW50XS5wdXNoKGN1cklkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJhbmNoZXNbYnJhbmNoQ291bnRdID0gW2N1cklkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChjdXJJZCAhPT0gJ2xpbmVlbmQnKSB7XG4gICAgICAgICAgICAgICAgcHJldklkID0gY3VySWQ7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5zdGF0aW9uc1twcmV2SWRdLmNoaWxkcmVuO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cklkID0gY2hpbGRyZW5bMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJyYW5jaE5leHRJZCA9IHRoaXMuc3RhdGlvbnNbcHJldklkXS5icmFuY2gucmlnaHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAoYnJhbmNoQ291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRpb25zW3ByZXZJZF0uYnJhbmNoLnJpZ2h0WzBdID09PSAndGhyb3VnaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlcy5wdXNoKGJyYW5jaGVzW2JyYW5jaENvdW50XS5zbGljZSgpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGJyYW5jaE5leHRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChicmFuY2hDb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhY2sucHVzaChicmFuY2hOZXh0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBicmFuY2hlcy5wdXNoKFtwcmV2SWRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFjay5wdXNoKGJyYW5jaE5leHRJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJJZCA9IGNoaWxkcmVuLmZpbHRlcihzdG5JZCA9PiBzdG5JZCAhPSBicmFuY2hOZXh0SWQpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyYW5jaGVzW2JyYW5jaENvdW50XS5wdXNoKGN1cklkKTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmV2SWQgPT09IHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzFdICYmIHRoaXMuc3RhdGlvbnNbY3VySWRdLmJyYW5jaC5sZWZ0WzBdID09PSAnbm9udGhyb3VnaCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gYnJhbmNoZXNbYnJhbmNoQ291bnRdID0gY3VyQnJhbmNoO1xuICAgICAgICAgICAgYnJhbmNoQ291bnQrKztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBicmFuY2hlcztcbiAgICB9XG59XG4iLCJpbXBvcnQgeyB1cGRhdGVQYXJhbSwgZ2V0UGFyYW1zIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgTURDRGlhbG9nIH0gZnJvbSAnQG1hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi9MaW5lJztcblxuY29uc3QgZ2V0TGluZUNsYXNzID0gYXN5bmMgKHN0eWxlOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICAgIGNhc2UgJ210cic6XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFJNR0xpbmUpO1xuICAgICAgICAvLyBsYXp5IGxvYWRpbmdcbiAgICAgICAgY2FzZSAnZ3ptdHInOlxuICAgICAgICAgICAgcmV0dXJuIGltcG9ydCgvKiB3ZWJwYWNrQ2h1bmtOYW1lOiBcIkxpbmVHWlwiICovICcuL0xpbmVHWicpXG4gICAgICAgICAgICAgICAgLnRoZW4oKHsgUk1HTGluZUdaIH0pID0+IFJNR0xpbmVHWik7XG4gICAgICAgIC8vIGFueSBvdGhlciBzdHlsZXNcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcbiAgICBcbmNvbnN0IGxvYWRMaW5lID0gYXN5bmMgKHBhcmFtKSA9PiB7XG4gICAgbGV0IGxpbmVDbGFzcyA9IGF3YWl0IGdldExpbmVDbGFzcyh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSk7XG4gICAgd2luZG93Lm15TGluZSA9IGF3YWl0IG5ldyBsaW5lQ2xhc3MocGFyYW0pO1xuICAgIGxpbmVDbGFzcy5pbml0U1ZHKHdpbmRvdy5teUxpbmUpO1xufVxuXG5pZiAobG9jYWxTdG9yYWdlLnJtZ1BhcmFtICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgICB1cGRhdGVQYXJhbSgpO1xuICAgICAgICBsb2FkTGluZShnZXRQYXJhbXMoKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGxldCBpbml0RXJyRGlhZyA9IE1EQ0RpYWxvZy5hdHRhY2hUbygkKCcjaW5pdF9lcnJfZGlhZycpWzBdKTtcbiAgICAgICAgJCgnI2luaXRfZXJyX2RpYWcnKVxuICAgICAgICAgICAgLmZpbmQoJyNlcnJfc3RhY2snKVxuICAgICAgICAgICAgLmh0bWwoZXJyICsgJzxicj4nICsgZXJyLnN0YWNrLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpKTtcbiAgICAgICAgaW5pdEVyckRpYWcub3BlbigpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgfVxufSBlbHNlIHtcbiAgICAkLmdldEpTT04oYHRlbXBsYXRlcy9ibGFuay5qc29uYCwgZGF0YSA9PiB7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5ybWdQYXJhbSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICB1cGRhdGVQYXJhbSgpO1xuICAgICAgICBsb2FkTGluZShnZXRQYXJhbXMoKSk7XG4gICAgfSk7XG59XG4gICAgXG59XG5cbiIsImltcG9ydCB7IGdldFBhcmFtcywgcHV0UGFyYW1zLCBjb3VudHJ5Q29kZTJFbW9qaSwgZ2V0VHJhbnNUZXh0LCByZ2IySGV4IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgQ2l0eUVudHJ5LCBMaW5lRW50cnkgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSTUdMaW5lR1ogfSBmcm9tICcuLi9MaW5lL0xpbmVHWic7XG5pbXBvcnQgeyBNRENMaXN0IH0gZnJvbSAnQG1hdGVyaWFsL2xpc3QnO1xuaW1wb3J0IHsgTURDRGlhbG9nIH0gZnJvbSAnQG1hdGVyaWFsL2RpYWxvZyc7XG5pbXBvcnQgeyBNRENTZWxlY3QgfSBmcm9tICdAbWF0ZXJpYWwvc2VsZWN0JztcbmltcG9ydCB7IE1EQ1RleHRGaWVsZCB9IGZyb20gJ0BtYXRlcmlhbC90ZXh0ZmllbGQnO1xuaW1wb3J0IHsgTURDU3dpdGNoIH0gZnJvbSAnQG1hdGVyaWFsL3N3aXRjaCc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tb24oKSB7XG4gICAgLy8gbWRjIGluc3RhbmNlc1xuICAgIGNvbnN0IGRlc2lnbkxpc3QgPSBNRENMaXN0LmF0dGFjaFRvKCQoJyNkZXNpZ25fbGlzdCcpWzBdKTtcbiAgICBjb25zdCBbdGhlbWVEaWFsb2csIGxpbmVOYW1lRGlhbG9nXSA9IFxuICAgICAgICBbJyNkZXNpZ25fdGhlbWVfZGlhZycsICcjbGluZV9uYW1lX2RpYWcnXS5tYXAoc2VsZWN0b3IgPT4gTURDRGlhbG9nLmF0dGFjaFRvKCQoc2VsZWN0b3IpWzBdKSk7XG4gICAgY29uc3QgW3RoZW1lQ2l0eVNlbGVjdCwgdGhlbWVMaW5lU2VsZWN0XSA9IFxuICAgICAgICBbJyN0aGVtZV9jaXR5JywgJyN0aGVtZV9saW5lJ10ubWFwKHNlbGVjdG9yID0+IG5ldyBNRENTZWxlY3QoJChzZWxlY3RvcilbMF0pKTtcbiAgICAvLyBjb25zdCB0aGVtZUNpdHlTZWxlY3QgPSBuZXcgTURDU2VsZWN0KCQoJyN0aGVtZV9jaXR5JylbMF0pO1xuICAgIC8vIGNvbnN0IHRoZW1lTGluZVNlbGVjdCA9IG5ldyBNRENTZWxlY3QoJCgnI3RoZW1lX2xpbmUnKVswXSk7XG4gICAgY29uc3QgW2xpbmVOYW1lWkhUZXh0RmllbGQsIGxpbmVOYW1lRU5UZXh0RmllbGRdID0gXG4gICAgICAgIFsnI25hbWVfemgnLCAnI25hbWVfZW4nXS5tYXAoc2VsZWN0b3IgPT4gTURDVGV4dEZpZWxkLmF0dGFjaFRvKCQoJyNsaW5lX25hbWVfZGlhZycpLmZpbmQoc2VsZWN0b3IpWzBdKSk7XG4gICAgY29uc3QgcGxhdGZvcm1OdW1UZXh0RmllbGQgPSBNRENUZXh0RmllbGQuYXR0YWNoVG8oJCgnI3BsYXRmb3JtX251bScpWzBdKTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbnNcbiAgICBjb25zdCBnZXREaXJlY3Rpb25UZXh0ID0gKGRpcmVjOiAnbCcgfCAncicpID0+IHtcbiAgICAgICAgcmV0dXJuICQoJyNkZXNpZ25fbGlzdCcpXG4gICAgICAgICAgICAuZmluZChgbGkjZGlyZWMgcCMke2RpcmVjfWApXG4gICAgICAgICAgICAudGV4dCgpO1xuICAgIH07XG5cbiAgICAvLyBpbml0IHZhbHVlc1xuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xuICAgICAgICAgICAgJCgnI2Rlc2lnbl9saXN0JylcbiAgICAgICAgICAgICAgICAuZmluZCgnbGkjbmFtZSAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQnKVxuICAgICAgICAgICAgICAgIC50ZXh0KHBhcmFtLmxpbmVfbmFtZS5qb2luKCkpO1xuICAgICAgICAgICAgbGluZU5hbWVaSFRleHRGaWVsZC52YWx1ZSA9IHBhcmFtLmxpbmVfbmFtZVswXTtcbiAgICAgICAgICAgIGxpbmVOYW1lRU5UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5saW5lX25hbWVbMV07XG5cbiAgICAgICAgICAgICQoJyNkZXNpZ25fbGlzdCcpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpI2RpcmVjIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXG4gICAgICAgICAgICAgICAgLnRleHQoZ2V0RGlyZWN0aW9uVGV4dChwYXJhbS5kaXJlY3Rpb24pKTtcblxuICAgICAgICAgICAgcGxhdGZvcm1OdW1UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5wbGF0Zm9ybV9udW07XG4gICAgICAgIH0pO1xuICAgIFxuICAgICQuZ2V0SlNPTignZGF0YS9jaXR5X2xpc3QuanNvbicsIChkYXRhOiBDaXR5RW50cnlbXSkgPT4ge1xuICAgICAgICBsZXQgbGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyk7XG4gICAgICAgIGRhdGEuZm9yRWFjaChjID0+IHtcbiAgICAgICAgICAgICQoJyN0aGVtZV9jaXR5X19zZWxlY3Rpb24nKS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJCgnPGxpPicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdtZGMtbGlzdC1pdGVtJywgXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLXZhbHVlJzogYy5pZFxuICAgICAgICAgICAgICAgIH0pLnRleHQoY291bnRyeUNvZGUyRW1vamkoYy5jb3VudHJ5KSArIGdldFRyYW5zVGV4dChjLm5hbWUsIGxhbmcpKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIFt0aGVtZUNpdHldID0gZ2V0UGFyYW1zKCkudGhlbWVcbiAgICAgICAgdmFyIGNpdHlJZHggPSAkKGAjdGhlbWVfY2l0eV9fc2VsZWN0aW9uID4gW2RhdGEtdmFsdWU9XCIke3RoZW1lQ2l0eX1cIl1gKS5pbmRleCgpO1xuICAgICAgICB0aGVtZUNpdHlTZWxlY3Quc2VsZWN0ZWRJbmRleCA9IGNpdHlJZHg7XG4gICAgfSk7XG5cbiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgZGVzaWduTGlzdC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0aGVtZURpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbGluZU5hbWVEaWFsb2cub3BlbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIGlmIChnZXRQYXJhbXMoKS5kaXJlY3Rpb24gPT0gJ3InKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyaWdodCB0byBsZWZ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5teUxpbmUuZGlyZWN0aW9uID0gJ2wnO1xuICAgICAgICAgICAgICAgICAgICAkKCcjZGVzaWduX2xpc3QnKS5maW5kKCdsaSNkaXJlYyAubWRjLWxpc3QtaXRlbV9fc2Vjb25kYXJ5LXRleHQnKS50ZXh0KGdldERpcmVjdGlvblRleHQoJ2wnKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2xlZnQgdG8gcmlnaHQnKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS5kaXJlY3Rpb24gPSAncic7XG4gICAgICAgICAgICAgICAgICAgICQoJyNkZXNpZ25fbGlzdCcpLmZpbmQoJ2xpI2RpcmVjIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpLnRleHQoZ2V0RGlyZWN0aW9uVGV4dCgncicpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS5yZXZlcnNlU3RucygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGVtZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuZWQnLCAoKSA9PiB7XG4gICAgICAgIFt0aGVtZUNpdHlTZWxlY3QsIHRoZW1lTGluZVNlbGVjdF0ubWFwKHNlbGVjdCA9PiBzZWxlY3QubGF5b3V0KCkpO1xuICAgIH0pO1xuXG4gICAgdGhlbWVDaXR5U2VsZWN0Lmxpc3RlbihcIk1EQ1NlbGVjdDpjaGFuZ2VcIiwgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgbGV0IGNpdHkgPSBldmVudC5kZXRhaWwudmFsdWU7XG4gICAgICAgICQoJyN0aGVtZV9saW5lX19zZWxlY3Rpb24nKS5lbXB0eSgpO1xuICAgICAgICAkLmdldEpTT04oYGRhdGEvJHtjaXR5fS5qc29uYCwgKGRhdGE6IExpbmVFbnRyeVtdKSA9PiB7XG4gICAgICAgICAgICB2YXIgbGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyk7XG4gICAgICAgICAgICBkYXRhLmZvckVhY2gobCA9PiB7XG4gICAgICAgICAgICAgICAgJCgnI3RoZW1lX2xpbmVfX3NlbGVjdGlvbicpLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJCgnPGxpPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWRjLWxpc3QtaXRlbScsXG4gICAgICAgICAgICAgICAgICAgICAgICAnZGF0YS12YWx1ZSc6IGwuaWRcbiAgICAgICAgICAgICAgICAgICAgfSkuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4+JykuY3NzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBsLmNvbG91ciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGwuZmcgfHwgJyNmZmYnXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS50ZXh0KCdcXHUwMGEwJyArIGdldFRyYW5zVGV4dChsLm5hbWUsIGxhbmcpICsgJ1xcdTAwYTAnKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgcGFyYW0gPSBnZXRQYXJhbXMoKTtcbiAgICAgICAgICAgIHBhcmFtLnRoZW1lWzBdID0gY2l0eTtcbiAgICAgICAgICAgIHB1dFBhcmFtcyhwYXJhbSk7XG5cbiAgICAgICAgICAgIHZhciBsaW5lSWR4ID0gJChgI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiA+IFtkYXRhLXZhbHVlPVwiJHtwYXJhbS50aGVtZVsxXX1cIl1gKS5pbmRleCgpO1xuICAgICAgICAgICAgdGhlbWVMaW5lU2VsZWN0LnNlbGVjdGVkSW5kZXggPSBsaW5lSWR4PT0tMSA/IDAgOiBsaW5lSWR4O1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHRoZW1lTGluZVNlbGVjdC5saXN0ZW4oXCJNRENTZWxlY3Q6Y2hhbmdlXCIsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGxldCBsaW5lSWR4ID0gZXZlbnQuZGV0YWlsLmluZGV4O1xuXG4gICAgICAgIHZhciBwYXJhbSA9IGdldFBhcmFtcygpO1xuICAgICAgICBwYXJhbS50aGVtZVsxXSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICAgICAgcHV0UGFyYW1zKHBhcmFtKTtcblxuICAgICAgICB3aW5kb3cubXlMaW5lLnRoZW1lTGluZSA9IGV2ZW50LmRldGFpbC52YWx1ZTtcbiAgICAgICAgd2luZG93Lm15TGluZS50aGVtZUNvbG91ciA9IFsnYmFja2dyb3VuZC1jb2xvcicsICdjb2xvciddXG4gICAgICAgICAgICAubWFwKHByb3AgPT4gJCgnI3RoZW1lX2xpbmVfX3NlbGVjdGlvbiBzcGFuJykuZXEobGluZUlkeCkuY3NzKHByb3ApKVxuICAgICAgICAgICAgLm1hcChyZ2IySGV4KTtcblxuICAgICAgICAkKCcjZGVzaWduX2xpc3QnKVxuICAgICAgICAgICAgLmZpbmQoJ2xpI3RoZW1lIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXG4gICAgICAgICAgICAuaHRtbChcbiAgICAgICAgICAgICAgICAkKCcjdGhlbWVfY2l0eV9fc2VsZWN0aW9uIGxpJykuZXEodGhlbWVDaXR5U2VsZWN0LnNlbGVjdGVkSW5kZXgpLnRleHQoKSArXG4gICAgICAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgICAgICAkKCcjdGhlbWVfbGluZV9fc2VsZWN0aW9uIGxpJykuZXEobGluZUlkeCkuaHRtbCgpLnRyaW0oKVxuICAgICAgICAgICAgKTtcbiAgICB9KTtcblxuICAgIGxpbmVOYW1lRGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5lZCcsIGV2ZW50ID0+IHtcbiAgICAgICAgW2xpbmVOYW1lWkhUZXh0RmllbGQsIGxpbmVOYW1lRU5UZXh0RmllbGRdLm1hcCh0ZXh0ZmllbGQgPT4gdGV4dGZpZWxkLmxheW91dCgpKTtcbiAgICB9KTtcblxuICAgICQoJyNsaW5lX25hbWVfZGlhZycpXG4gICAgICAgIC5maW5kKCcubWRjLXRleHQtZmllbGQnKVxuICAgICAgICAub24oJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgbGV0IGxpbmVOYW1lcyA9IFtsaW5lTmFtZVpIVGV4dEZpZWxkLCBsaW5lTmFtZUVOVGV4dEZpZWxkXS5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSk7XG4gICAgICAgICAgICB3aW5kb3cubXlMaW5lLmxpbmVOYW1lcyA9IGxpbmVOYW1lcztcbiAgICAgICAgICAgICQoJyNkZXNpZ25fbGlzdCcpXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCdsaSNuYW1lIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGxpbmVOYW1lcy5qb2luKCkpO1xuICAgICAgICB9KTtcblxuICAgICgkKHBsYXRmb3JtTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcbiAgICAgICAgLm9uKCdpbnB1dCcsIGV2ZW50ID0+IHdpbmRvdy5teUxpbmUucGxhdGZvcm1OdW0gPSBldmVudC50YXJnZXQudmFsdWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbXRyKCkge1xuICAgIC8vIG1kYyBpbnN0YW5jZXNcbiAgICBjb25zdCBkZXNpZ25MaXN0TVRSTGlzdCA9IE1EQ0xpc3QuYXR0YWNoVG8oJCgnI2Rlc2lnbl9saXN0X210cicpWzBdKTtcbiAgICBjb25zdCBjaGFyRGlhbG9nID0gTURDRGlhbG9nLmF0dGFjaFRvKCQoJyNkZXNpZ25fY2hhcl9kaWFnJylbMF0pO1xuICAgIGNvbnN0IGxlZ2FjeVN3aXRjaCA9IG5ldyBNRENTd2l0Y2goJCgnI2xlZ2FjeScpWzBdKTtcblxuICAgIC8vIGhlbHBlciBmdW5jdGlvbnNcbiAgICBjb25zdCBnZXRDaGFyVGV4dCA9IChjaGFyOiBzdHJpbmcpID0+IHtcbiAgICAgICAgcmV0dXJuICQoJyNkZXNpZ25fY2hhcl9kaWFnJylcbiAgICAgICAgICAgIC5maW5kKCdsaScpXG4gICAgICAgICAgICAuZmlsdGVyKChfLCBlbDogSFRNTEVsZW1lbnQpID0+IGVsLmRhdGFzZXQubWRjRGlhbG9nQWN0aW9uID09PSBjaGFyKVxuICAgICAgICAgICAgLmZpbmQoJ3NwYW4nKVxuICAgICAgICAgICAgLnRleHQoKVxuICAgIH07XG5cbiAgICAvLyBpbml0IHZhbHVlc1xuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xuICAgICAgICAgICAgJCgnI2Rlc2lnbl9saXN0X210cicpXG4gICAgICAgICAgICAgICAgLmZpbmQoJ2xpI2NoYXIgLm1kYy1saXN0LWl0ZW1fX3NlY29uZGFyeS10ZXh0JylcbiAgICAgICAgICAgICAgICAudGV4dChnZXRDaGFyVGV4dChwYXJhbS5jaGFyX2Zvcm0pKTtcbiAgICAgICAgICAgIGxlZ2FjeVN3aXRjaC5jaGVja2VkID0gcGFyYW0uZGVzdF9sZWdhY3k7XG4gICAgICAgIH0pO1xuXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIGRlc2lnbkxpc3RNVFJMaXN0Lmxpc3RlbignTURDTGlzdDphY3Rpb24nLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmRldGFpbC5pbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIHdpbmRvdy5teUxpbmUudHh0RmxpcCA9ICFnZXRQYXJhbXMoKS50eHRfZmxpcDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBjaGFyRGlhbG9nLm9wZW4oKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgY2hhckRpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBsZXQgY2hhciA9IGV2ZW50LmRldGFpbC5hY3Rpb247XG4gICAgICAgIGlmIChjaGFyID09ICdjbG9zZScpIHtyZXR1cm47fVxuXG4gICAgICAgIHdpbmRvdy5teUxpbmUuY2hhckZvcm0gPSBjaGFyO1xuICAgICAgICAkKCcjZGVzaWduX2xpc3RfbXRyJylcbiAgICAgICAgICAgIC5maW5kKCdsaSNjaGFyIC5tZGMtbGlzdC1pdGVtX19zZWNvbmRhcnktdGV4dCcpXG4gICAgICAgICAgICAudGV4dChnZXRDaGFyVGV4dChjaGFyKSk7XG4gICAgfSk7XG5cbiAgICAoJChsZWdhY3lTd2l0Y2gucm9vdF8pLmZpbmQoJ2lucHV0JykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+KVxuICAgICAgICAub24oJ2NoYW5nZScsIGV2ZW50ID0+IHdpbmRvdy5teUxpbmUuZGVzdExlZ2FjeSA9IGV2ZW50LnRhcmdldC5jaGVja2VkKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd6bXRyKCkge1xuICAgIC8vIG1kYyBpbnN0YW5jZXNcbiAgICBjb25zdCBkZXNpZ25MaXN0R1pNVFJMaXN0ID0gTURDTGlzdC5hdHRhY2hUbygkKCcjZGVzaWduX2xpc3RfZ3ptdHInKVswXSk7XG4gICAgY29uc3QgcGFuZWxUeXBlRGlhbG9nID0gTURDRGlhbG9nLmF0dGFjaFRvKCQoJyNwYW5lbF90eXBlX2RpYWcnKVswXSk7XG4gICAgY29uc3QgW3BzZE51bVRleHRGaWVsZCwgbGluZU51bVRleHRGaWVsZF0gPSBcbiAgICAgICAgWycjcHNkX251bScsICcjbGluZV9udW0nXS5tYXAoc2VsZWN0b3IgPT4gTURDVGV4dEZpZWxkLmF0dGFjaFRvKCQoc2VsZWN0b3IpWzBdKSk7XG5cbiAgICAvLyBpbml0IHZhbHVlc1xuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xuICAgICAgICAgICAgcHNkTnVtVGV4dEZpZWxkLnZhbHVlID0gcGFyYW0ucHNkX251bTtcbiAgICAgICAgICAgIGxpbmVOdW1UZXh0RmllbGQudmFsdWUgPSBwYXJhbS5saW5lX251bTtcbiAgICAgICAgfSk7XG5cbiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgZGVzaWduTGlzdEdaTVRSTGlzdC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBwYW5lbFR5cGVEaWFsb2cub3BlbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAoJChsaW5lTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcbiAgICAgICAgLm9uKCdpbnB1dCcsIGV2ZW50ID0+ICg8Uk1HTGluZUdaPndpbmRvdy5teUxpbmUpLmxpbmVOdW0gPSBldmVudC50YXJnZXQudmFsdWUpO1xuXG4gICAgKCQocHNkTnVtVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcbiAgICAgICAgLm9uKCdpbnB1dCcsIGV2ZW50ID0+ICg8Uk1HTGluZUdaPndpbmRvdy5teUxpbmUpLnBzZE51bSA9IGV2ZW50LnRhcmdldC52YWx1ZSk7XG5cbiAgICBwYW5lbFR5cGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5hY3Rpb24gPT09ICdjbG9zZScpIHtyZXR1cm47fVxuICAgICAgICAoPFJNR0xpbmVHWj53aW5kb3cubXlMaW5lKS5pbmZvUGFuZWxUeXBlID0gZXZlbnQuZGV0YWlsLmFjdGlvbjtcbiAgICB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gY29tbW9uKCkge1xuICAgICQoJyNwYW5lbF9pbmZvIC5tZGMtY2FyZF9fYWN0aW9ucyAjcmVwb3J0Jykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly9naXRodWIuY29tL3dvbmdjaGl0by9SYWlsTWFwR2VuZXJhdG9yL2lzc3VlcycsICdfYmxhbmsnKTtcbiAgICB9KTtcbiAgICAkKCcjcGFuZWxfaW5mbyAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyBbdGl0bGU9XCJTdGFyXCJdJykub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB3aW5kb3cub3BlbignaHR0cHM6Ly9naXRodWIuY29tL3dvbmdjaGl0by9SYWlsTWFwR2VuZXJhdG9yJywgJ19ibGFuaycpO1xuICAgIH0pO1xuICAgICQoJyNwYW5lbF9pbmZvIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zIFt0aXRsZT1cIkZvcmtcIl0nKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5vcGVuKCdodHRwczovL2dpdGh1Yi5jb20vd29uZ2NoaXRvL1JhaWxNYXBHZW5lcmF0b3IvZm9yaycsICdfYmxhbmsnKTtcbiAgICB9KTtcbn0iLCJpbXBvcnQgKiBhcyBpbml0TGF5b3V0IGZyb20gJy4vbGF5b3V0JztcbmltcG9ydCAqIGFzIGluaXREZXNpZ24gZnJvbSAnLi9kZXNpZ24nO1xuaW1wb3J0ICogYXMgaW5pdFN0YXRpb25zIGZyb20gJy4vc3RhdGlvbnMnO1xuaW1wb3J0ICogYXMgaW5pdEluZm8gZnJvbSAnLi9pbmZvJztcbmltcG9ydCB7IE1EQ1RhYkJhciB9IGZyb20gJ0BtYXRlcmlhbC90YWItYmFyJztcbmltcG9ydCB7IE1EQ1NsaWRlciB9IGZyb20gJ0BtYXRlcmlhbC9zbGlkZXInO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoKSB7XG4gICAgXG5sZXQgZmlyc3RJbml0ID0gW2ZhbHNlLCB0cnVlLCB0cnVlLCB0cnVlLCB0cnVlXTtcbndpbmRvdy5zbGlkZXJzID0gW10gYXMgTURDU2xpZGVyW107XG5cbk1EQ1RhYkJhci5hdHRhY2hUbygkKCcjcGFuZWxzIC5tZGMtdGFiLWJhcicpWzBdKS5saXN0ZW4oJ01EQ1RhYkJhcjphY3RpdmF0ZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICQoJy5wYW5lbC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3BhbmVsLS1hY3RpdmUnKTtcbiAgICAkKCcucGFuZWwnKS5lcShldmVudC5kZXRhaWwuaW5kZXgpLmFkZENsYXNzKCdwYW5lbC0tYWN0aXZlJyk7XG5cbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09IDEgJiYgZmlyc3RJbml0WzFdKSB7XG4gICAgICAgIGluaXRMYXlvdXQuY29tbW9uKCk7XG4gICAgICAgIGlmICh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSA9PT0gJ2d6bXRyJykge1xuICAgICAgICAgICAgaW5pdExheW91dC5nem10cigpO1xuICAgICAgICB9XG4gICAgICAgIGZpcnN0SW5pdFsxXSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09PSAxKSB7XG4gICAgICAgIHdpbmRvdy5zbGlkZXJzLmZvckVhY2goc2xpZGVyID0+IHNsaWRlci5sYXlvdXQoKSk7XG4gICAgfVxuICAgIGlmIChldmVudC5kZXRhaWwuaW5kZXggPT0gMiAmJiBmaXJzdEluaXRbMl0pIHtcbiAgICAgICAgaW5pdERlc2lnbi5jb21tb24oKTtcbiAgICAgICAgc3dpdGNoICh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSkge1xuICAgICAgICAgICAgY2FzZSAnbXRyJzpcbiAgICAgICAgICAgICAgICBpbml0RGVzaWduLm10cigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnZ3ptdHInOlxuICAgICAgICAgICAgICAgIGluaXREZXNpZ24uZ3ptdHIoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBmaXJzdEluaXRbMl0gPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PSAzICYmIGZpcnN0SW5pdFszXSkge1xuICAgICAgICBjb25zb2xlLmxvZygnaW5pdCBhZ2FpbicpO1xuICAgICAgICBpbml0U3RhdGlvbnMuY29tbW9uKCk7XG4gICAgICAgIGZpcnN0SW5pdFszXSA9IGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZXZlbnQuZGV0YWlsLmluZGV4ID09IDQgJiYgZmlyc3RJbml0WzRdKSB7XG4gICAgICAgIGluaXRJbmZvLmNvbW1vbigpO1xuICAgICAgICBmaXJzdEluaXRbNF0gPSBmYWxzZTtcbiAgICB9XG59KTtcblxufVxuXG4iLCJpbXBvcnQgeyBnZXRQYXJhbXMgfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSTUdMaW5lR1ogfSBmcm9tICcuLi9MaW5lL0xpbmVHWic7XG5pbXBvcnQgeyBNRENUZXh0RmllbGQgfSBmcm9tICdAbWF0ZXJpYWwvdGV4dGZpZWxkJztcbmltcG9ydCB7IE1EQ1NsaWRlciB9IGZyb20gJ0BtYXRlcmlhbC9zbGlkZXInO1xuaW1wb3J0IHsgUk1HTGluZSB9IGZyb20gJy4uL0xpbmUvTGluZSc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgbXlMaW5lPzogUk1HTGluZTtcbiAgICAgICAgc2xpZGVycz86IE1EQ1NsaWRlcltdO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbW1vbigpIHtcbiAgICAvLyBtZGMgaW5zdGFuY2VzXG4gICAgY29uc3QgW3N2Z0Rlc3RXaWR0aFRleHRGaWVsZCwgc3ZnV2lkdGhUZXh0RmllbGRdID0gXG4gICAgICAgIFsnI3N2Z19kZXN0X3dpZHRoJywgJyNzdmdfd2lkdGgnXS5tYXAoc2VsZWN0b3IgPT4gTURDVGV4dEZpZWxkLmF0dGFjaFRvKCQoc2VsZWN0b3IpWzBdKSk7XG5cbiAgICBjb25zdCBbYnJhbmNoU3BhY2luZ1NsaWRlciwgeVBjU2xpZGVyLCBwYWRkaW5nU2xpZGVyXSA9IFxuICAgICAgICBbJyNicmFuY2hfc3BhY2luZycsICcjeV9wYycsICcjcGFkZGluZyddLm1hcChzZWxlY3RvciA9PiBNRENTbGlkZXIuYXR0YWNoVG8oJChzZWxlY3RvcilbMF0pKTtcbiAgICB3aW5kb3cuc2xpZGVycy5wdXNoKGJyYW5jaFNwYWNpbmdTbGlkZXIsIHlQY1NsaWRlciwgcGFkZGluZ1NsaWRlcik7XG5cbiAgICAvLyBpbml0IHZhbHVlc1xuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xuICAgICAgICAgICAgc3ZnRGVzdFdpZHRoVGV4dEZpZWxkLnZhbHVlID0gcGFyYW0uc3ZnX2Rlc3Rfd2lkdGg7XG4gICAgICAgICAgICBzdmdXaWR0aFRleHRGaWVsZC52YWx1ZSA9IHBhcmFtLnN2Z193aWR0aDtcbiAgICAgICAgICAgIHlQY1NsaWRlci52YWx1ZSA9IHBhcmFtLnlfcGM7XG4gICAgICAgICAgICBicmFuY2hTcGFjaW5nU2xpZGVyLnZhbHVlID0gcGFyYW0uYnJhbmNoX3NwYWNpbmc7XG4gICAgICAgICAgICBwYWRkaW5nU2xpZGVyLnZhbHVlID0gcGFyYW0ucGFkZGluZztcbiAgICAgICAgfSk7XG5cbiAgICAvLyBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gICAgKCQoc3ZnRGVzdFdpZHRoVGV4dEZpZWxkLnJvb3RfKS5maW5kKCdpbnB1dCcpIGFzIEpRdWVyeTxIVE1MSW5wdXRFbGVtZW50PilcbiAgICAgICAgLm9uKCdpbnB1dCcsIGV2ZW50ID0+IHdpbmRvdy5teUxpbmUuc3ZnRGVzdFdpZHRoID0gTnVtYmVyKGV2ZW50LnRhcmdldC52YWx1ZSkpO1xuXG4gICAgKCQoc3ZnV2lkdGhUZXh0RmllbGQucm9vdF8pLmZpbmQoJ2lucHV0JykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+KVxuICAgICAgICAub24oJ2lucHV0JywgZXZlbnQgPT4gd2luZG93Lm15TGluZS5zdmdXaWR0aCA9IE51bWJlcihldmVudC50YXJnZXQudmFsdWUpKTtcblxuICAgIGJyYW5jaFNwYWNpbmdTbGlkZXIubGlzdGVuKCdNRENTbGlkZXI6aW5wdXQnLCBldmVudCA9PiB7XG4gICAgICAgIHdpbmRvdy5teUxpbmUuYnJhbmNoU3BhY2luZyA9IGJyYW5jaFNwYWNpbmdTbGlkZXIudmFsdWU7XG4gICAgfSk7XG5cbiAgICB5UGNTbGlkZXIubGlzdGVuKCdNRENTbGlkZXI6aW5wdXQnLCBldmVudCA9PiB7XG4gICAgICAgIHdpbmRvdy5teUxpbmUueVBjID0gTnVtYmVyKHlQY1NsaWRlci52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBwYWRkaW5nU2xpZGVyLmxpc3RlbignTURDU2xpZGVyOmlucHV0JywgZXZlbnQgPT4ge1xuICAgICAgICB3aW5kb3cubXlMaW5lLnBhZGRpbmcgPSBwYWRkaW5nU2xpZGVyLnZhbHVlO1xuICAgIH0pOyAgICBcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGd6bXRyKCkge1xuICAgIC8vIG1kYyBpbnN0YW5jZXNcbiAgICBjb25zdCBbZGlyZWN0aW9uR1pYU2xpZGVyLCBkaXJlY3Rpb25HWllTbGlkZXJdID1cbiAgICAgICAgWycjZGlyZWN0aW9uX2d6X3gnLCAnI2RpcmVjdGlvbl9nel95J11cbiAgICAgICAgICAgIC5tYXAoc2VsZWN0b3IgPT4gTURDU2xpZGVyLmF0dGFjaFRvKCQoc2VsZWN0b3IpWzBdKSk7XG4gICAgd2luZG93LnNsaWRlcnMucHVzaChkaXJlY3Rpb25HWlhTbGlkZXIsIGRpcmVjdGlvbkdaWVNsaWRlcik7XG5cbiAgICAvLyBpbml0IHZhbHVlc1xuICAgIFByb21pc2UucmVzb2x2ZShnZXRQYXJhbXMoKSlcbiAgICAgICAgLnRoZW4ocGFyYW0gPT4ge1xuICAgICAgICAgICAgZGlyZWN0aW9uR1pYU2xpZGVyLnZhbHVlID0gcGFyYW0uZGlyZWN0aW9uX2d6X3g7XG4gICAgICAgICAgICBkaXJlY3Rpb25HWllTbGlkZXIudmFsdWUgPSBwYXJhbS5kaXJlY3Rpb25fZ3pfeTtcbiAgICAgICAgfSk7XG4gICAgXG4gICAgLy8gYWRkIGV2ZW50IGxpc3RlbmVyc1xuICAgIGRpcmVjdGlvbkdaWFNsaWRlci5saXN0ZW4oJ01EQ1NsaWRlcjppbnB1dCcsIGV2ZW50ID0+IHtcbiAgICAgICAgKDxSTUdMaW5lR1o+d2luZG93Lm15TGluZSkuZGlyZWN0aW9uR1pYID0gTnVtYmVyKGRpcmVjdGlvbkdaWFNsaWRlci52YWx1ZSk7XG4gICAgfSk7XG5cbiAgICBkaXJlY3Rpb25HWllTbGlkZXIubGlzdGVuKCdNRENTbGlkZXI6aW5wdXQnLCBldmVudCA9PiB7XG4gICAgICAgICg8Uk1HTGluZUdaPndpbmRvdy5teUxpbmUpLmRpcmVjdGlvbkdaWSA9IE51bWJlcihkaXJlY3Rpb25HWllTbGlkZXIudmFsdWUpO1xuICAgIH0pO1xufSIsImltcG9ydCB7IGdldFBhcmFtcywgZ2V0VHJhbnNUZXh0LCB0ZXN0LCBkZXNjcmliZVBhcmFtcywgUk1HUGFyYW0gfSBmcm9tICcuLi91dGlscyc7XG5pbXBvcnQgeyBSTUdMaW5lIH0gZnJvbSAnLi4vTGluZS9MaW5lJztcbmltcG9ydCBtZGNBdXRvSW5pdCBmcm9tICdAbWF0ZXJpYWwvYXV0by1pbml0JztcbmltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gJ0BtYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgTURDTGlzdCB9IGZyb20gJ0BtYXRlcmlhbC9saXN0JztcbmltcG9ydCB7IE1EQ1JpcHBsZSB9IGZyb20gJ0BtYXRlcmlhbC9yaXBwbGUnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFdpbmRvdyB7XG4gICAgICAgIHVybFBhcmFtcz86IFVSTFNlYXJjaFBhcmFtcztcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb21tb24oKSB7ICAgIFxuICAgIC8vIG1kYyBpbnRhbmNlcyBcbiAgICBjb25zdCBbdGVtcGxhdGVEaWFsb2csIGltcG9ydERpYWxvZywgZXhwb3J0RGlhbG9nLCBwcmV2aWV3RGlhbG9nLCBzdHlsZURpYWxvZywgbGFuZ0RpYWxvZ10gPSBcbiAgICAgICAgWycjdGVtcGxhdGVfZGlhZycsICcjaW1wb3J0X2RpYWcnLCAnI2V4cG9ydF9kaWFnJywgJyNwcmV2aWV3X2RpYWcnLCAnI3N0eWxlX2RpYWcnLCAnI2xhbmdfZGlhZyddXG4gICAgICAgICAgICAubWFwKHNlbGVjdG9yID0+IE1EQ0RpYWxvZy5hdHRhY2hUbygkKHNlbGVjdG9yKVswXSkpO1xuICAgIGNvbnN0IFtzYXZlTGlzdDAsIHNhdmVMaXN0MV0gPSAkKCcjcGFuZWxfc2F2ZSAubWRjLWxpc3QnKS5tYXAoKF8sZWwpID0+IE1EQ0xpc3QuYXR0YWNoVG8oZWwpKS5nZXQoKTtcblxuICAgIHNhdmVMaXN0MC5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZURpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgJCgnI3VwbG9hZF9maWxlJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAvLyB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgICAgICAgICAgICAvLyB2YXIgZGF0YSA9IG5ldyBCbG9iKFtsb2NhbFN0b3JhZ2Uucm1nUGFyYW1dLCB7dHlwZTogJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtOCd9KTtcbiAgICAgICAgICAgICAgICAvLyB2YXIgdXJsID0gd2luZG93LlVSTC5jcmVhdGVPYmplY3RVUkwoZGF0YSk7XG4gICAgICAgICAgICAgICAgLy8gbGluay5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIC8vIGxpbmsuZG93bmxvYWQgPSAncm1nX2NvbmZpZy5qc29uJztcbiAgICAgICAgICAgICAgICAvLyBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgLy8gVVJMLnJldm9rZU9iamVjdFVSTCh1cmwpO1xuICAgICAgICAgICAgICAgIC8vIGJyZWFrO1xuICAgICAgICAgICAgICAgIHZhciBsaW5rID0gJCgnPGE+Jywge1xuICAgICAgICAgICAgICAgICAgICBocmVmOiAnZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCwnK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGxvY2FsU3RvcmFnZS5ybWdQYXJhbSkpKSwgXG4gICAgICAgICAgICAgICAgICAgIGRvd25sb2FkOiAncm1nX3BhcmFtLmpzb24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGlua1swXS5jbGljaygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgIGV4cG9ydERpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQoJyNwYW5lbF9zYXZlIC5tZGMtbGlzdDpudGgtY2hpbGQoMikgbGk6Zmlyc3QtY2hpbGQgc3BhbjpudGgtY2hpbGQoMikgc3BhbjpsYXN0LWNoaWxkJylcbiAgICAgICAgLmF0dHIoJ3RyYW5zLXRhZycsICQoYCNzdHlsZV9kaWFnIFtkYXRhLW1kYy1kaWFsb2ctYWN0aW9uPVwiJHt3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKX1cIl0gc3BhbmApLmF0dHIoJ3RyYW5zLXRhZycpKVxuICAgICAgICAudGV4dCgkKGAjc3R5bGVfZGlhZyBbZGF0YS1tZGMtZGlhbG9nLWFjdGlvbj1cIiR7d2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyl9XCJdIHNwYW5gKS50ZXh0KCkpO1xuXG4gICAgJCgnI3BhbmVsX3NhdmUgLm1kYy1saXN0Om50aC1jaGlsZCgyKSBsaTpudGgtY2hpbGQoMikgc3BhbjpudGgtY2hpbGQoMikgc3BhbjpsYXN0LWNoaWxkJylcbiAgICAgICAgLnRleHQoJChgI2xhbmdfZGlhZyBbZGF0YS1tZGMtZGlhbG9nLWFjdGlvbj1cIiR7d2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKX1cIl0gc3BhbmApLnRleHQoKSk7XG4gICAgICAgIFxuICAgIHNhdmVMaXN0MS5saXN0ZW4oJ01EQ0xpc3Q6YWN0aW9uJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuaW5kZXgpIHtcbiAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICBzdHlsZURpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgbGFuZ0RpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQuZ2V0SlNPTigndGVtcGxhdGVzL3RlbXBsYXRlX2xpc3QuanNvbicsIGRhdGEgPT4ge1xuICAgICAgICB2YXIgbGFuZyA9IHdpbmRvdy51cmxQYXJhbXMuZ2V0KCdsYW5nJyk7XG4gICAgICAgIGRhdGEuZm9yRWFjaChkID0+IHtcbiAgICAgICAgICAgICQoJyN0ZW1wbGF0ZV9kaWFnIHVsJykuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoJzxsaT4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzOiBcIm1kYy1saXN0LWl0ZW1cIiwgXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLW1kYy1kaWFsb2ctYWN0aW9uJzogZC5maWxlbmFtZSwgXG4gICAgICAgICAgICAgICAgICAgICdkYXRhLW1kYy1hdXRvLWluaXQnOiAnTURDUmlwcGxlJ1xuICAgICAgICAgICAgICAgIH0pLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJCgnPHNwYW4+JywgeyBjbGFzczogXCJtZGMtbGlzdC1pdGVtX190ZXh0XCIgfSkudGV4dChnZXRUcmFuc1RleHQoZC5kZXNjLCBsYW5nKSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgJCgnI3RlbXBsYXRlX2RpYWcgbGk6Zmlyc3QtY2hpbGQnKS5hdHRyKCd0YWJpbmRleCcsIDApO1xuICAgICAgICAvLyBhdXRvSW5pdCgpO1xuICAgICAgICBtZGNBdXRvSW5pdC5yZWdpc3RlcignTURDUmlwcGxlJywgTURDUmlwcGxlIGFzIGFueSk7XG4gICAgfSk7XG5cbiAgICB0ZW1wbGF0ZURpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7cmV0dXJuO31cbiAgICAgICAgXG4gICAgICAgICQuZ2V0SlNPTihgdGVtcGxhdGVzLyR7ZXZlbnQuZGV0YWlsLmFjdGlvbn0uanNvbmAsIGRhdGEgPT4ge1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQodHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgZXhwb3J0RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQuZGV0YWlsLmFjdGlvbikge1xuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3ZnMSc6XG4gICAgICAgICAgICAgICAgJCgnI3ByZXZpZXdfZGlhZycpLmF0dHIoJ2ZvcicsICdkZXN0aW5hdGlvbicpO1xuICAgICAgICAgICAgICAgIHByZXZpZXdEaWFsb2cub3BlbigpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc3ZnMic6XG4gICAgICAgICAgICAgICAgJCgnI3ByZXZpZXdfZGlhZycpLmF0dHIoJ2ZvcicsICdyYWlsbWFwJyk7XG4gICAgICAgICAgICAgICAgcHJldmlld0RpYWxvZy5vcGVuKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgICQod2luZG93KS5vbigncmVzaXplJywgXyA9PiB7XG4gICAgICAgIHJlc2l6ZVNWR1ByZXZpZXcoKTtcbiAgICAgICAgLy8gJCgnI3ByZXZpZXdfZGlhZyAubWRjLWRpYWxvZ19fc3VyZmFjZScpLmF0dHIoJ3N0eWxlJywgYG1heC13aWR0aDokeyQod2luZG93KS53aWR0aCgpLTMyfXB4O2ApO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc2l6ZVNWR1ByZXZpZXcgPSAoKSA9PiB7XG4gICAgICAgIHZhciBzdmdJZCA9ICQoJ3ByZXZpZXdfZGlhZycpLmF0dHIoJ2ZvcicpO1xuICAgICAgICB2YXIgW3RoaXNTVkdXaWR0aCwgdGhpc1NWR0hlaWdodF0gPSBbXG4gICAgICAgICAgICBzdmdJZD09J2Rlc3RpbmF0aW9uJyA/IGdldFBhcmFtcygpLnN2Z19kZXN0X3dpZHRoIDogZ2V0UGFyYW1zKCkuc3ZnX3dpZHRoLCBcbiAgICAgICAgICAgIGdldFBhcmFtcygpLnN2Z19oZWlnaHRcbiAgICAgICAgXVxuXG4gICAgICAgIHZhciBNQVhfV0lEVEggPSAkKHdpbmRvdykud2lkdGgoKSAtIDMyIC0gNTA7XG4gICAgICAgIHZhciBNQVhfSEVJR0hUID0gJCh3aW5kb3cpLmhlaWdodCgpIC0gNjAgLSA1MyAtIDYwO1xuICAgICAgICB2YXIgc2NhbGVGYWN0b3IgPSBNYXRoLm1pbihNQVhfV0lEVEgvdGhpc1NWR1dpZHRoLCBNQVhfSEVJR0hUL3RoaXNTVkdIZWlnaHQpO1xuXG4gICAgICAgICQoJyNwcmV2aWV3X2RpYWcnKVxuICAgICAgICAgICAgLmZpbmQoJ3N2ZycpXG4gICAgICAgICAgICAuYXR0cih7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXNTVkdXaWR0aCAqIHNjYWxlRmFjdG9yLCBcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXNTVkdIZWlnaHQgKiBzY2FsZUZhY3RvclxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgJCgnI3ByZXZpZXdfZGlhZycpXG4gICAgICAgICAgICAuZmluZCgnLm1kYy1kaWFsb2dfX3N1cmZhY2UnKVxuICAgICAgICAgICAgLmF0dHIoJ3N0eWxlJywgYG1heC13aWR0aDoke01BWF9XSURUSCs1MH1weDtgKTtcbiAgICB9XG4gICAgcHJldmlld0RpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuZWQnLCBldmVudCA9PiB7XG4gICAgICAgIHZhciBzdmdJZCA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdmb3InKTtcbiAgICAgICAgdmFyIFt0aGlzU1ZHV2lkdGgsIHRoaXNTVkdIZWlnaHRdID0gW1xuICAgICAgICAgICAgc3ZnSWQ9PSdkZXN0aW5hdGlvbicgPyBnZXRQYXJhbXMoKS5zdmdfZGVzdF93aWR0aCA6IGdldFBhcmFtcygpLnN2Z193aWR0aCwgXG4gICAgICAgICAgICBnZXRQYXJhbXMoKS5zdmdfaGVpZ2h0XG4gICAgICAgIF1cblxuICAgICAgICAkKCcjcHJldmlld19kaWFnIC5tZGMtZGlhbG9nX19zdXJmYWNlJykuYXR0cignc3R5bGUnLCBgbWF4LXdpZHRoOiR7JCh3aW5kb3cpLndpZHRoKCktMzJ9cHg7YCk7XG5cbiAgICAgICAgdmFyIE1BWF9XSURUSCA9ICQod2luZG93KS53aWR0aCgpIC0gMzIgLSA1MDtcbiAgICAgICAgdmFyIE1BWF9IRUlHSFQgPSAkKHdpbmRvdykuaGVpZ2h0KCkgLSA2MCAtIDUzIC0gNjA7XG4gICAgICAgIHZhciBzY2FsZUZhY3RvciA9IE1hdGgubWluKE1BWF9XSURUSC90aGlzU1ZHV2lkdGgsIE1BWF9IRUlHSFQvdGhpc1NWR0hlaWdodCk7XG5cbiAgICAgICAgJChldmVudC50YXJnZXQpLmZpbmQoJy5tZGMtZGlhbG9nX19jb250ZW50JylcbiAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgJCgnIycrJChldmVudC50YXJnZXQpLmF0dHIoJ2ZvcicpKS5jbG9uZSgpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2FsbDppbml0aWFsOycsIFxuICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiBgMCAwICR7dGhpc1NWR1dpZHRofSAke3RoaXNTVkdIZWlnaHR9YCwgXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzU1ZHV2lkdGggKiBzY2FsZUZhY3RvciwgXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGhpc1NWR0hlaWdodCAqIHNjYWxlRmFjdG9yXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICAkKGV2ZW50LnRhcmdldCkuZmluZCgnc3ZnIFtzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCJdJykucmVtb3ZlKCk7XG4gICAgfSk7XG4gICAgcHJldmlld0RpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PT0gJ2Nsb3NlJykge1xuICAgICAgICAgICAgJChldmVudC50YXJnZXQpLnJlbW92ZUF0dHIoJ2ZvcicpLmZpbmQoJy5tZGMtZGlhbG9nX19jb250ZW50JykuZW1wdHkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAncG5nJykge1xuICAgICAgICAgICAgdGVzdCgkKGV2ZW50LnRhcmdldCkucmVtb3ZlQXR0cignZm9yJykuZmluZCgnc3ZnJykpO1xuICAgICAgICAgICAgJChldmVudC50YXJnZXQpLmZpbmQoJy5tZGMtZGlhbG9nX19jb250ZW50JykuZW1wdHkoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09PSAnc3ZnJykge1xuICAgICAgICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICB2YXIgc3ZnQ29udGVudCA9ICQoZXZlbnQudGFyZ2V0KS5maW5kKCcubWRjLWRpYWxvZ19fY29udGVudCBzdmcnKS5wcmVwZW5kKCQoJ3N0eWxlI3N2Z19zaGFyZScpLmNsb25lKCkpO1xuICAgICAgICAgICAgbGluay5ocmVmID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN2Z0NvbnRlbnRbMF0ub3V0ZXJIVE1MKSkpO1xuICAgICAgICAgICAgbGluay5kb3dubG9hZCA9ICdybWdfZXhwb3J0LnN2Zyc7XG4gICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgXG4gICAgICAgICAgICAkKGV2ZW50LnRhcmdldCkucmVtb3ZlQXR0cignZm9yJykuZmluZCgnLm1kYy1kaWFsb2dfX2NvbnRlbnQnKS5lbXB0eSgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgaW1wb3J0ZWRGaWxlOiBSTUdQYXJhbTtcbiAgICAoJCgnI3VwbG9hZF9maWxlJykgYXMgSlF1ZXJ5PEhUTUxJbnB1dEVsZW1lbnQ+KVxuICAgICAgICAub24oJ2NoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5maWxlc1swXSk7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgIGltcG9ydGVkRmlsZSA9IEpTT04ucGFyc2UoZS50YXJnZXQucmVzdWx0IGFzIHVua25vd24gYXMgc3RyaW5nKTtcbiAgICAgICAgICAgICAgICAkKCcjaW1wb3J0X2RpYWcnKVxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLm1kYy1kaWFsb2dfX2NvbnRlbnQnKVxuICAgICAgICAgICAgICAgICAgICAuaHRtbChkZXNjcmliZVBhcmFtcyhpbXBvcnRlZEZpbGUpKTtcbiAgICAgICAgICAgICAgICBpbXBvcnREaWFsb2cub3BlbigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNUZXh0KGV2ZW50LnRhcmdldC5maWxlc1swXSk7XG4gICAgICAgIH0pO1xuICAgIGltcG9ydERpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7XG4gICAgICAgICAgICAoJCgnI3VwbG9hZF9maWxlJylbMF0gYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSAnJztcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIFJNR0xpbmUuY2xlYXJTVkcoKTtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJtZ1BhcmFtID0gSlNPTi5zdHJpbmdpZnkoaW1wb3J0ZWRGaWxlKTtcbiAgICAgICAgbG9jYXRpb24ucmVsb2FkKHRydWUpO1xuICAgIH0pO1xuXG4gICAgc3R5bGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgc3dpdGNoIChldmVudC5kZXRhaWwuYWN0aW9uKSB7XG4gICAgICAgICAgICBjYXNlICdjbG9zZSc6IFxuICAgICAgICAgICAgY2FzZSB3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKTpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHdpbmRvdy51cmxQYXJhbXMuc2V0KCdzdHlsZScsIGV2ZW50LmRldGFpbC5hY3Rpb24pO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBsYW5nRGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09ICdjbG9zZScpIHtyZXR1cm47fVxuICAgICAgICB2YXIgbmV4dExhbmcgPSBldmVudC5kZXRhaWwuYWN0aW9uO1xuICAgICAgICBsb2NhbFN0b3JhZ2Uucm1nTGFuZyA9IG5leHRMYW5nO1xuICAgICAgICBpZiAobmV4dExhbmcgPT0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCBuZXh0TGFuZyk7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICc/JyArIHdpbmRvdy51cmxQYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgIH0pXG59IiwiaW1wb3J0IHsgZ2V0UGFyYW1zLCBjb3VudHJ5Q29kZTJFbW9qaSwgZ2V0VHJhbnNUZXh0IH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgSUQsIFN0YXRpb25JbmZvLCBOYW1lLCBEaXJlY3Rpb25Mb25nLCBOZWlnaGJvdXJQbCB9IGZyb20gJy4uL3V0aWxzJztcbmltcG9ydCB7IE1EQ0RpYWxvZyB9IGZyb20gJ0BtYXRlcmlhbC9kaWFsb2cnO1xuaW1wb3J0IHsgTURDU2VsZWN0IH0gZnJvbSAnQG1hdGVyaWFsL3NlbGVjdCc7XG5pbXBvcnQgeyBNRENUZXh0RmllbGQgfSBmcm9tICdAbWF0ZXJpYWwvdGV4dGZpZWxkJztcbmltcG9ydCB7IE1EQ1RhYkJhciB9IGZyb20gJ0BtYXRlcmlhbC90YWItYmFyJztcbmltcG9ydCB7IE1EQ0ljb25CdXR0b25Ub2dnbGUgfSBmcm9tICdAbWF0ZXJpYWwvaWNvbi1idXR0b24nO1xuXG5jb25zdCBnZXRTdGF0aW9uQ2FyZCA9IChpZDogSUQsIG5hbWVzOiBOYW1lLCBudW06IHN0cmluZykgPT4ge1xuICAgIHJldHVybiAkKCc8ZGl2PicsIHtcbiAgICAgICAgaWQ6IGlkLCBcbiAgICAgICAgY2xhc3M6ICdtZGMtY2FyZCBtZGMtbGF5b3V0LWdyaWRfX2NlbGwtLXNwYW4tMi1kZXNrdG9wIG1kYy1sYXlvdXQtZ3JpZF9fY2VsbC0tc3Bhbi00LXRhYmxldCBtZGMtbGF5b3V0LWdyaWRfX2NlbGwtLXNwYW4tMi1waG9uZSBzdGF0aW9uLWNhcmQnXG4gICAgfSlcbiAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICQoJzxkaXY+JywgeyBjbGFzczogJ21kYy1jYXJkX19wcmltYXJ5LWFjdGlvbid9KVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJCgnPGRpdj4nLCB7IGNsYXNzOiAnbWRjLWNhcmRfX21lZGlhIG1kYy1jYXJkX19tZWRpYS0tMTYtOScgfSkpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJCgnPGRpdj4nLCB7IGNsYXNzOiAnbWRjLWNhcmRfX21lZGlhLWNvbnRlbnQgc3RhdGlvbi1jYXJkX19jb250ZW50J30pXG4gICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChuYW1lcy5qb2luKCc8YnI+JykpXG4gICAgICAgICAgICAgICAgICAgICAgICAucHJlcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8c3Bhbj4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY3NzKCdkaXNwbGF5Jywgd2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJykgPT09ICdnem10cicgPyAnaW5saW5lJyA6ICdub25lJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQobnVtICsgJ1xcdTAwYTAnKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgKVxuICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgJCgnPGRpdj4nLCB7IGNsYXNzOiAnbWRjLWNhcmRfX2FjdGlvbnMnIH0pXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgJCgnPGRpdj4nLCB7IGNsYXNzOiAnbWRjLWNhcmRfX2FjdGlvbi1pY29ucycgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGJ1dHRvbj4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2V0IEFzIEN1cnJlbnQnLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdtYXRlcmlhbC1pY29ucyBtZGMtaWNvbi1idXR0b24gbWRjLWNhcmRfX2FjdGlvbiBtZGMtY2FyZF9fYWN0aW9uLS1pY29uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KCdteV9sb2NhdGlvbicpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxidXR0b24+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0ludGVyY2hhbmdlJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnbWF0ZXJpYWwtaWNvbnMgbWRjLWljb24tYnV0dG9uIG1kYy1jYXJkX19hY3Rpb24gbWRjLWNhcmRfX2FjdGlvbi0taWNvbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dCgnZWRpdCcpXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJzxidXR0b24+Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1JlbW92ZScsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzczogJ21hdGVyaWFsLWljb25zIG1kYy1pY29uLWJ1dHRvbiBtZGMtY2FyZF9fYWN0aW9uIG1kYy1jYXJkX19hY3Rpb24tLWljb24nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoJ2RlbGV0ZV9mb3JldmVyJylcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICk7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gY29tbW9uKCkge1xuICAgIC8vIER1cGxpY2F0ZSBlbGVtZW50XG4gICAgdmFyIGludE5hbWVFbCA9ICQoJyNzdG5fdHJhbnNmZXJfZGlhZyAubWRjLWxheW91dC1ncmlkX19pbm5lciAjaW50X25hbWVfemgsI2ludF9uYW1lX2VuJykuc2xpY2UoMCwyKS5jbG9uZSgpO1xuICAgIGludE5hbWVFbC5maW5kKCcubWRjLXRleHQtZmllbGQnKS5yZW1vdmVBdHRyKCdkYXRhLW1kYy1hdXRvLWluaXQtc3RhdGUnKTsgLy8gdG8gYmUgcmVtb3ZlZFxuICAgICQoJ2RpdiNpbnRfbGluZScpLnNsaWNlKDEsMykuYWZ0ZXIoaW50TmFtZUVsKTtcblxuICAgIC8vIG1kYyBpbnN0YW5jZXNcbiAgICBjb25zdCBbc3RuQWRkRGlhbG9nLCBzdG5Nb2RpZnlEaWFsb2csIHN0blRyYW5zZmVyRGlhbG9nLCBzdG5EZWxldGVEaWFsb2csIHN0bkRlbGV0ZUVyckRpYWxvZ10gPSBcbiAgICAgICAgWycjc3RuX2FkZF9kaWFnJywgJyNzdG5fbW9kaWZ5X2RpYWcnLCAnI3N0bl90cmFuc2Zlcl9kaWFnJywgJyNzdG5fZGVsZXRlX2RpYWcnLCAnI3N0bl9kZWxldGVfZXJyJ11cbiAgICAgICAgICAgIC5tYXAoc2VsZWN0b3IgPT4gbmV3IE1EQ0RpYWxvZygkKHNlbGVjdG9yKVswXSkpO1xuICAgIFxuICAgIGNvbnN0IFtzdG5BZGRQcmVwU2VsZWN0LCBzdG5BZGRQaXZvdFNlbGVjdCwgc3RuQWRkTG9jU2VsZWN0LCBzdG5BZGRFbmRTZWxlY3RdID0gXG4gICAgICAgIFsnI3ByZXAnLCAnI3Bpdm90JywgJyNsb2MnLCAnI2VuZCddLm1hcChzZWxlY3RvciA9PiBuZXcgTURDU2VsZWN0KCQoJyNzdG5fYWRkX2RpYWcnKS5maW5kKHNlbGVjdG9yKVswXSkpO1xuXG4gICAgY29uc3Qgc3RuTW9kaWZ5TmFtZUZpZWxkcyA9IFxuICAgICAgICBbJyNuYW1lX3poJywgJyNuYW1lX2VuJ10ubWFwKHNlbGVjdG9yID0+IG5ldyBNRENUZXh0RmllbGQoJCgnI3N0bl9tb2RpZnlfZGlhZycpLmZpbmQoc2VsZWN0b3IpWzBdKSk7XG4gICAgY29uc3Qgc3RuTW9kaWZ5TnVtRmllbGQgPSBuZXcgTURDVGV4dEZpZWxkKCQoJyNzdG5fbW9kaWZ5X2RpYWcgI3N0bl9udW0nKVswXSk7XG5cbiAgICBjb25zdCBzdG5UcmFuc2ZlclRhYkJhciA9IG5ldyBNRENUYWJCYXIoJCgnI3N0bl90cmFuc2Zlcl9kaWFnIC5tZGMtdGFiLWJhcicpWzBdKTtcbiAgICBjb25zdCBjaGFuZ2VUeXBlU2VsZWN0ID0gbmV3IE1EQ1NlbGVjdCgkKCcjY2hhbmdlX3R5cGUnKVswXSk7XG4gICAgY29uc3QgaW50Q2l0eVNlbGVjdHMgPSAkKCcjaW50X2NpdHkgLm1kYy1zZWxlY3QnKS5tYXAoKF8sZWwpID0+IG5ldyBNRENTZWxlY3QoZWwpKS5nZXQoKTtcbiAgICBjb25zdCBpbnRMaW5lU2VsZWN0cyA9ICQoJyNpbnRfbGluZSAubWRjLXNlbGVjdCcpLm1hcCgoXyxlbCkgPT4gbmV3IE1EQ1NlbGVjdChlbCkpLmdldCgpO1xuICAgIGNvbnN0IGludE5hbWVGaWVsZHMgPSBbJ3poJywgJ2VuJ11cbiAgICAgICAgLm1hcChsYW5nID0+ICQoYGRpdiNpbnRfbmFtZV8ke2xhbmd9YCkuZmluZCgnLm1kYy10ZXh0LWZpZWxkJykubWFwKChfLGVsKSA9PiBuZXcgTURDVGV4dEZpZWxkKGVsKSkuZ2V0KCkpO1xuICAgIGNvbnN0IHN0bk9TSU5hbWVGaWVsZHMgPSBcbiAgICAgICAgWyd6aCcsICdlbiddLm1hcChsYW5nID0+IG5ldyBNRENUZXh0RmllbGQoJCgnI3N0bl90cmFuc2Zlcl9kaWFnJykuZmluZChgI29zaV9uYW1lXyR7bGFuZ31gKVswXSkpO1xuICAgIGNvbnN0IFt0aWNrRGlyZWNUb2dnbGUsIHBhaWRBcmVhVG9nZ2xlXSA9IFxuICAgICAgICBbJyN0aWNrX2RpcmVjJywgJyNwYWlkX2FyZWEnXS5tYXAoc2VsZWN0b3IgPT4gbmV3IE1EQ0ljb25CdXR0b25Ub2dnbGUoJCgnI3N0bl90cmFuc2Zlcl9kaWFnJykuZmluZChzZWxlY3RvcilbMF0pKTtcblxuICAgIGNvbnN0IFt0aHJvdWdoU2VsZWN0cywgZmlyc3RTZWxlY3RzLCBwb3NTZWxlY3RzXSA9IFxuICAgICAgICBbJ3Rocm91Z2gnLCAnZmlyc3QnLCAncG9zJ11cbiAgICAgICAgICAgIC5tYXAoc2VsZWN0b3IgPT4gWydsZWZ0JywgJ3JpZ2h0J10ubWFwKGRpcmVjID0+IG5ldyBNRENTZWxlY3QoJChgIyR7ZGlyZWN9XyR7c2VsZWN0b3J9YClbMF0pKSk7XG5cbiAgICB2YXIgc3RuTGlzdCA9IGdldFBhcmFtcygpLnN0bl9saXN0O1xuICAgIHdpbmRvdy5teUxpbmUudHBvLmZvckVhY2goc3RuSWQgPT4ge1xuICAgICAgICAkKCcjcGFuZWxfc3RhdGlvbnMgLm1kYy1sYXlvdXQtZ3JpZF9faW5uZXI6Zmlyc3QnKS5hcHBlbmQoZ2V0U3RhdGlvbkNhcmQoc3RuSWQsIHN0bkxpc3Rbc3RuSWRdLm5hbWUsIHN0bkxpc3Rbc3RuSWRdLm51bSkpO1xuICAgICAgICAkKCcjcGl2b3RfX3NlbGVjdGlvbicpLmFwcGVuZChcbiAgICAgICAgICAgICQoJzxsaT4nLCB7J2RhdGEtdmFsdWUnOnN0bklkfSkuYWRkQ2xhc3MoJ21kYy1saXN0LWl0ZW0nKS50ZXh0KHN0bkxpc3Rbc3RuSWRdLm5hbWUuam9pbigpKVxuICAgICAgICApO1xuICAgIH0pO1xuXG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fcHJpbWFyeS1hY3Rpb24nKS5vbignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgIHZhciBzdG5JZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZDtcbiAgICAgICAgaWYgKHN0bklkID09ICdhZGRfc3RuJykge3JldHVybjt9XG4gICAgICAgICQoJyNzdG5fbW9kaWZ5X2RpYWcnKS5hdHRyKCdmb3InLCBzdG5JZCk7XG4gICAgICAgIHN0bk1vZGlmeURpYWxvZy5vcGVuKCk7XG4gICAgfSk7XG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiQWRkXCJdJykub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgICBzdG5BZGREaWFsb2cub3BlbigpO1xuICAgIH0pO1xuICAgICQoJyNwYW5lbF9zdGF0aW9ucyAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyA+IFt0aXRsZT1cIlNldCBBcyBDdXJyZW50XCJdJykub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgICB2YXIgc3RuSWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1kYy1jYXJkJykuaWQ7XG4gICAgICAgIHdpbmRvdy5teUxpbmUuY3VycmVudFN0bklkID0gc3RuSWQ7XG4gICAgfSk7XG4gICAgJCgnI3BhbmVsX3N0YXRpb25zIC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiSW50ZXJjaGFuZ2VcIl0nKS5vbignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgICQoJyNzdG5fdHJhbnNmZXJfZGlhZycpLmF0dHIoJ2ZvcicsIGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZClcbiAgICAgICAgc3RuVHJhbnNmZXJEaWFsb2cub3BlbigpO1xuICAgIH0pO1xuICAgICQoJyNwYW5lbF9zdGF0aW9ucyAubWRjLWNhcmRfX2FjdGlvbi1pY29ucyA+IFt0aXRsZT1cIlJlbW92ZVwiXScpLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xuICAgICAgICAkKCcjc3RuX2RlbGV0ZV9kaWFnJykuYXR0cignZm9yJywgc3RuSWQpO1xuICAgICAgICBzdG5EZWxldGVEaWFsb2cub3BlbigpO1xuICAgIH0pO1xuXG5cbiAgICAvLyBBZGRpdGlvblxuICAgIHN0bkFkZERpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpvcGVuaW5nJywgKCkgPT4ge1xuICAgICAgICBzdG5BZGRQaXZvdFNlbGVjdC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICB9KTtcbiAgICBzdG5BZGREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgKCkgPT4ge1xuICAgICAgICBbc3RuQWRkUHJlcFNlbGVjdCwgc3RuQWRkUGl2b3RTZWxlY3QsIHN0bkFkZExvY1NlbGVjdF0uZm9yRWFjaChzZWxlY3QgPT4gc2VsZWN0LmxheW91dCgpKTtcbiAgICB9KTtcbiAgICBzdG5BZGREaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6Y2xvc2VkJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5hY3Rpb24gPT0gJ2Nsb3NlJykge3JldHVybjt9XG5cbiAgICAgICAgdmFyIHByZXAgPSBzdG5BZGRQcmVwU2VsZWN0LnZhbHVlIGFzICdiZWZvcmUnIHwgJ2FmdGVyJztcbiAgICAgICAgdmFyIHN0bklkID0gc3RuQWRkUGl2b3RTZWxlY3QudmFsdWU7XG4gICAgICAgIHZhciBsb2MgPSBzdG5BZGRMb2NTZWxlY3QudmFsdWU7XG4gICAgICAgIHZhciBlbmQgPSBzdG5BZGRFbmRTZWxlY3QudmFsdWU7XG4gICAgICAgIFxuICAgICAgICB2YXIgW25ld0lkLCBuZXdJbmZvXSA9IHdpbmRvdy5teUxpbmUuYWRkU3RuKHByZXAsIHN0bklkLCBsb2MsIGVuZCk7XG5cbiAgICAgICAgY29uc29sZS5sb2cocHJlcCwgc3RuSWQsIGxvYywgZW5kKTtcbiAgICAgICAgLy8gX2dlblN0bkxpc3QoKTtcbiAgICAgICAgdmFyIHByZXZJZCA9IHdpbmRvdy5teUxpbmUudHBvW3dpbmRvdy5teUxpbmUudHBvLmluZGV4T2YobmV3SWQpIC0gMV0gfHwgJ2FkZF9zdG4nO1xuICAgICAgICAkKGAjcGFuZWxfc3RhdGlvbnMgLm1kYy1sYXlvdXQtZ3JpZF9faW5uZXI6Zmlyc3QgIyR7cHJldklkfWApLmFmdGVyKGdldFN0YXRpb25DYXJkKG5ld0lkLCBuZXdJbmZvLm5hbWUsIG5ld0luZm8ubnVtKSk7XG4gICAgICAgIC8vIEFkZCBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgJChgI3BhbmVsX3N0YXRpb25zICMke25ld0lkfSAubWRjLWNhcmRfX3ByaW1hcnktYWN0aW9uYCkub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xuICAgICAgICAgICAgaWYgKHN0bklkID09ICdhZGRfc3RuJykge3JldHVybjt9XG4gICAgICAgICAgICAkKCcjc3RuX21vZGlmeV9kaWFnJykuYXR0cignZm9yJywgc3RuSWQpO1xuICAgICAgICAgICAgc3RuTW9kaWZ5RGlhbG9nLm9wZW4oKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoYCNwYW5lbF9zdGF0aW9ucyAjJHtuZXdJZH0gLm1kYy1jYXJkX19hY3Rpb24taWNvbnMgPiBbdGl0bGU9XCJTZXQgQXMgQ3VycmVudFwiXWApLm9uKCdjbGljaycsIGV2ZW50ID0+IHtcbiAgICAgICAgICAgIHZhciBzdG5JZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcubWRjLWNhcmQnKS5pZDtcbiAgICAgICAgICAgIHdpbmRvdy5teUxpbmUuY3VycmVudFN0bklkID0gc3RuSWQ7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGAjcGFuZWxfc3RhdGlvbnMgIyR7bmV3SWR9IC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiSW50ZXJjaGFuZ2VcIl1gKS5vbignY2xpY2snLCBldmVudCA9PiB7XG4gICAgICAgICAgICB2YXIgc3RuSWQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLm1kYy1jYXJkJykuaWQ7XG4gICAgICAgICAgICAkKCcjc3RuX3RyYW5zZmVyX2RpYWcnKS5hdHRyKCdmb3InLCBzdG5JZCk7XG4gICAgICAgICAgICBzdG5UcmFuc2ZlckRpYWxvZy5vcGVuKCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGAjcGFuZWxfc3RhdGlvbnMgIyR7bmV3SWR9IC5tZGMtY2FyZF9fYWN0aW9uLWljb25zID4gW3RpdGxlPVwiUmVtb3ZlXCJdYCkub24oJ2NsaWNrJywgZXZlbnQgPT4ge1xuICAgICAgICAgICAgdmFyIHN0bklkID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJy5tZGMtY2FyZCcpLmlkO1xuICAgICAgICAgICAgJCgnI3N0bl9kZWxldGVfZGlhZycpLmF0dHIoJ2ZvcicsIHN0bklkKTtcbiAgICAgICAgICAgIHN0bkRlbGV0ZURpYWxvZy5vcGVuKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBsaXN0RWxlbSA9ICQoJzxsaT4nLCB7XG4gICAgICAgICAgICAnZGF0YS12YWx1ZSc6IG5ld0lkLCAnY2xhc3MnOiAnbWRjLWxpc3QtaXRlbSdcbiAgICAgICAgfSkudGV4dChuZXdJbmZvLm5hbWUuam9pbignIC0gJykpO1xuICAgICAgICBpZiAocHJldklkID09ICdhZGRfc3RuJykge1xuICAgICAgICAgICAgJCgnI3Bpdm90X19zZWxlY3Rpb24nKS5wcmVwZW5kKGxpc3RFbGVtKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoYCNwaXZvdF9fc2VsZWN0aW9uIFtkYXRhLXZhbHVlPVwiJHtwcmV2SWR9XCJgKS5hZnRlcihsaXN0RWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyIHN0YXRpb24gbmFtZSBtb2RpZmljYXRpb25cbiAgICAgICAgJCgnI3N0bl9tb2RpZnlfZGlhZycpLmF0dHIoJ2ZvcicsIG5ld0lkKTtcbiAgICAgICAgc3RuTW9kaWZ5RGlhbG9nLm9wZW4oKTtcbiAgICB9KTtcbiAgICBzdG5BZGRQcmVwU2VsZWN0Lmxpc3RlbignTURDU2VsZWN0OmNoYW5nZScsIGV2ZW50ID0+IHtcbiAgICAgICAgJCgnI3N0bl9hZGRfZGlhZyAjcGl2b3QnKVswXS5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgnTURDU2VsZWN0OmNoYW5nZScpKTtcbiAgICB9KTtcbiAgICBzdG5BZGRQaXZvdFNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCBldmVudCA9PiB7XG4gICAgICAgIHZhciBwcmVwID0gc3RuQWRkUHJlcFNlbGVjdC52YWx1ZSBhcyAnYmVmb3JlJyB8ICdhZnRlcic7XG4gICAgICAgIHZhciBzdG5JZCA9IHN0bkFkZFBpdm90U2VsZWN0LnZhbHVlO1xuICAgICAgICB2YXIgc3RuTGlzdCA9IGdldFBhcmFtcygpLnN0bl9saXN0O1xuICAgICAgICBmb3IgKGxldCBbaWR4LCBzdGF0ZV0gb2Ygd2luZG93Lm15TGluZS5uZXdTdG5Qb3NzaWJsZUxvYyhwcmVwLCBzdG5JZCkuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoc3RhdGUgPT09IDEgfHwgKDxJRFtdPnN0YXRlKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAkKCcjbG9jX19zZWxlY3Rpb24gbGknKS5lcShpZHgpLnNob3coKTtcbiAgICAgICAgICAgICAgICBpZiAoaWR4ID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmV3dXBwZXIgb3IgbmV3bG93ZXJcbiAgICAgICAgICAgICAgICAgICAgJCgnI2VuZF9fc2VsZWN0aW9uJykuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgKDxJRFtdPnN0YXRlKS5mb3JFYWNoKHN0bklkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJyNlbmRfX3NlbGVjdGlvbicpLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCc8bGk+JywgeyBjbGFzczonbWRjLWxpc3QtaXRlbScsICdkYXRhLXZhbHVlJzpzdG5JZCB9KS50ZXh0KHN0bkxpc3Rbc3RuSWRdLm5hbWUuam9pbignIC0gJykpXG4gICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJyNsb2NfX3NlbGVjdGlvbiBsaScpLmVxKGlkeCkuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIHN0bkFkZExvY1NlbGVjdC52YWx1ZSA9ICQoJyNsb2NfX3NlbGVjdGlvbiBsaTpub3QoW3N0eWxlPVwiZGlzcGxheTogbm9uZTtcIl0pOmZpcnN0JykuYXR0cignZGF0YS12YWx1ZScpO1xuICAgICAgICBzdG5BZGRMb2NTZWxlY3QudmFsdWUgPSBBcnJheVxuICAgICAgICAgICAgLmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI2xvY19fc2VsZWN0aW9uIGxpJykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pXG4gICAgICAgICAgICAuZmlsdGVyKGVsID0+IGVsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJylbMF1cbiAgICAgICAgICAgIC5kYXRhc2V0LnZhbHVlO1xuICAgIH0pO1xuICAgIHN0bkFkZExvY1NlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoWyduZXd1cHBlcicsICduZXdsb3dlciddLmluY2x1ZGVzKGV2ZW50LmRldGFpbC52YWx1ZSkpIHtcbiAgICAgICAgICAgIC8vICQoJyNzdG5fYWRkX2RpYWcgI25ld19icmFuY2gnKS5zaG93KCk7XG4gICAgICAgICAgICAkKCcjc3RuX2FkZF9kaWFnIFtuZXctYnJhbmNoXScpLnNob3coKTtcbiAgICAgICAgICAgIHN0bkFkZEVuZFNlbGVjdC5zZWxlY3RlZEluZGV4ID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vICQoJyNzdG5fYWRkX2RpYWcgI25ld19icmFuY2gnKS5oaWRlKCk7XG4gICAgICAgICAgICAkKCcjc3RuX2FkZF9kaWFnIFtuZXctYnJhbmNoXScpLmhpZGUoKTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICAvLyBNb2RpZmljYXRpb24gKE5hbWUpXG4gICAgc3RuTW9kaWZ5RGlhbG9nLmxpc3RlbignTURDRGlhbG9nOm9wZW5pbmcnLCBldmVudCA9PiB7XG4gICAgICAgIHZhciBzdG5JZCA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdmb3InKTtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKGdldFBhcmFtcygpLnN0bl9saXN0KVxuICAgICAgICAgICAgLnRoZW4oc3RuTGlzdCA9PiB7XG4gICAgICAgICAgICAgICAgc3RuTW9kaWZ5TmFtZUZpZWxkcy5mb3JFYWNoKCh0ZXh0ZmllbGQsIGkpID0+IHRleHRmaWVsZC52YWx1ZSA9IHN0bkxpc3Rbc3RuSWRdLm5hbWVbaV0pO1xuICAgICAgICAgICAgICAgIHN0bk1vZGlmeU51bUZpZWxkLnZhbHVlID0gc3RuTGlzdFtzdG5JZF0ubnVtO1xuICAgICAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBzdG5Nb2RpZnlEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgKCkgPT4ge1xuICAgICAgICBzdG5Nb2RpZnlOYW1lRmllbGRzLm1hcCh0ZXh0ZmllbGQgPT4gdGV4dGZpZWxkLmxheW91dCgpKTtcbiAgICAgICAgc3RuTW9kaWZ5TnVtRmllbGQubGF5b3V0KCk7XG4gICAgfSk7XG5cbiAgICAkKCcjc3RuX21vZGlmeV9kaWFnJykuZmluZCgnI25hbWVfemgsICNuYW1lX2VuLCAjc3RuX251bScpLm9uKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgbGV0IG5hbWVzID0gc3RuTW9kaWZ5TmFtZUZpZWxkcy5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSkgYXMgTmFtZTtcbiAgICAgICAgdmFyIHN0bk51bSA9IHN0bk1vZGlmeU51bUZpZWxkLnZhbHVlO1xuXG4gICAgICAgIHZhciBzdG5JZCA9ICQoJyNzdG5fbW9kaWZ5X2RpYWcnKS5hdHRyKCdmb3InKTtcbiAgICAgICAgd2luZG93Lm15TGluZS51cGRhdGVTdG5OYW1lKHN0bklkLCBuYW1lcywgc3RuTnVtKTtcbiAgICAgICAgJChgI3BhbmVsX3N0YXRpb25zIC5tZGMtbGF5b3V0LWdyaWRfX2lubmVyOmZpcnN0ICMke3N0bklkfSAubWRjLWNhcmRfX21lZGlhLWNvbnRlbnRgKVxuICAgICAgICAgICAgLmh0bWwobmFtZXMuam9pbignPGJyPicpKVxuICAgICAgICAgICAgLnByZXBlbmQoJCgnPHNwYW4+JywgeyBzdHlsZTood2luZG93LnVybFBhcmFtcy5nZXQoJ3N0eWxlJyk9PSdnem10cicgPyAnJyA6ICdkaXNwbGF5Om5vbmU7Jyl9KS50ZXh0KHN0bk51bSsnICcpKTtcbiAgICAgICAgJChgbGlbZGF0YS12YWx1ZT1cIiR7c3RuSWR9YCkudGV4dChuYW1lcy5qb2luKCkpO1xuICAgIH0pO1xuXG5cbiAgICAvLyBNb2RpZmljYXRpb24gKEludGVyY2hhbmdlKVxuICAgIGNvbnN0IGZvY3VzSW50ZXJjaGFuZ2UgPSAoKSA9PiB7XG4gICAgICAgIGNoYW5nZVR5cGVTZWxlY3QubGF5b3V0KCk7XG4gICAgICAgIGludENpdHlTZWxlY3RzLmZvckVhY2goc2VsZWN0ID0+IHNlbGVjdC5sYXlvdXQoKSk7XG4gICAgICAgIGludExpbmVTZWxlY3RzLmZvckVhY2goc2VsZWN0ID0+IHNlbGVjdC5sYXlvdXQoKSk7XG4gICAgICAgIGludE5hbWVGaWVsZHMuZmxhdCgpLmZvckVhY2godGV4dGZpZWxkID0+IHRleHRmaWVsZC5sYXlvdXQoKSk7XG4gICAgICAgIHN0bk9TSU5hbWVGaWVsZHMuZm9yRWFjaCh0ZXh0ZmllbGQgPT4gdGV4dGZpZWxkLmxheW91dCgpKTtcbiAgICB9O1xuICAgIGNvbnN0IGZvY3VzQnJhbmNoID0gKCkgPT4ge1xuICAgICAgICBbLi4udGhyb3VnaFNlbGVjdHMsIC4uLmZpcnN0U2VsZWN0cywgLi4ucG9zU2VsZWN0c11cbiAgICAgICAgICAgIC5tYXAoc2VsZWN0ID0+IHNlbGVjdC5sYXlvdXQoKSk7XG4gICAgfTtcblxuICAgIGNvbnN0IGluaXRCcmFuY2ggPSAoc3RuSW5mbzogU3RhdGlvbkluZm8pID0+IHtcbiAgICAgICAgLy8gdGhyb3VnaCB0eXBlXG4gICAgICAgIFsnbGVmdCcsICdyaWdodCddLmZvckVhY2goZGlyZWMgPT4ge1xuICAgICAgICAgICAgbGV0IHRocm91Z2hUeXBlID0gc3RuSW5mby5icmFuY2hbZGlyZWNdWzBdO1xuICAgICAgICAgICAgaWYgKHRocm91Z2hUeXBlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3VnaFNlbGVjdHNbRGlyZWN0aW9uTG9uZ1tkaXJlY11dLnZhbHVlID0gdGhyb3VnaFR5cGU7XG4gICAgICAgICAgICAgICAgJChgIyR7ZGlyZWN9X3Rocm91Z2hfX3NlbGVjdGlvbiBbZGF0YS12YWx1ZT1cIm5hXCJdYCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJ0aHJvdWdoXCJdYCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJub250aHJvdWdoXCJdYCkuc2hvdygpO1xuXG4gICAgICAgICAgICAgICAgJChgWyR7ZGlyZWN9LWZpcnN0LWdyb3VwXSwgWyR7ZGlyZWN9LXBvcy1ncm91cF1gKS5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm91Z2hTZWxlY3RzW0RpcmVjdGlvbkxvbmdbZGlyZWNdXS52YWx1ZSA9ICduYSc7XG4gICAgICAgICAgICAgICAgJChgIyR7ZGlyZWN9X3Rocm91Z2hfX3NlbGVjdGlvbiBbZGF0YS12YWx1ZT1cIm5hXCJdYCkuc2hvdygpO1xuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJ0aHJvdWdoXCJdYCkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQoYCMke2RpcmVjfV90aHJvdWdoX19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCJub250aHJvdWdoXCJdYCkuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgJChgWyR7ZGlyZWN9LWZpcnN0LWdyb3VwXSwgWyR7ZGlyZWN9LXBvcy1ncm91cF1gKS5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIGZpcnN0IHN0YXRpb25cbiAgICAgICAgJCgnI2xlZnRfZmlyc3RfX3NlbGVjdGlvbiwgI3JpZ2h0X2ZpcnN0X19zZWxlY3Rpb24nKS5lbXB0eSgpO1xuICAgICAgICBQcm9taXNlLnJlc29sdmUoZ2V0UGFyYW1zKCkuc3RuX2xpc3QpXG4gICAgICAgICAgICAudGhlbihzdG5MaXN0ID0+IHtcbiAgICAgICAgICAgICAgICBbMCwgMV0uZm9yRWFjaChpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc3RuSW5mb1tOZWlnaGJvdXJQbFtpXSBhcyAncGFyZW50cycgfCAnY2hpbGRyZW4nXVxuICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2gobmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoYCMke0RpcmVjdGlvbkxvbmdbaV19X2ZpcnN0X19zZWxlY3Rpb25gKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnPGxpPicsIHsgY2xhc3M6ICdtZGMtbGlzdC1pdGVtJywgJ2RhdGEtdmFsdWUnOiBuZX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoc3RuTGlzdFtuZV0ubmFtZS5qb2luKCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhyb3VnaFNlbGVjdHMuZm9yRWFjaCgoc2VsZWN0LCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZmlyc3RTZWxlY3RzW2lkeF0uc2VsZWN0ZWRJbmRleCA9IFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0LnZhbHVlICE9PSAnbmEnID9cbiAgICAgICAgICAgICAgICAgICAgICAgIHN0bkluZm9bTmVpZ2hib3VyUGxbaWR4XV0uaW5kZXhPZihzdG5JbmZvLmJyYW5jaFtEaXJlY3Rpb25Mb25nW2lkeF1dWzFdKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBzd2FwIHBvc2l0aW9uXG4gICAgICAgIHBvc1NlbGVjdHMuZm9yRWFjaCgoc2VsZWN0LCBpKSA9PiB7XG4gICAgICAgICAgICBzZWxlY3Quc2VsZWN0ZWRJbmRleCA9IHN0bkluZm9bTmVpZ2hib3VyUGxbaV1dLmluZGV4T2Yoc3RuSW5mby5icmFuY2hbRGlyZWN0aW9uTG9uZ1tpXV1bMV0pXG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICBzdG5UcmFuc2ZlclRhYkJhci5saXN0ZW4oJ01EQ1RhYkJhcjphY3RpdmF0ZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBzd2l0Y2ggKGV2ZW50LmRldGFpbC5pbmRleCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICQoJyNwYW5lbF9pbnRlcmNoYW5nZScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcjcGFuZWxfYnJhbmNoJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgIGZvY3VzSW50ZXJjaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAkKCcjcGFuZWxfaW50ZXJjaGFuZ2UnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCgnI3BhbmVsX2JyYW5jaCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICBmb2N1c0JyYW5jaCgpO1xuICAgICAgICB9XG4gICAgfSk7XG5cblxuICAgIC8vIGF1dG9Jbml0KCk7XG5cbiAgICAkLmdldEpTT04oJ2RhdGEvY2l0eV9saXN0Lmpzb24nLCBkYXRhID0+IHtcbiAgICAgICAgdmFyIGxhbmcgPSB3aW5kb3cudXJsUGFyYW1zLmdldCgnbGFuZycpO1xuICAgICAgICBkYXRhLmZvckVhY2goYyA9PiB7XG4gICAgICAgICAgICAkKCcjaW50X2NpdHlfX3NlbGVjdGlvbi5tZGMtbGlzdCcpLmVhY2goKF8sZWwpID0+IHtcbiAgICAgICAgICAgICAgICAkKGVsKS5hcHBlbmQoXG4gICAgICAgICAgICAgICAgICAgICQoJzxsaT4nLCB7IGNsYXNzOiAnbWRjLWxpc3QtaXRlbScsICdkYXRhLXZhbHVlJzogYy5pZH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChjb3VudHJ5Q29kZTJFbW9qaShjLmNvdW50cnkpICsgZ2V0VHJhbnNUZXh0KGMubmFtZSwgbGFuZykpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuXG5cbiAgICBmdW5jdGlvbiBfc2hvd0FsbEZpZWxkcyhuLCBzaG93KSB7XG4gICAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICAgICAkKCcjaW50X2NpdHksICNpbnRfbGluZSwgI2ludF9uYW1lX3poLCAjaW50X25hbWVfZW4nKS5zbGljZShuKjQsIChuKzEpKjQpLnNob3coKTtcbiAgICAgICAgICAgIGludENpdHlTZWxlY3RzW25dLmxheW91dCgpO1xuICAgICAgICAgICAgaW50TGluZVNlbGVjdHNbbl0ubGF5b3V0KCk7XG4gICAgICAgICAgICBpbnROYW1lRmllbGRzLm1hcChmaWVsZHMgPT4gZmllbGRzW25dLmxheW91dCgpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICQoJyNpbnRfY2l0eSwgI2ludF9saW5lLCAjaW50X25hbWVfemgsICNpbnRfbmFtZV9lbicpLnNsaWNlKG4qNCwgKG4rMSkqNCkuaGlkZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RuVHJhbnNmZXJEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmluZycsIGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIHN0bklkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2ZvcicpO1xuICAgICAgICB2YXIgc3RuSW5mbyA9IGdldFBhcmFtcygpLnN0bl9saXN0W3N0bklkXTtcbiAgICAgICAgbGV0IGxpbmVUaGVtZUNpdHkgPSBnZXRQYXJhbXMoKS50aGVtZVswXTtcblxuICAgICAgICBjaGFuZ2VUeXBlU2VsZWN0LnZhbHVlID0gc3RuSW5mby5jaGFuZ2VfdHlwZS5zcGxpdCgnXycpWzBdO1xuXG4gICAgICAgIGlmIChzdG5JbmZvLmNoYW5nZV90eXBlICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHZhciBhbGxJbnRlcmNoYW5nZXMgPSBzdG5JbmZvLmludGVyY2hhbmdlWzBdLmNvbmNhdChcbiAgICAgICAgICAgICAgICBzdG5JbmZvLmludGVyY2hhbmdlWzFdID8gc3RuSW5mby5pbnRlcmNoYW5nZVsxXS5zbGljZSgxLHN0bkluZm8uaW50ZXJjaGFuZ2VbMV0ubGVuZ3RoKSA6IFtdXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGFsbEludGVyY2hhbmdlcy5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICAgICAgYWxsSW50ZXJjaGFuZ2VzLnVuc2hpZnQoWywsLCwsLF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGFsbEludGVyY2hhbmdlcy5sZW5ndGggPCAzKSB7XG4gICAgICAgICAgICAgICAgYWxsSW50ZXJjaGFuZ2VzLnB1c2goWywsLCwsLF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coYWxsSW50ZXJjaGFuZ2VzKVxuICAgICAgICAgICAgYWxsSW50ZXJjaGFuZ2VzLmZvckVhY2goKGludEluZm8sIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBjSWR4ID0gJCgnI2ludF9jaXR5X19zZWxlY3Rpb24ubWRjLWxpc3QnKS5lcSgwKS5maW5kKGBbZGF0YS12YWx1ZT1cIiR7aW50SW5mb1swXSB8fCBsaW5lVGhlbWVDaXR5fVwiXWApLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgaW50Q2l0eVNlbGVjdHNbaWR4XS5zZWxlY3RlZEluZGV4ID0gY0lkeDtcbiAgICAgICAgICAgICAgICBpbnROYW1lRmllbGRzLmZvckVhY2goKGZpZWxkcywgaSkgPT4gZmllbGRzW2lkeF0udmFsdWUgPSBpbnRJbmZvWzQraV0gfHwgJycpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgY0lkeCA9ICQoJyNpbnRfY2l0eV9fc2VsZWN0aW9uLm1kYy1saXN0JykuZXEoMCkuZmluZChgW2RhdGEtdmFsdWU9XCIke2xpbmVUaGVtZUNpdHl9XCJdYCkuaW5kZXgoKTtcbiAgICAgICAgICAgIGludENpdHlTZWxlY3RzLmZvckVhY2goc2VsZWN0ID0+IHNlbGVjdC5zZWxlY3RlZEluZGV4ID0gY0lkeCk7XG4gICAgICAgICAgICBpbnROYW1lRmllbGRzLmZsYXQoKS5mb3JFYWNoKHRleHRmaWVsZCA9PiB0ZXh0ZmllbGQudmFsdWUgPSAnJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoWydub25lJywgJ2ludDInXS5pbmNsdWRlcyhzdG5JbmZvLmNoYW5nZV90eXBlLnNwbGl0KCdfJylbMF0pKSB7XG4gICAgICAgICAgICB0aWNrRGlyZWNUb2dnbGUub24gPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGlja0RpcmVjVG9nZ2xlLm9uID0gKHN0bkluZm8uY2hhbmdlX3R5cGUuc2xpY2UoLTEpID09ICdyJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RuSW5mby5jaGFuZ2VfdHlwZS5zdWJzdHJpbmcoMCwzKSA9PSAnb3NpJykge1xuICAgICAgICAgICAgc3RuT1NJTmFtZUZpZWxkcy5mb3JFYWNoKCh0ZXh0ZmllbGQsaSkgPT4gdGV4dGZpZWxkLnZhbHVlID0gc3RuSW5mby5pbnRlcmNoYW5nZVsxXVswXVtpXSk7XG4gICAgICAgICAgICBwYWlkQXJlYVRvZ2dsZS5vbiA9IChzdG5JbmZvLmNoYW5nZV90eXBlLnNwbGl0KCdfJykucmV2ZXJzZSgpWzBdWzBdID09ICdwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdG5PU0lOYW1lRmllbGRzLmZvckVhY2godGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSA9ICcnKTtcbiAgICAgICAgICAgIHBhaWRBcmVhVG9nZ2xlLm9uID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJyYW5jaFxuICAgICAgICBpbml0QnJhbmNoKHN0bkluZm8pO1xuICAgIH0pO1xuXG4gICAgc3RuVHJhbnNmZXJEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmVkJywgZXZlbnQgPT4ge1xuICAgICAgICBmb2N1c0ludGVyY2hhbmdlKCk7XG4gICAgICAgIGZvY3VzQnJhbmNoKCk7XG4gICAgfSk7XG5cbiAgICBzdG5UcmFuc2ZlckRpYWxvZy5saXN0ZW4oJ01EQ0RpYWxvZzpjbG9zZWQnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLmFjdGlvbiA9PSAnY2xvc2UnKSB7cmV0dXJuO31cblxuICAgICAgICAvLyB2YXIgc3RuSWQgPSAkKCcjcGFuZWxfc3RhdGlvbnMgI3NlbGVjdGVkX3N0bicpLmF0dHIoJ3N0bicpO1xuICAgICAgICB2YXIgc3RuSWQgPSBldmVudC50YXJnZXQuZ2V0QXR0cmlidXRlKCdmb3InKTtcbiAgICAgICAgdmFyIHR5cGUgPSBjaGFuZ2VUeXBlU2VsZWN0LnZhbHVlO1xuICAgICAgICB2YXIgdGlja0RpcmVjID0gdGlja0RpcmVjVG9nZ2xlLm9uID8gJ3InIDogJ2wnO1xuICAgICAgICBsZXQgb3NpID0gc3RuT1NJTmFtZUZpZWxkcy5tYXAodGV4dGZpZWxkID0+IHRleHRmaWVsZC52YWx1ZSk7XG4gICAgICAgIHZhciBvc2lQYWlkQXJlYSA9IHBhaWRBcmVhVG9nZ2xlLm9uID8gJ3AnIDogJ3UnO1xuXG4gICAgICAgIHZhciBbaW50SW5mbzAsIGludEluZm8xLCBpbnRJbmZvMl0gPSBbMCwxLDJdLm1hcChpZHggPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFtpbnRDaXR5U2VsZWN0c1tpZHhdLnZhbHVlLCBpbnRMaW5lU2VsZWN0c1tpZHhdLnZhbHVlXVxuICAgICAgICAgICAgICAgIC5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgICQoJ3VsI2ludF9saW5lX19zZWxlY3Rpb24nKS5lcShpZHgpLmZpbmQoJ2xpIHNwYW4nKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmVxKGludExpbmVTZWxlY3RzW2lkeF0uc2VsZWN0ZWRJbmRleClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHlsZScpLm1hdGNoKC8jW1xcd1xcZF0rL2cpLCBcbiAgICAgICAgICAgICAgICAgICAgLi4uaW50TmFtZUZpZWxkcy5tYXAoZmllbGRzID0+IGZpZWxkc1tpZHhdLnZhbHVlKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodHlwZSA9PSAnbm9uZScpIHtcbiAgICAgICAgICAgIHdpbmRvdy5teUxpbmUudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUpO1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ29zaTIyJykge1xuICAgICAgICAgICAgd2luZG93Lm15TGluZS51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgYCR7dHlwZX1fJHtvc2lQYWlkQXJlYX0ke3RpY2tEaXJlY31gLCBbW2ludEluZm8wXSwgW29zaSwgaW50SW5mbzEsIGludEluZm8yXV0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaW50Mic6XG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5teUxpbmUudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUsIFtbXSwgaW50SW5mbzEsIFtdXSk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5teUxpbmUudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIHR5cGUsIFtbaW50SW5mbzFdXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29zaTExJzpcbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93Lm15TGluZS51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgYCR7dHlwZX1fJHtvc2lQYWlkQXJlYX0ke3RpY2tEaXJlY31gLCBbb3NpLCBpbnRJbmZvMSwgW11dKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgYCR7dHlwZX1fJHtvc2lQYWlkQXJlYX0ke3RpY2tEaXJlY31gLCBbW10sIFtvc2ksIGludEluZm8xXV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ludDMnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5teUxpbmUudXBkYXRlU3RuVHJhbnNmZXIoc3RuSWQsIGAke3R5cGV9XyR7dGlja0RpcmVjfWAsIFtbXSwgaW50SW5mbzEsIGludEluZm8yXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm15TGluZS51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgYCR7dHlwZX1fJHt0aWNrRGlyZWN9YCwgW1tpbnRJbmZvMSwgaW50SW5mbzJdXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdvc2kxMic6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93Lm15TGluZS51cGRhdGVTdG5UcmFuc2ZlcihzdG5JZCwgYCR7dHlwZX1fJHtvc2lQYWlkQXJlYX0ke3RpY2tEaXJlY31gLCBbb3NpLCBpbnRJbmZvMSwgaW50SW5mbzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubXlMaW5lLnVwZGF0ZVN0blRyYW5zZmVyKHN0bklkLCBgJHt0eXBlfV8ke29zaVBhaWRBcmVhfSR7dGlja0RpcmVjfWAsIFtbXSwgW29zaSwgaW50SW5mbzEsIGludEluZm8yXV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KVxuICAgIGNoYW5nZVR5cGVTZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmRldGFpbC52YWx1ZSA9PSAnaW50MicpIHtcbiAgICAgICAgICAgIF9zaG93QWxsRmllbGRzKDAsIGZhbHNlKTtcbiAgICAgICAgICAgIF9zaG93QWxsRmllbGRzKDEsIHRydWUpO1xuICAgICAgICAgICAgX3Nob3dBbGxGaWVsZHMoMiwgZmFsc2UpO1xuICAgICAgICAgICAgJCgnI3N0bl90cmFuc2Zlcl9kaWFnICN0aWNrX2RpcmVjJykuaGlkZSgpO1xuICAgICAgICAgICAgJCgnI29zaV9uYW1lX3poLCAjb3NpX25hbWVfZW4sICNwYWlkX2FyZWEnKS5oaWRlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsLnZhbHVlID09ICdpbnQzJykge1xuICAgICAgICAgICAgX3Nob3dBbGxGaWVsZHMoMCwgZmFsc2UpO1xuICAgICAgICAgICAgX3Nob3dBbGxGaWVsZHMoMSwgdHJ1ZSk7XG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygyLCB0cnVlKTtcbiAgICAgICAgICAgICQoJyNzdG5fdHJhbnNmZXJfZGlhZyAjdGlja19kaXJlYycpLnNob3coKTtcbiAgICAgICAgICAgICQoJyNvc2lfbmFtZV96aCwgI29zaV9uYW1lX2VuLCAjcGFpZF9hcmVhJykuaGlkZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbC52YWx1ZSA9PSAnb3NpMTEnKSB7XG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygwLCBmYWxzZSk7XG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygxLCB0cnVlKTtcbiAgICAgICAgICAgIF9zaG93QWxsRmllbGRzKDIsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJyNzdG5fdHJhbnNmZXJfZGlhZyAjdGlja19kaXJlYycpLnNob3coKTtcbiAgICAgICAgICAgICQoJyNvc2lfbmFtZV96aCwgI29zaV9uYW1lX2VuLCAjcGFpZF9hcmVhJykuc2hvdygpO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmRldGFpbC52YWx1ZSA9PSAnb3NpMTInKSB7XG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygwLCBmYWxzZSk7XG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygxLCB0cnVlKTtcbiAgICAgICAgICAgIF9zaG93QWxsRmllbGRzKDIsIHRydWUpO1xuICAgICAgICAgICAgJCgnI3N0bl90cmFuc2Zlcl9kaWFnICN0aWNrX2RpcmVjJykuc2hvdygpO1xuICAgICAgICAgICAgJCgnI29zaV9uYW1lX3poLCAjb3NpX25hbWVfZW4sICNwYWlkX2FyZWEnKS5zaG93KCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsLnZhbHVlID09ICdvc2kyMicpIHtcbiAgICAgICAgICAgIC8vICQoJyNzdG5fdHJhbnNmZXJfZGlhZyAubWRjLWRpYWxvZ19fY29udGVudCBbaWRdZGl2LCAjcGFpZF9hcmVhJykuc2xpY2UoMSkuc2hvdygpXG4gICAgICAgICAgICBfc2hvd0FsbEZpZWxkcygwLCB0cnVlKTtcbiAgICAgICAgICAgIF9zaG93QWxsRmllbGRzKDEsIHRydWUpO1xuICAgICAgICAgICAgX3Nob3dBbGxGaWVsZHMoMiwgdHJ1ZSk7XG4gICAgICAgICAgICBsZXQgc3RuSW5mbyA9IGdldFBhcmFtcygpLnN0bl9saXN0WyQoJyNzdG5fdHJhbnNmZXJfZGlhZycpLmF0dHIoJ2ZvcicpXTtcbiAgICAgICAgICAgIGlmIChzdG5JbmZvLnBhcmVudHNbMF0gPT0gJ2xpbmVzdGFydCcgfHwgc3RuSW5mby5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpIHtcbiAgICAgICAgICAgICAgICAkKCcjdGlja19kaXJlYycpLmhpZGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnI3RpY2tfZGlyZWMnKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcjc3RuX3RyYW5zZmVyX2RpYWcgI3BhbmVsX2ludGVyY2hhbmdlIFtpZF1kaXYnKS5zbGljZSgxKS5oaWRlKClcbiAgICAgICAgICAgICQoJyN0aWNrX2RpcmVjLCAjcGFpZF9hcmVhJykuaGlkZSgpXG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGludENpdHlTZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaWR4KSA9PiB7XG4gICAgICAgIHNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5pbmRleCA9PT0gLTEpIHtyZXR1cm47fVxuICAgICAgICAgICAgJC5nZXRKU09OKGBkYXRhLyR7ZXZlbnQuZGV0YWlsLnZhbHVlfS5qc29uYCwgZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIGxhbmcgPSB3aW5kb3cudXJsUGFyYW1zLmdldCgnbGFuZycpO1xuICAgICAgICAgICAgICAgICQoJyNpbnRfbGluZV9fc2VsZWN0aW9uLm1kYy1saXN0JykuZXEoaWR4KS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIGRhdGEuZm9yRWFjaChsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgJCgnI2ludF9saW5lX19zZWxlY3Rpb24ubWRjLWxpc3QnKS5lcShpZHgpLmFwcGVuZChcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8bGkgY2xhc3M9XCJtZGMtbGlzdC1pdGVtXCIgZGF0YS12YWx1ZT1cIiR7bC5pZH1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwiYmFja2dyb3VuZDoke2wuY29sb3VyfTtjb2xvcjoke2wuZmcgfHwgJyNmZmYnfTtcIj4mbmJzcDske2dldFRyYW5zVGV4dChsLm5hbWUsIGxhbmcpfSZuYnNwOzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+YFxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHN0bklkID0gJCgnI3N0bl90cmFuc2Zlcl9kaWFnJykuYXR0cignZm9yJyk7XG4gICAgICAgICAgICAgICAgdmFyIHN0bkluZm8gPSBnZXRQYXJhbXMoKS5zdG5fbGlzdFtzdG5JZF07XG4gICAgICAgICAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgIT09ICdub25lJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWxsSW50ZXJjaGFuZ2VzID0gc3RuSW5mby5pbnRlcmNoYW5nZVswXS5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgICAgICBzdG5JbmZvLmludGVyY2hhbmdlWzFdID8gc3RuSW5mby5pbnRlcmNoYW5nZVsxXS5zbGljZSgxLHN0bkluZm8uaW50ZXJjaGFuZ2VbMV0ubGVuZ3RoKSA6IFtdXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxJbnRlcmNoYW5nZXMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW50ZXJjaGFuZ2VzLnVuc2hpZnQoWywsLCwsLF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbGxJbnRlcmNoYW5nZXMubGVuZ3RoIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWxsSW50ZXJjaGFuZ2VzLnB1c2goWywsLCwsLF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBsSWR4ID0gJCgnI2ludF9saW5lX19zZWxlY3Rpb24ubWRjLWxpc3QnKS5lcShpZHgpLmZpbmQoYFtkYXRhLXZhbHVlPVwiJHthbGxJbnRlcmNoYW5nZXNbaWR4XVsxXX1cIl1gKS5pbmRleCgpO1xuICAgICAgICAgICAgICAgICAgICBpbnRMaW5lU2VsZWN0c1tpZHhdLnNlbGVjdGVkSW5kZXggPSAobElkeCA9PSAtMSkgPyAwIDogbElkeDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpbnRMaW5lU2VsZWN0c1tpZHhdLnNlbGVjdGVkSW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgIH0pOyBcblxuICAgIC8vIE1vZGlmaWNhdGlvbiAoQnJhbmNoKVxuICAgIHRocm91Z2hTZWxlY3RzLmZvckVhY2goKHNlbGVjdCwgaWR4KSA9PiB7XG4gICAgICAgIHNlbGVjdC5saXN0ZW4oJ01EQ1NlbGVjdDpjaGFuZ2UnLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRldGFpbC52YWx1ZSA9PT0gJ25hJykge3JldHVybjt9XG4gICAgICAgICAgICBsZXQgc3RuSWQgPSAkKCcjc3RuX3RyYW5zZmVyX2RpYWcnKS5hdHRyKCdmb3InKTtcbiAgICAgICAgICAgIHdpbmRvdy5teUxpbmUudXBkYXRlQnJhbmNoVHlwZShzdG5JZCwgaWR4LCBldmVudC5kZXRhaWwudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIGZpcnN0U2VsZWN0cy5mb3JFYWNoKChzZWxlY3QsIGlkeCkgPT4ge1xuICAgICAgICBzZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICgkKGAjJHtEaXJlY3Rpb25Mb25nW2lkeF19X2ZpcnN0X19zZWxlY3Rpb25gKS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMSkge3JldHVybjt9XG4gICAgICAgICAgICBsZXQgc3RuSWQgPSAkKCcjc3RuX3RyYW5zZmVyX2RpYWcnKS5hdHRyKCdmb3InKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cubXlMaW5lLnVwZGF0ZUJyYW5jaEZpcnN0KHN0bklkLCBpZHgsIGV2ZW50LmRldGFpbC52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwb3NTZWxlY3RzW2lkeF0uc2VsZWN0ZWRJbmRleCA9IHBvc1NlbGVjdHNbaWR4XS5zZWxlY3RlZEluZGV4ID09PSAwID8gMSA6IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgcG9zU2VsZWN0cy5mb3JFYWNoKChzZWxlY3QsIGlkeCkgPT4ge1xuICAgICAgICBzZWxlY3QubGlzdGVuKCdNRENTZWxlY3Q6Y2hhbmdlJywgKGV2ZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgIGlmICh0aHJvdWdoU2VsZWN0c1tpZHhdLnZhbHVlID09PSAnbmEnKSB7cmV0dXJuO31cbiAgICAgICAgICAgIGxldCBzdG5JZCA9ICQoJyNzdG5fdHJhbnNmZXJfZGlhZycpLmF0dHIoJ2ZvcicpO1xuICAgICAgICAgICAgd2luZG93Lm15TGluZS51cGRhdGVCcmFuY2hQb3Moc3RuSWQsIGlkeCwgZXZlbnQuZGV0YWlsLmluZGV4KTtcbiAgICAgICAgfSlcbiAgICB9KVxuXG4gICAgLy8gRGVsZXRpb25cbiAgICBzdG5EZWxldGVEaWFsb2cubGlzdGVuKCdNRENEaWFsb2c6b3BlbmluZycsIGV2ZW50ID0+IHtcbiAgICAgICAgdmFyIHN0bklkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2ZvcicpO1xuICAgICAgICAkKCcjc3RuX2RlbGV0ZV9kaWFnICNlcnJfc3RuJykudGV4dChnZXRQYXJhbXMoKS5zdG5fbGlzdFtzdG5JZF0ubmFtZS5qb2luKCcgLSAnKSk7XG4gICAgfSk7XG4gICAgc3RuRGVsZXRlRGlhbG9nLmxpc3RlbignTURDRGlhbG9nOmNsb3NlZCcsIChldmVudDogYW55KSA9PiB7XG4gICAgICAgIGlmIChldmVudC5kZXRhaWwuYWN0aW9uID09ICdjbG9zZScpIHtyZXR1cm47fVxuICAgICAgICB2YXIgc3RuSWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignZm9yJyk7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIGRhdGEgYW5kIHN2Z1xuICAgICAgICBpZiAod2luZG93Lm15TGluZS5yZW1vdmVTdG4oc3RuSWQpKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgc3RhdGlvbiBmcm9tIHNlbGVjdGlvblxuICAgICAgICAgICAgJChgI3BhbmVsX3N0YXRpb25zIC5tZGMtbGF5b3V0LWdyaWRfX2lubmVyICMke3N0bklkfWApLnJlbW92ZSgpO1xuICAgICAgICAgICAgJChgI3Bpdm90X19zZWxlY3Rpb24gW2RhdGEtdmFsdWU9XCIke3N0bklkfVwiXWApLnJlbW92ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RuRGVsZXRlRXJyRGlhbG9nLm9wZW4oKTtcbiAgICAgICAgfVxuICAgIH0pO1xufSIsImltcG9ydCB7IGpvaW5JbnROYW1lIH0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IHsgSUQsIE5hbWUsIEJyYW5jaEluZm8sIFN0YXRpb25JbmZvIH0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZW51bSBJbnRJbmZvVGFnIHtcbiAgICBjaXR5LCBsaW5lLCBjb2xvdXIsIGZnLCBuYW1lWkgsIG5hbWVFTlxufTtcbmV4cG9ydCB0eXBlIEludGVyY2hhbmdlSW5mbyA9IHtcbiAgICBbVCBpbiBJbnRJbmZvVGFnXTogc3RyaW5nO1xufTtcblxuY2xhc3MgUk1HU3RhdGlvbiB7XG4gICAgU1ROX05BTUVfWSA9IC0xMC41O1xuICAgIFNUTl9OQU1FX0JBU0VfSEVJR0hUID0gMzAuMzkwNjI1O1xuICAgIFNUTl9OQU1FX0xJTkVfR0FQID0gMTQ7XG4gICAgU1ROX05BTUVfQkdfQURKVVNUID0gMC41O1xuXG4gICAgcHVibGljIGlkOiBJRDtcbiAgICBwdWJsaWMgeDogbnVtYmVyO1xuICAgIHB1YmxpYyB5OiBudW1iZXI7XG4gICAgcHVibGljIHN0YXRlOiAtMSB8IDAgfCAxO1xuICAgIHB1YmxpYyBwYXJlbnRzOiBJRFtdO1xuICAgIHB1YmxpYyBjaGlsZHJlbjogSURbXTtcbiAgICBwdWJsaWMgbmFtZVBvczogMCB8IDE7XG4gICAgcHVibGljIG5hbWU6IE5hbWU7XG4gICAgcHVibGljIGJyYW5jaDogQnJhbmNoSW5mbztcbiAgICBwdWJsaWMgc3RuTnVtOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvciAoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMucGFyZW50cyA9IGRhdGEucGFyZW50cztcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IGRhdGEuY2hpbGRyZW47XG4gICAgICAgIHRoaXMubmFtZSA9IGRhdGEubmFtZTtcbiAgICAgICAgdGhpcy5icmFuY2ggPSBkYXRhLmJyYW5jaDtcbiAgICB9XG5cbiAgICBnZXQgaW5EZWdyZWUoKSB7cmV0dXJuIHRoaXMucGFyZW50cy5sZW5ndGg7fVxuICAgIGdldCBvdXREZWdyZWUoKSB7cmV0dXJuIHRoaXMuY2hpbGRyZW4ubGVuZ3RoO31cblxuICAgIGdldCBuYW1lQ2xhc3MoKTogc3RyaW5nIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIC0xOlxuICAgICAgICAgICAgICAgIHJldHVybiAnUGFzcyc7XG4gICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdDdXJyZW50JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuICdGdXR1cmUnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IF9uYW1lVHh0QW5jaG9yKCkge3JldHVybiAnbWlkZGxlJzt9XG4gICAgZ2V0IF9uYW1lRFgoKSB7cmV0dXJuIDA7fVxuICAgIGdldCBfbmFtZURZKCkge3JldHVybiAwO31cblxuICAgIGdldCBuYW1lSFRNTCgpIHtcbiAgICAgICAgdmFyIG5hbWVFTnMgPSB0aGlzLm5hbWVbMV0uc3BsaXQoJ1xcXFwnKTtcblxuICAgICAgICBpZiAodGhpcy5uYW1lUG9zID09IDEpIHtcbiAgICAgICAgICAgIHZhciBkeSA9IHRoaXMuU1ROX05BTUVfTElORV9HQVAgLSB0aGlzLlNUTl9OQU1FX1kgLSB0aGlzLlNUTl9OQU1FX0JHX0FESlVTVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBkeSA9IC10aGlzLlNUTl9OQU1FX0xJTkVfR0FQIC0gdGhpcy5TVE5fTkFNRV9ZIC0gdGhpcy5TVE5fTkFNRV9CQVNFX0hFSUdIVCAtIChuYW1lRU5zLmxlbmd0aC0xKSoxMDtcbiAgICAgICAgfVxuICAgICAgICAvLyBkeSAtPSB0aGlzLlNUTl9OQU1FX0JHX0FESlVTVDtcblxuICAgICAgICBpZiAodGhpcy5zdGF0ZSA9PT0gMCkge1xuICAgICAgICAgICAgJCgnI2N1cnJlbnRfYmcnKS5hdHRyKHtcbiAgICAgICAgICAgICAgICB5OiB0aGlzLnkgKyBkeSArIHRoaXMuU1ROX05BTUVfWSAtIDEuNSArIHRoaXMuX25hbWVEWSwgXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLlNUTl9OQU1FX0JBU0VfSEVJR0hUICsgKG5hbWVFTnMubGVuZ3RoLTEpKjEwICsyICsxLjVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5hbWVFTnAgPSBuYW1lRU5zLnNoaWZ0KCk7XG5cbiAgICAgICAgdmFyIG5hbWVFTkVsZW0gPSAkKCc8dGV4dD4nLCB7XG4gICAgICAgICAgICBkeTogMTUsIGNsYXNzOiAncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19tdHItLXN0YXRpb24nXG4gICAgICAgIH0pLnRleHQobmFtZUVOcCk7XG4gICAgICAgIHdoaWxlIChuYW1lRU5wID0gbmFtZUVOcy5zaGlmdCgpKSB7XG4gICAgICAgICAgICBuYW1lRU5FbGVtLmFwcGVuZChcbiAgICAgICAgICAgICAgICAkKCc8dHNwYW4+JywgeyB4OiAwLCBkeTogMTAsICdhbGlnbm1lbnQtYmFzZWxpbmUnOidtaWRkbGUnIH0pLnRleHQobmFtZUVOcClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54ICsgdGhpcy5fbmFtZURYfSwke3RoaXMueSArIGR5ICsgdGhpcy5fbmFtZURZfSlgLCBcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX25hbWVUeHRBbmNob3IsIFxuICAgICAgICAgICAgJ2NsYXNzJzogYE5hbWUgJHt0aGlzLm5hbWVDbGFzc31gXG4gICAgICAgIH0pLmFwcGVuZChcbiAgICAgICAgICAgICQoJzx0ZXh0PicpLmFkZENsYXNzKCdybWctbmFtZV9femggcm1nLW5hbWVfX210ci0tc3RhdGlvbicpLnRleHQodGhpcy5uYW1lWzBdKVxuICAgICAgICApLmFwcGVuZChcbiAgICAgICAgICAgIG5hbWVFTkVsZW1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgaWNvbkNsYXNzKCkge3JldHVybiB0aGlzLnN0YXRlID09IC0xID8gJ3JtZy1zdG5fX210ci0tcGFzcycgOiAncm1nLXN0bl9fbXRyLS1mdXR1cmUnO31cblxuICAgIGdldCBpY29uSFRNTCgpIHtcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI3N0bl9oaycsIFxuICAgICAgICAgICAgeDogdGhpcy54LCB5OiB0aGlzLnksIFxuICAgICAgICAgICAgY2xhc3M6IHRoaXMuaWNvbkNsYXNzXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldCB1bmdycEhUTUwoKSB7XG4gICAgICAgIHJldHVybiBbdGhpcy5pY29uSFRNTCwgdGhpcy5uYW1lSFRNTF07XG4gICAgfVxuXG4gICAgZ2V0IGh0bWwoKSB7XG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7aWQ6dGhpcy5pZH0pLmFwcGVuZCguLi50aGlzLnVuZ3JwSFRNTCk7XG4gICAgfVxufVxuXG5jbGFzcyBJbnQyU3RhdGlvbiBleHRlbmRzIFJNR1N0YXRpb24ge1xuICAgIHByaXZhdGUgX2ludEluZm86IEludGVyY2hhbmdlSW5mbztcblxuICAgIGNvbnN0cnVjdG9yIChpZDogSUQsIGRhdGE6IFN0YXRpb25JbmZvKSB7XG4gICAgICAgIHN1cGVyKGlkLCBkYXRhKTtcbiAgICAgICAgdGhpcy5faW50SW5mbyA9IGRhdGEuaW50ZXJjaGFuZ2VbMF1bMF07XG4gICAgfVxuXG4gICAgZ2V0IF9keSgpIHtyZXR1cm4gMDt9XG5cbiAgICBnZXQgaW50VGlja0hUTUwoKSB7XG4gICAgICAgIHZhciB0aWNrUm90YXRpb24gPSAodGhpcy5uYW1lUG9zID09IDEpID8gMTgwIDogMDtcbiAgICAgICAgdmFyIHRpY2tDb2xvdXIgPSB0aGlzLl9pbnRJbmZvW0ludEluZm9UYWcuY29sb3VyXTtcbiAgICAgICAgdmFyIHRpY2sgPSAkKCc8dXNlPicsIHtcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnR0aWNrX2hrJywgXG4gICAgICAgICAgICBzdHJva2U6IHRpY2tDb2xvdXIsIFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueSt0aGlzLl9keX0pcm90YXRlKCR7dGlja1JvdGF0aW9ufSlgLCBcbiAgICAgICAgICAgIGNsYXNzOiAncm1nLWxpbmUgcm1nLWxpbmVfX210ciBybWctbGluZV9fY2hhbmdlJ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gLTEpIHtcbiAgICAgICAgICAgIHRpY2suYWRkQ2xhc3MoJ3JtZy1saW5lX19wYXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpY2s7XG4gICAgfVxuXG4gICAgZ2V0IF9uYW1lQ2xhc3MoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zdGF0ZSA9PSAtMSkgPyAnUGFzcycgOiAnRnV0dXJlJztcbiAgICB9XG5cbiAgICBnZXQgaW50TmFtZUhUTUwoKSB7XG4gICAgICAgIHZhciBbbmFtZUhUTUwsIG5hbWVaSExuLCBuYW1lRU5Mbl0gPSBqb2luSW50TmFtZShbdGhpcy5faW50SW5mb1tJbnRJbmZvVGFnLm5hbWVaSF0sIHRoaXMuX2ludEluZm9bSW50SW5mb1RhZy5uYW1lRU5dXSwgMTUsIDcpO1xuICAgICAgICB2YXIgZHkgPSAodGhpcy5uYW1lUG9zID09IDApID8gMjUgKyA1Ljk1MzEyNSA6IC0yNSArIDUuOTUzMTI1IC0gMTguNjU2MjUgLSAxMyoobmFtZVpITG4tMSkgLSA3KihuYW1lRU5Mbi0xKTtcbiAgICAgICAgZHkgKz0gdGhpcy5fZHk7XG4gICAgICAgIC8vIHZhciBuYW1lQ2xhc3MgPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyAnUGFzcycgOiAnRnV0dXJlJztcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLCBcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueSArIGR5fSlgLCBcbiAgICAgICAgICAgICdjbGFzcyc6IGBOYW1lICR7dGhpcy5fbmFtZUNsYXNzfWBcbiAgICAgICAgfSkuaHRtbChuYW1lSFRNTFswXSk7XG4gICAgfVxuXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmludFRpY2tIVE1MLCB0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MLCB0aGlzLmludE5hbWVIVE1MXTtcbiAgICB9XG59XG5cbmNsYXNzIEludDNTdGF0aW9uIGV4dGVuZHMgUk1HU3RhdGlvbiB7XG4gICAgcHJpdmF0ZSBfaW50SW5mb3M6IEludGVyY2hhbmdlSW5mb1tdO1xuICAgIHByaXZhdGUgX2ludENpdHkgPSBbXTsgXG4gICAgcHJpdmF0ZSBfaW50TGluZSA9IFtdOyBcbiAgICBwcml2YXRlIF9pbnRDb2xvdXIgPSBbXTtcbiAgICBwcml2YXRlIF9pbnROYW1lWkggPSBbXTsgXG4gICAgcHJpdmF0ZSBfaW50TmFtZUVOID0gW107XG4gICAgLy8gX2ludDNUeXBlO1xuXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YSkge1xuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XG4gICAgICAgIHRoaXMuX2ludEluZm9zID0gZGF0YS5pbnRlcmNoYW5nZVswXTtcblxuICAgICAgICBkYXRhLmludGVyY2hhbmdlWzBdLmZvckVhY2goaW50SW5mbyA9PiB7XG4gICAgICAgICAgICB0aGlzLl9pbnRDaXR5LnB1c2goaW50SW5mb1swXSk7XG4gICAgICAgICAgICB0aGlzLl9pbnRMaW5lLnB1c2goaW50SW5mb1sxXSk7XG4gICAgICAgICAgICB0aGlzLl9pbnRDb2xvdXIucHVzaChpbnRJbmZvWzJdKTtcblxuICAgICAgICAgICAgdGhpcy5faW50TmFtZVpILnB1c2goaW50SW5mb1s0XSk7XG4gICAgICAgICAgICB0aGlzLl9pbnROYW1lRU4ucHVzaChpbnRJbmZvWzVdKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gdGhpcy5faW50M1R5cGUgPSBkYXRhLmNoYW5nZV90eXBlLnN1YnN0cmluZyg1KTtcbiAgICB9XG5cbiAgICBnZXQgaWNvbkhUTUwoKSB7XG4gICAgICAgIGxldCBpY29uUm90YXRpb24gPSAodGhpcy5uYW1lUG9zICE9IDEpID8gMCA6IDE4MDtcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI2ludDNfaGsnLCBcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnl9KXJvdGF0ZSgke2ljb25Sb3RhdGlvbn0pYCwgXG4gICAgICAgICAgICBjbGFzczogdGhpcy5pY29uQ2xhc3NcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7cmV0dXJuIDA7fVxuICAgIGdldCBfZHkoKSB7cmV0dXJuIDA7fVxuICAgIGdldCBfZHgoKSB7cmV0dXJuIDA7fVxuICAgIGdldCBfdGlja0ZsaXAoKSB7cmV0dXJuIDE7fVxuXG4gICAgZ2V0IGludFRpY2tIVE1MKCkge1xuICAgICAgICBsZXQgZWxlbXM6IEpRdWVyeTxIVE1MRWxlbWVudD5bXSA9IFtdO1xuICAgICAgICB0aGlzLl9pbnRJbmZvc1xuICAgICAgICAgICAgLm1hcChpbmZvID0+IGluZm9bSW50SW5mb1RhZy5jb2xvdXJdKVxuICAgICAgICAgICAgLmZvckVhY2goKGMsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaSA+PSAyKSB7cmV0dXJuO31cbiAgICAgICAgICAgICAgICBsZXQgdGlja0NvbG91ciA9ICh0aGlzLnN0YXRlID09PSAtMSkgPyAnI2FhYScgOiBjO1xuICAgICAgICAgICAgICAgIGxldCBkeSA9ICh0aGlzLm5hbWVQb3MgIT09IDEpID8gMTgqKGkrMSkgOiAtMTgqKDItaSk7XG4gICAgICAgICAgICAgICAgZHkgKz0gdGhpcy5fZHk7XG4gICAgICAgICAgICAgICAgZHkgKj0gdGhpcy5fdGlja0ZsaXA7XG4gICAgICAgICAgICAgICAgZWxlbXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgJCgnPHVzZT4nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAneGxpbms6aHJlZic6ICcjaW50dGlja19oaycsIFxuICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiB0aWNrQ29sb3VyLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueCArIHRoaXMuX2R4fSwke3RoaXMueSArIGR5fSlyb3RhdGUoJHt0aGlzLl90aWNrUm90YXRpb259KWAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdybWctbGluZSBybWctbGluZV9fbXRyIHJtZy1saW5lX19jaGFuZ2UnXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZWxlbXM7XG4gICAgfVxuXG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdtaWRkbGUnO31cbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gMDt9XG4gICAgZ2V0IF9uYW1lQ2xhc3MoKSB7cmV0dXJuICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO31cblxuICAgIGdldCBpbnROYW1lSFRNTCgpIHtcbiAgICAgICAgLy8gdmFyIHN0ciA9ICcnO1xuICAgICAgICBsZXQgZWxlbXM6IEpRdWVyeTxIVE1MRWxlbWVudD5bXSA9IFtdO1xuICAgICAgICBsZXQgbmFtZUNsYXNzID0gdGhpcy5fbmFtZUNsYXNzO1xuXG4gICAgICAgIHRoaXMuX2ludEluZm9zXG4gICAgICAgICAgICAubWFwKGluZm8gPT4gW2luZm9bSW50SW5mb1RhZy5uYW1lWkhdLCBpbmZvW0ludEluZm9UYWcubmFtZUVOXV0gYXMgTmFtZSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChuYW1lcywgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpID49Mikge3JldHVybjt9XG4gICAgICAgICAgICAgICAgbGV0IFtuYW1lSFRNTCwgbmFtZVpITG4sIG5hbWVFTkxuXSA9IGpvaW5JbnROYW1lKG5hbWVzLCAxNSwgNyk7XG4gICAgICAgICAgICAgICAgdmFyIGR5ID0gKHRoaXMubmFtZVBvcyA9PT0gMCkgPyAxOCooaSsxKSA6IC0xOCooMi1pKTtcbiAgICAgICAgICAgICAgICBkeSArPSB0aGlzLl9keTtcbiAgICAgICAgICAgICAgICBkeSAqPSB0aGlzLl90aWNrRmxpcDtcbiAgICAgICAgICAgICAgICBkeSArPSA1Ljk1MzEyNSAtICgxOS42NTYyNSArIDEzKihuYW1lWkhMbi0xKSArIDcqKG5hbWVFTkxuLTEpKS8yO1xuICAgICAgICAgICAgICAgIGVsZW1zLnB1c2goXG4gICAgICAgICAgICAgICAgICAgICQoJzxnPicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6IHRoaXMuX3R4dEFuY2hvciwgXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnggKyB0aGlzLl9pbnROYW1lRFh9LCR7dGhpcy55ICsgZHl9KWAsIFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICdOYW1lICcgKyBuYW1lQ2xhc3NcbiAgICAgICAgICAgICAgICAgICAgfSkuaHRtbChuYW1lSFRNTFswXSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBlbGVtcztcbiAgICB9XG5cbiAgICBnZXQgdW5ncnBIVE1MKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIC4uLnRoaXMuaW50TmFtZUhUTUxdO1xuICAgIH1cbn1cblxuY2xhc3MgSW50M0xTdGF0aW9uIGV4dGVuZHMgSW50M1N0YXRpb24ge1xuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiA5MDt9XG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdlbmQnO31cbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gLTI0O31cbn1cblxuY2xhc3MgSW50M1JTdGF0aW9uIGV4dGVuZHMgSW50M1N0YXRpb24ge1xuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiAtOTA7fVxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnc3RhcnQnO31cbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gMjQ7fVxufVxuXG5jbGFzcyBPU0kxMVN0YXRpb24gZXh0ZW5kcyBJbnQyU3RhdGlvbiB7XG4gICAgcHJpdmF0ZSBfb3NpTmFtZXM6IE5hbWU7XG4gICAgcHJpdmF0ZSBfb3NpVHlwZTogJ3UnIHwgJ3AnO1xuXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcbiAgICAgICAgLy8gZGF0YS5pbnQyID0gZGF0YS5vc2kxMTtcbiAgICAgICAgZGF0YS5pbnRlcmNoYW5nZVswXS5wdXNoKGRhdGEuaW50ZXJjaGFuZ2VbMV1bMV0pO1xuICAgICAgICBzdXBlcihpZCwgZGF0YSk7XG5cbiAgICAgICAgdGhpcy5fb3NpTmFtZXMgPSBkYXRhLmludGVyY2hhbmdlWzFdWzBdO1xuICAgICAgICB0aGlzLl9vc2lUeXBlID0gZGF0YS5jaGFuZ2VfdHlwZS5zdWJzdHJpbmcoNiw3KTsgLy8gdShucGFpZCkgb3IgcChhaWQpO1xuICAgIH1cbiAgICBcbiAgICBnZXQgb3NpQ2xhc3MoKSB7cmV0dXJuIHRoaXMuX29zaVR5cGUgPT0gJ3UnID8gJ3JtZy1zdG5fX210ci0tdW5wYWlkLW9zaScgOiAncm1nLXN0bl9fbXRyLS1wYWlkLW9zaSc7fVxuICAgIGdldCBpY29uSFRNTCgpIHtcbiAgICAgICAgdmFyIGljb25Sb3RhdGlvbiA9ICh0aGlzLm5hbWVQb3MgIT0gMSkgPyAwIDogMTgwO1xuICAgICAgICByZXR1cm4gJCgnPHVzZT4nLCB7XG4gICAgICAgICAgICAneGxpbms6aHJlZic6ICcjb3NpMTFfaGsnLCBcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pcm90YXRlKCR7aWNvblJvdGF0aW9ufSlgLCBcbiAgICAgICAgICAgIGNsYXNzOiBbdGhpcy5pY29uQ2xhc3MsIHRoaXMub3NpQ2xhc3NdLmpvaW4oJyAnKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXQgX2R5KCkge3JldHVybiAodGhpcy5uYW1lUG9zID09IDApID8gMjYgOiAtMjY7fVxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnbWlkZGxlJzt9XG4gICAgZ2V0IF9vc2lOYW1lRFgoKSB7cmV0dXJuIDA7fVxuXG4gICAgZ2V0IG9zaU5hbWVIVE1MKCkge1xuICAgICAgICB2YXIgZHkgPSB0aGlzLl9keSArIDguMzQzNzUgLSAyNS4wMzEyNS8yO1xuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdGhpcy5fdHh0QW5jaG9yLCBcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54K3RoaXMuX29zaU5hbWVEWH0sJHt0aGlzLnkrZHl9KWAsIFxuICAgICAgICAgICAgJ2NsYXNzJzogJ05hbWUgJyArIHRoaXMuX25hbWVDbGFzc1xuICAgICAgICB9KS5hcHBlbmQoXG4gICAgICAgICAgICAkKCc8dGV4dD4nKS5hZGRDbGFzcygncm1nLW5hbWVfX3poIHJtZy1uYW1lX19tdHItLW9zaScpLnRleHQodGhpcy5fb3NpTmFtZXNbMF0pXG4gICAgICAgICkuYXBwZW5kKFxuICAgICAgICAgICAgJCgnPHRleHQ+Jywge1xuICAgICAgICAgICAgICAgICd4JzowLCAnZHknOjEyLCAnY2xhc3MnOidybWctbmFtZV9fZW4gcm1nLW5hbWVfX210ci0tb3NpJ1xuICAgICAgICAgICAgfSkudGV4dCh0aGlzLl9vc2lOYW1lc1sxXSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgdW5ncnBIVE1MKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIHRoaXMuaW50TmFtZUhUTUwsIHRoaXMub3NpTmFtZUhUTUxdO1xuICAgIH1cbn1cblxuY2xhc3MgT1NJMTFMU3RhdGlvbiBleHRlbmRzIE9TSTExU3RhdGlvbiB7XG4gICAgLy8gT1NJIG5hbWUgb24gbGVmdFxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAnZW5kJzt9XG4gICAgZ2V0IF9vc2lOYW1lRFgoKSB7cmV0dXJuIC0xMzt9XG59XG5cbmNsYXNzIE9TSTExUlN0YXRpb24gZXh0ZW5kcyBPU0kxMVN0YXRpb24ge1xuICAgIC8vIE9TSSBuYW1lIG9uIHJpZ2h0XG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdzdGFydCc7fVxuICAgIGdldCBfb3NpTmFtZURYKCkge3JldHVybiAxMzt9XG59XG5cbmNsYXNzIE9TSTEyU3RhdGlvbiBleHRlbmRzIEludDNTdGF0aW9uIHtcbiAgICBwcm90ZWN0ZWQgX29zaU5hbWVzOiBOYW1lO1xuICAgIHByaXZhdGUgX29zaVR5cGU6ICd1JyB8ICdwJztcbiAgICBcbiAgICBjb25zdHJ1Y3RvciAoaWQ6IElELCBkYXRhOiBTdGF0aW9uSW5mbykge1xuICAgICAgICAvLyBkYXRhLmludDMgPSBkYXRhLm9zaTEyO1xuICAgICAgICBkYXRhLmludGVyY2hhbmdlWzBdLnVuc2hpZnQoLi4uZGF0YS5pbnRlcmNoYW5nZVsxXS5zbGljZSgxLDMpKTtcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xuXG4gICAgICAgIHRoaXMuX29zaU5hbWVzID0gZGF0YS5pbnRlcmNoYW5nZVsxXVswXTtcbiAgICAgICAgdGhpcy5fb3NpVHlwZSA9IGRhdGEuY2hhbmdlX3R5cGUuc3BsaXQoJ18nKS5yZXZlcnNlKClbMF1bMF07XG4gICAgfVxuXG4gICAgZ2V0IG9zaUNsYXNzKCkge3JldHVybiB0aGlzLl9vc2lUeXBlID09ICd1JyA/ICdybWctc3RuX19tdHItLXVucGFpZC1vc2knIDogJ3JtZy1zdG5fX210ci0tcGFpZC1vc2knO31cbiAgICBnZXQgaWNvbkhUTUwoKSB7XG4gICAgICAgIHZhciBpY29uUm90YXRpb24gPSAodGhpcy5uYW1lUG9zICE9IDEpID8gMCA6IDE4MDtcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI29zaTEyX2hrJywgXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlyb3RhdGUoJHtpY29uUm90YXRpb259KWAsXG4gICAgICAgICAgICBjbGFzczogW3RoaXMuaWNvbkNsYXNzLCB0aGlzLm9zaUNsYXNzXS5qb2luKCcgJylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IF9keSgpIHtyZXR1cm4gKHRoaXMubmFtZVBvcyA9PSAwKSA/ICgyNi0xOCkgOiAtODt9XG4gICAgZ2V0IF9vc2lEWSgpIHtyZXR1cm4gKHRoaXMubmFtZVBvcyA9PSAwKSA/ICgyNisxOCsxMCkgKyA4LjM0Mzc1ICA6IC0oMjYrMTgrMTApICsgOC4zNDM3NSAtIDI1LjAzMTI1O31cbiAgICBnZXQgX29zaVR4dEFuY2hvcigpIHtyZXR1cm4gJ21pZGRsZSc7fVxuICAgIGdldCBfb3NpRFgoKSB7cmV0dXJuIDA7fVxuXG4gICAgZ2V0IG9zaU5hbWVIVE1MKCkge1xuICAgICAgICB2YXIgbmFtZUNsYXNzID0gKHRoaXMuc3RhdGUgPT0gLTEpID8gJ1Bhc3MnIDogJ0Z1dHVyZSc7XG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl9vc2lUeHRBbmNob3IsIFxuICAgICAgICAgICAgJ3RyYW5zZm9ybSc6IGB0cmFuc2xhdGUoJHt0aGlzLngrdGhpcy5fZHgrdGhpcy5fb3NpRFh9LCR7dGhpcy55K3RoaXMuX29zaURZfSlgLCBcbiAgICAgICAgICAgICdjbGFzcyc6IGBOYW1lICR7bmFtZUNsYXNzfWBcbiAgICAgICAgfSkuYXBwZW5kKFxuICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fbXRyLS1vc2knKS50ZXh0KHRoaXMuX29zaU5hbWVzWzBdKVxuICAgICAgICApLmFwcGVuZChcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcbiAgICAgICAgICAgICAgICAneCc6MCwgJ2R5JzoxMiwgJ2NsYXNzJzoncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19tdHItLW9zaSdcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5fb3NpTmFtZXNbMV0uc3BsaXQoJ1xcXFwnKVswXSkuYXBwZW5kKFxuICAgICAgICAgICAgICAgICQoJzx0c3Bhbj4nLCB7eDowLCBkeToxMH0pLnRleHQodGhpcy5fb3NpTmFtZXNbMV0uc3BsaXQoJ1xcXFwnKVsxXSB8fCAnJylcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXQgdW5ncnBIVE1MKCkge1xuICAgICAgICByZXR1cm4gWy4uLnRoaXMuaW50VGlja0hUTUwsIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIC4uLnRoaXMuaW50TmFtZUhUTUwsIHRoaXMub3NpTmFtZUhUTUxdO1xuICAgIH1cbn1cblxuY2xhc3MgT1NJMTJMU3RhdGlvbiBleHRlbmRzIE9TSTEyU3RhdGlvbiB7XG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7cmV0dXJuIDkwO31cbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ2VuZCc7fVxuICAgIGdldCBfaW50TmFtZURYKCkge3JldHVybiAtMjQ7fVxufVxuXG5jbGFzcyBPU0kxMlJTdGF0aW9uIGV4dGVuZHMgT1NJMTJTdGF0aW9uIHtcbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gLTkwO31cbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ3N0YXJ0Jzt9XG4gICAgZ2V0IF9pbnROYW1lRFgoKSB7cmV0dXJuIDI0O31cbn1cblxuY2xhc3MgT1NJMjJTdGF0aW9uIGV4dGVuZHMgT1NJMTJTdGF0aW9uIHtcbiAgICBwcml2YXRlIF9vcmlnSW50SW5mbzogSW50ZXJjaGFuZ2VJbmZvO1xuXG4gICAgY29uc3RydWN0b3IgKGlkOiBJRCwgZGF0YTogU3RhdGlvbkluZm8pIHtcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xuICAgICAgICAvLyBkYXRhIG11dGF0ZWQgYnkgT1NJMTJTdGF0aW9uISEhXG4gICAgICAgIHRoaXMuX29yaWdJbnRJbmZvID0gZGF0YS5pbnRlcmNoYW5nZVswXVsyXTtcbiAgICB9XG5cbiAgICBnZXQgX25hbWVUeHRBbmNob3IoKSB7cmV0dXJuIHRoaXMuX29zaVR4dEFuY2hvcjt9XG4gICAgZ2V0IF9uYW1lRFkoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5uYW1lUG9zID09PSAxKSA/IDExLjUxNTYyNSA6IC0xMS41MTU2MjU7XG4gICAgfVxuXG4gICAgZ2V0IG9yaWdJbnRUaWNrSFRNTCgpIHtcbiAgICAgICAgdmFyIHRpY2tSb3RhdGlvbiA9ICh0aGlzLm5hbWVQb3MgPT0gMSkgPyAwIDogMTgwO1xuICAgICAgICB2YXIgdGlja0NvbG91ciA9IHRoaXMuX29yaWdJbnRJbmZvW0ludEluZm9UYWcuY29sb3VyXTtcbiAgICAgICAgdmFyIHRpY2sgPSAkKCc8dXNlPicsIHtcbiAgICAgICAgICAgICd4bGluazpocmVmJzogJyNpbnR0aWNrX2hrJywgXG4gICAgICAgICAgICBzdHJva2U6IHRpY2tDb2xvdXIsIFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueX0pcm90YXRlKCR7dGlja1JvdGF0aW9ufSlgLFxuICAgICAgICAgICAgJ2NsYXNzJzogJ3JtZy1saW5lIHJtZy1saW5lX19tdHIgcm1nLWxpbmVfX2NoYW5nZSdcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlID09IC0xKSB7XG4gICAgICAgICAgICB0aWNrLmFkZENsYXNzKCdybWctbGluZV9fcGFzcycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aWNrO1xuICAgIH1cblxuICAgIGdldCBvcmlnSW50TmFtZUhUTUwoKSB7XG4gICAgICAgIHZhciBbbmFtZUhUTUwsIG5hbWVaSExuLCBuYW1lRU5Mbl0gPSBqb2luSW50TmFtZShbdGhpcy5fb3JpZ0ludEluZm9bSW50SW5mb1RhZy5uYW1lWkhdLCB0aGlzLl9vcmlnSW50SW5mb1tJbnRJbmZvVGFnLm5hbWVFTl1dLCAxNSwgNyk7XG4gICAgICAgIHZhciBkeSA9ICh0aGlzLm5hbWVQb3MgPT0gMSkgPyAyNSArIDUuOTUzMTI1IDogLTI1ICsgNS45NTMxMjUgLSAxOC42NTYyNSAtIDEzKihuYW1lWkhMbi0xKSAtIDcqKG5hbWVFTkxuLTEpO1xuICAgICAgICAvLyBkeSArPSB0aGlzLl9keTtcbiAgICAgICAgLy8gdmFyIG5hbWVDbGFzcyA9ICh0aGlzLnN0YXRlID09IC0xKSA/ICdQYXNzJyA6ICdGdXR1cmUnO1xuICAgICAgICByZXR1cm4gJCgnPGc+Jywge1xuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogdGhpcy5fdHh0QW5jaG9yLCBcbiAgICAgICAgICAgIHRyYW5zZm9ybTogYHRyYW5zbGF0ZSgke3RoaXMueCAtIHRoaXMuX25hbWVEWH0sJHt0aGlzLnkgKyBkeX0pYCwgXG4gICAgICAgICAgICBjbGFzczogYE5hbWUgJHt0aGlzLl9uYW1lQ2xhc3N9YFxuICAgICAgICB9KS5odG1sKG5hbWVIVE1MWzBdKTtcbiAgICB9XG5cbiAgICBnZXQgX29zaU5hbWVEWCgpOiBudW1iZXIge3JldHVybiAwO31cblxuICAgIGdldCBvc2lOYW1lSFRNTCgpIHtcbiAgICAgICAgdmFyIGR5ID0gdGhpcy5fZHkgLSAodGhpcy5uYW1lUG9zPT09MSA/IDE4KzkgOiAtMjcpICsgOC4zNDM3NSAtIDI1LjAzMTI1LzI7XG4gICAgICAgIHJldHVybiAkKCc8Zz4nLCB7XG4gICAgICAgICAgICAndGV4dC1hbmNob3InOiB0aGlzLl9vc2lUeHRBbmNob3IsIFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhpcy54K3RoaXMuX29zaU5hbWVEWH0sJHt0aGlzLnkrZHl9KWAsIFxuICAgICAgICAgICAgY2xhc3M6ICdOYW1lICcgKyB0aGlzLl9uYW1lQ2xhc3NcbiAgICAgICAgfSkuYXBwZW5kKFxuICAgICAgICAgICAgJCgnPHRleHQ+JykuYWRkQ2xhc3MoJ3JtZy1uYW1lX196aCBybWctbmFtZV9fbXRyLS1vc2knKS50ZXh0KHRoaXMuX29zaU5hbWVzWzBdKVxuICAgICAgICApLmFwcGVuZChcbiAgICAgICAgICAgICQoJzx0ZXh0PicsIHtcbiAgICAgICAgICAgICAgICB4OjAsIGR5OjEyLCBjbGFzczoncm1nLW5hbWVfX2VuIHJtZy1uYW1lX19tdHItLW9zaSdcbiAgICAgICAgICAgIH0pLnRleHQodGhpcy5fb3NpTmFtZXNbMV0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0IHVuZ3JwSFRNTCgpIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIC4uLnRoaXMuaW50VGlja0hUTUwsIHRoaXMub3JpZ0ludFRpY2tIVE1MLCBcbiAgICAgICAgICAgIHRoaXMuaWNvbkhUTUwsIHRoaXMubmFtZUhUTUwsIFxuICAgICAgICAgICAgLi4udGhpcy5pbnROYW1lSFRNTCwgdGhpcy5vcmlnSW50TmFtZUhUTUwsIHRoaXMub3NpTmFtZUhUTUxcbiAgICAgICAgXVxuICAgIH1cbn1cblxuY2xhc3MgT1NJMjJMU3RhdGlvbiBleHRlbmRzIE9TSTIyU3RhdGlvbiB7XG4gICAgZ2V0IF9uYW1lRFgoKSB7cmV0dXJuIDM7fVxuICAgIGdldCBfdGlja1JvdGF0aW9uKCkge3JldHVybiA5MDt9XG4gICAgZ2V0IF90eHRBbmNob3IoKSB7cmV0dXJuICdlbmQnO31cbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gLTI0O31cbiAgICBnZXQgX29zaU5hbWVEWCgpIHtyZXR1cm4gMTM7fVxuICAgIGdldCBfb3NpVHh0QW5jaG9yKCkge3JldHVybiAnc3RhcnQnO31cbn1cblxuY2xhc3MgT1NJMjJSU3RhdGlvbiBleHRlbmRzIE9TSTIyU3RhdGlvbiB7XG4gICAgZ2V0IF9uYW1lRFgoKSB7cmV0dXJuIC0zO31cbiAgICBnZXQgX3RpY2tSb3RhdGlvbigpIHtyZXR1cm4gLTkwO31cbiAgICBnZXQgX3R4dEFuY2hvcigpIHtyZXR1cm4gJ3N0YXJ0Jzt9XG4gICAgZ2V0IF9pbnROYW1lRFgoKSB7cmV0dXJuIDI0O31cbiAgICBnZXQgX29zaU5hbWVEWCgpIHtyZXR1cm4gLTEzO31cbiAgICBnZXQgX29zaVR4dEFuY2hvcigpIHtyZXR1cm4gJ2VuZCc7fVxufVxuXG5jbGFzcyBPU0kyMkVuZFN0YXRpb24gZXh0ZW5kcyBPU0kxMlN0YXRpb24ge1xuICAgIHByaXZhdGUgX29yaWdJbnRDaXR5OiBzdHJpbmc7IFxuICAgIHByaXZhdGUgX29yaWdJbnRMaW5lOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfb3JpZ0ludENvbG91cjogc3RyaW5nO1xuICAgIHByaXZhdGUgX29yaWdJbnRGZzogc3RyaW5nO1xuICAgIHByaXZhdGUgX29yaWdJbnROYW1lWkg6IHN0cmluZztcbiAgICBwcml2YXRlIF9vcmlnSW50TmFtZUVOOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvciAoaWQsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIoaWQsIGRhdGEpO1xuICAgICAgICAvLyBkYXRhIG11dGF0ZWQgYnkgT1NJMTJTdGF0aW9uISEhXG4gICAgICAgIFt0aGlzLl9vcmlnSW50Q2l0eSwgdGhpcy5fb3JpZ0ludExpbmUsIHRoaXMuX29yaWdJbnRDb2xvdXIsIHRoaXMuX29yaWdJbnRGZywgdGhpcy5fb3JpZ0ludE5hbWVaSCwgdGhpcy5fb3JpZ0ludE5hbWVFTl0gPSBkYXRhLmludGVyY2hhbmdlWzBdWzJdO1xuICAgIH1cblxuICAgIGdldCBvcmlnSW50VGlja0hUTUwoKSB7XG4gICAgICAgIHZhciB0aWNrUm90YXRpb24gPSAodGhpcy5uYW1lUG9zID09IDEpID8gMTgwIDogMDtcbiAgICAgICAgdmFyIHRpY2tDb2xvdXIgPSB0aGlzLl9vcmlnSW50Q29sb3VyO1xuICAgICAgICB2YXIgdGljayA9ICQoJzx1c2U+Jywge1xuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI2ludHRpY2tfaGsnLCBcbiAgICAgICAgICAgIHN0cm9rZTogdGlja0NvbG91ciwgXG4gICAgICAgICAgICB0cmFuc2Zvcm06IGB0cmFuc2xhdGUoJHt0aGlzLnh9LCR7dGhpcy55fSlyb3RhdGUoJHt0aWNrUm90YXRpb259KWAsXG4gICAgICAgICAgICAnY2xhc3MnOiAncm1nLWxpbmUgcm1nLWxpbmVfX210ciBybWctbGluZV9fY2hhbmdlJ1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuc3RhdGUgPT0gLTEpIHtcbiAgICAgICAgICAgIHRpY2suYWRkQ2xhc3MoJ3JtZy1saW5lX19wYXNzJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRpY2s7XG4gICAgfVxuXG4gICAgZ2V0IG9yaWdJbnROYW1lSFRNTCgpIHtcbiAgICAgICAgdmFyIFtuYW1lSFRNTCwgbmFtZVpITG4sIG5hbWVFTkxuXSA9IGpvaW5JbnROYW1lKFt0aGlzLl9vcmlnSW50TmFtZVpILCB0aGlzLl9vcmlnSW50TmFtZUVOXSwgMTUsIDcpO1xuICAgICAgICB2YXIgZHkgPSAodGhpcy5uYW1lUG9zID09IDApID8gMjUgKyA1Ljk1MzEyNSA6IC0yNSArIDUuOTUzMTI1IC0gMTguNjU2MjUgLSAxMyoobmFtZVpITG4tMSkgLSA3KihuYW1lRU5Mbi0xKTtcbiAgICAgICAgLy8gZHkgKz0gdGhpcy5fZHk7XG4gICAgICAgIC8vIHZhciBuYW1lQ2xhc3MgPSAodGhpcy5zdGF0ZSA9PSAtMSkgPyAnUGFzcycgOiAnRnV0dXJlJztcbiAgICAgICAgcmV0dXJuICQoJzxnPicsIHtcbiAgICAgICAgICAgICd0ZXh0LWFuY2hvcic6ICdtaWRkbGUnLCBcbiAgICAgICAgICAgICd0cmFuc2Zvcm0nOiBgdHJhbnNsYXRlKCR7dGhpcy54fSwke3RoaXMueSArIGR5fSlgLCBcbiAgICAgICAgICAgICdjbGFzcyc6IGBOYW1lICR7dGhpcy5fbmFtZUNsYXNzfWBcbiAgICAgICAgfSkuaHRtbChuYW1lSFRNTFswXSk7XG4gICAgfVxuXG4gICAgZ2V0IGljb25IVE1MKCkge1xuICAgICAgICB2YXIgaWNvbllGbGlwID0gKHRoaXMubmFtZVBvcyA9PSAxKSA/IDEgOiAtMTtcbiAgICAgICAgdmFyIGljb25YRmxpcCA9ICh0aGlzLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykgPyAxIDogLTE7XG4gICAgICAgIHZhciBpY29uUm90YXRpb24gPSAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gMCA6IDE4MDtcbiAgICAgICAgcmV0dXJuICQoJzx1c2U+Jywge1xuICAgICAgICAgICAgJ3hsaW5rOmhyZWYnOiAnI29zaTIyZW5kX2hrJywgXG4gICAgICAgICAgICAndHJhbnNmb3JtJzogYHRyYW5zbGF0ZSgke3RoaXMueH0sJHt0aGlzLnl9KXNjYWxlKCR7aWNvblhGbGlwfSwke2ljb25ZRmxpcH0pYCwgXG4gICAgICAgICAgICBjbGFzczogW3RoaXMuaWNvbkNsYXNzLCB0aGlzLm9zaUNsYXNzXS5qb2luKCcgJylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0IF90aWNrUm90YXRpb24oKSB7cmV0dXJuICh0aGlzLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykgPyAtOTAgOiA5MDt9XG4gICAgZ2V0IF90aWNrRmxpcCgpIHtyZXR1cm4gLTE7fVxuICAgIGdldCBfZHgoKSB7cmV0dXJuICh0aGlzLmNoaWxkcmVuWzBdID09ICdsaW5lZW5kJykgPyA0MSA6IC00MTt9XG4gICAgZ2V0IF9keSgpIHtyZXR1cm4gKHRoaXMubmFtZVBvcyA9PSAwKSA/IC0xOCA6IDE4O31cbiAgICBnZXQgX2ludE5hbWVEWCgpIHtyZXR1cm4gKHRoaXMuY2hpbGRyZW5bMF0gPT0gJ2xpbmVlbmQnKSA/IDI0KzQxIDogLSgyNCs0MSk7fVxuICAgIGdldCBfdHh0QW5jaG9yKCkge3JldHVybiAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gJ3N0YXJ0JyA6ICdlbmQnO31cbiAgICBnZXQgX29zaURZKCkge3JldHVybiAodGhpcy5uYW1lUG9zID09IDApID8gKDEwKSArIDguMzQzNzUgIDogLSgxMCkgKyA4LjM0Mzc1IC0gMjUuMDMxMjU7fVxuICAgIGdldCBfb3NpVHh0QW5jaG9yKCkge3JldHVybiAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gJ3N0YXJ0JyA6ICdlbmQnO31cbiAgICBnZXQgX29zaURYKCkge3JldHVybiAodGhpcy5jaGlsZHJlblswXSA9PSAnbGluZWVuZCcpID8gLTkgOiA5O31cblxuICAgIGdldCB1bmdycEhUTUwoKSB7XG4gICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAuLi50aGlzLmludFRpY2tIVE1MLCB0aGlzLm9yaWdJbnRUaWNrSFRNTCwgXG4gICAgICAgICAgICB0aGlzLmljb25IVE1MLCB0aGlzLm5hbWVIVE1MLCBcbiAgICAgICAgICAgIC4uLnRoaXMuaW50TmFtZUhUTUwsIHRoaXMub3JpZ0ludE5hbWVIVE1MLCB0aGlzLm9zaU5hbWVIVE1MXG4gICAgICAgIF1cbiAgICB9XG59XG5cbmV4cG9ydCB7IFJNR1N0YXRpb24sIEludDJTdGF0aW9uLCBJbnQzTFN0YXRpb24sIEludDNSU3RhdGlvbiwgT1NJMTFMU3RhdGlvbiwgT1NJMTFSU3RhdGlvbiwgT1NJMTJMU3RhdGlvbiwgT1NJMTJSU3RhdGlvbiwgT1NJMjJMU3RhdGlvbiwgT1NJMjJSU3RhdGlvbiwgT1NJMjJFbmRTdGF0aW9uIH07XG4iLCJpbXBvcnQgKiBhcyBpbml0U2F2ZSBmcm9tICcuL1BhZ2VJbml0aWFsaXNlci9zYXZlJztcbmltcG9ydCAqIGFzICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCB7IFJNR0xpbmUgfSBmcm9tICcuL0xpbmUvTGluZSc7XG5pbXBvcnQgaW5pdExpbmUgZnJvbSAnLi9MaW5lL2luaXQnO1xuaW1wb3J0IGluaXRQYW5lbHMgZnJvbSAnLi9QYWdlSW5pdGlhbGlzZXIvaW5pdCc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICAgICAgbXlMaW5lPzogUk1HTGluZTtcbiAgICAgICAgdXJsUGFyYW1zPzogVVJMU2VhcmNoUGFyYW1zO1xuICAgIH1cbn1cblxudmFyIHJlcXVlc3RMYW5nID0gd2luZG93LnVybFBhcmFtcy5nZXQoJ2xhbmcnKSB8fCBsb2NhbFN0b3JhZ2Uucm1nTGFuZyB8fCBuYXZpZ2F0b3IubGFuZ3VhZ2Uuc3BsaXQoJy0nKS5zbGljZSgwLDIpLmpvaW4oJy0nKTtcbnN3aXRjaCAocmVxdWVzdExhbmcudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ3poLWNuJzpcbiAgICBjYXNlICd6aC1oYW5zJzpcbiAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCAnemgtSGFucycpO1xuICAgICAgICBicmVhaztcbiAgICBjYXNlICd6aCc6XG4gICAgY2FzZSAnemgtaGsnOlxuICAgIGNhc2UgJ3poLXR3JzpcbiAgICAgICAgd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCAnemgtSEsnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDogd2luZG93LnVybFBhcmFtcy5zZXQoJ2xhbmcnLCAnZW4nKTtcbn1cblxuc3dpdGNoICh3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKSkge1xuICAgIGNhc2UgJ210cic6XG4gICAgY2FzZSAnZ3ptdHInOlxuICAgICAgICBicmVhaztcbiAgICBkZWZhdWx0OiB3aW5kb3cudXJsUGFyYW1zLnNldCgnc3R5bGUnLCAnbXRyJyk7XG59XG5oaXN0b3J5LnB1c2hTdGF0ZSh7dXJsOndpbmRvdy5sb2NhdGlvbi5ocmVmfSwgbnVsbCwgJz8nICsgd2luZG93LnVybFBhcmFtcy50b1N0cmluZygpKTtcblxud2luZG93Lm15TGluZSA9IG51bGw7XG4kKGBbJHt3aW5kb3cudXJsUGFyYW1zLmdldCgnc3R5bGUnKX0tc3BlY2lmaWNdYCkuc2hvdygpO1xuLy8gYXV0b0luaXQoKTtcbmluaXRTYXZlLmNvbW1vbigpO1xuXG5pbml0TGluZSgpO1xuaW5pdFBhbmVscygpOyIsImV4cG9ydCB0eXBlIElEID0gc3RyaW5nO1xuZXhwb3J0IGludGVyZmFjZSBCcmFuY2hJbmZvIHtcbiAgICBsZWZ0OiBbc3RyaW5nLCBJRF0gfCBbXSwgXG4gICAgcmlnaHQ6IFtzdHJpbmcsIElEXSB8IFtdXG59XG5leHBvcnQgdHlwZSBOYW1lID0gW3N0cmluZywgc3RyaW5nXTtcbmV4cG9ydCBlbnVtIERpcmVjdGlvbkxvbmcge2xlZnQsIHJpZ2h0fTtcbmV4cG9ydCBlbnVtIE5laWdoYm91clBsIHtwYXJlbnRzLCBjaGlsZHJlbn07XG5leHBvcnQgaW50ZXJmYWNlIFN0YXRpb25JbmZvIHtcbiAgICBicmFuY2g6IEJyYW5jaEluZm87XG4gICAgcGFyZW50czogSURbXTtcbiAgICBjaGlsZHJlbjogSURbXTtcbiAgICBbcHJvcE5hbWU6IHN0cmluZ106IGFueTtcbn1cbmV4cG9ydCBpbnRlcmZhY2UgU3RhdGlvbkluZm9EaWN0IHtcbiAgICBbaW5kZXg6IHN0cmluZ106IFN0YXRpb25JbmZvO1xufVxuZXhwb3J0IGludGVyZmFjZSBSTUdQYXJhbSB7XG4gICAgc3RuX2xpc3Q6IFN0YXRpb25JbmZvRGljdDtcbiAgICBbcHJvcE5hbWU6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMaW5lRW50cnkge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZToge1xuICAgICAgICBlbjogc3RyaW5nO1xuICAgICAgICBbeDogc3RyaW5nXTogc3RyaW5nO1xuICAgIH07XG4gICAgY29sb3VyOiBzdHJpbmc7XG4gICAgZmc/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2l0eUVudHJ5IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIGNvdW50cnk6IHN0cmluZztcbiAgICBuYW1lOiB7XG4gICAgICAgIGVuOiBzdHJpbmc7XG4gICAgICAgIFt4OiBzdHJpbmddOiBzdHJpbmc7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcHV0UGFyYW1zKGluc3RhbmNlOiBSTUdQYXJhbSkge1xuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdybWdQYXJhbScsIEpTT04uc3RyaW5naWZ5KGluc3RhbmNlKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbXMoKSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLnJtZ1BhcmFtKSBhcyBSTUdQYXJhbTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNldFBhcmFtcyhrZXk6IHN0cmluZywgZGF0YTogYW55KSB7XG4gICAgbGV0IHBhcmFtID0gZ2V0UGFyYW1zKCk7XG4gICAgcGFyYW1ba2V5XSA9IGRhdGE7XG4gICAgcHV0UGFyYW1zKHBhcmFtKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRlc3Qoc3ZnRWwpIHtcbiAgICB2YXIgW3N2Z1csIHN2Z0hdID0gc3ZnRWwuYXR0cigndmlld0JveCcpLnNwbGl0KCcgJykuc2xpY2UoMik7XG5cbiAgICB2YXIgY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiAkKCdjYW52YXMnKVswXTtcbiAgICAkKCdjYW52YXMnKS5hdHRyKHtcbiAgICAgICAgd2lkdGg6IHN2Z1cqMi41LCBoZWlnaHQ6c3ZnSCoyLjVcbiAgICB9KTtcbiAgICB2YXIgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG5cbiAgICAvLyBieXBhc3MgQ2hyb21lIG1pbiBmb250IHNpemUgKHRvIGJlIGltcHJvdmVkKVxuXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLXN0YXRpb24sIC5ybWctbmFtZV9fZW4ucm1nLW5hbWVfX210ci0tc3RhdGlvbiwgLnJtZy1uYW1lX196aC5JbnROYW1lJykuZWFjaCgoXyxlbCkgPT4ge1xuICAgICAgICAkKGVsKS5hdHRyKCdmb250LXNpemUnLCAnMTBweCcpO1xuICAgIH0pO1xuXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLWludCcpLmVhY2goKF8sZWwpID0+IHtcbiAgICAgICAgJChlbCkuYXR0cignZm9udC1zaXplJywgJzhweCcpO1xuICAgIH0pO1xuXG4gICAgc3ZnRWwuZmluZCgnLnJtZy1uYW1lX19lbi5ybWctbmFtZV9fZ3ptdHItLWludC1zbWFsbCwgLnJtZy1uYW1lX19lbi5JbnROYW1lJykuZWFjaCgoXyxlbCkgPT4ge1xuICAgICAgICAkKGVsKS5hdHRyKCdmb250LXNpemUnLCAnN3B4Jyk7XG4gICAgfSk7XG5cbiAgICBzdmdFbC5maW5kKCd0ZXh0Om5vdChbZm9udC1zaXplXSksIHRzcGFuOm5vdChbZm9udC1zaXplXSknKS5lYWNoKChfLGVsKSA9PiB7XG4gICAgICAgICQoZWwpLmF0dHIoJ2ZvbnQtc2l6ZScsIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5mb250U2l6ZSk7XG4gICAgfSk7XG5cbiAgICBzdmdFbC5maW5kKCd0ZXh0LCB0c3BhbicpLmVhY2goKF8sZWwpID0+IHtcbiAgICAgICAgdmFyIGVsU3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCk7XG4gICAgICAgICQoZWwpLmF0dHIoe1xuICAgICAgICAgICAgJ2ZvbnQtZmFtaWx5JzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdmb250LWZhbWlseScpLCBcbiAgICAgICAgICAgICdmaWxsJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdmaWxsJyksIFxuICAgICAgICAgICAgJ2FsaWdubWVudC1iYXNlbGluZSc6IGVsU3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnYWxpZ25tZW50LWJhc2VsaW5lJyksIFxuICAgICAgICAgICAgJ3RleHQtYW5jaG9yJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCd0ZXh0LWFuY2hvcicpXG4gICAgICAgIH0pLnJlbW92ZUF0dHIoJ2NsYXNzJyk7XG4gICAgfSk7XG5cbiAgICBzdmdFbC5maW5kKCcjc3RyaXAsICNkZXN0X3N0cmlwJykuZWFjaCgoXyxlbCkgPT4ge1xuICAgICAgICB2YXIgZWxTdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgJChlbCkuYXR0cih7XG4gICAgICAgICAgICAnc3Ryb2tlLXdpZHRoJzogZWxTdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdzdHJva2Utd2lkdGgnKVxuICAgICAgICB9KTtcbiAgICB9KTtcblxuICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UoaW1nLCAwLCAwLCBzdmdXKjIuNSwgc3ZnSCoyLjUpO1xuICAgICAgICBzYXZlQXMoXG4gICAgICAgICAgICAoPEhUTUxDYW52YXNFbGVtZW50PiQoJ2NhbnZhcycpWzBdKS50b0RhdGFVUkwoJ2ltYWdlL3BuZycpLCBcbiAgICAgICAgICAgICdybWdfZXhwb3J0J1xuICAgICAgICApO1xuICAgIH1cbiAgICBpbWcuc3JjID0gJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsJyArIGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN2Z0VsWzBdLm91dGVySFRNTCkpKTtcbn1cblxuZnVuY3Rpb24gc2F2ZUFzKHVyaTogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKSB7XG5cbiAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgIGlmICh0eXBlb2YgbGluay5kb3dubG9hZCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgbGluay5ocmVmID0gdXJpO1xuICAgICAgICBsaW5rLmRvd25sb2FkID0gZmlsZW5hbWU7XG4gICAgICAgIC8vRmlyZWZveCByZXF1aXJlcyB0aGUgbGluayB0byBiZSBpbiB0aGUgYm9keVxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgICAvL3NpbXVsYXRlIGNsaWNrXG4gICAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgICAgLy9yZW1vdmUgdGhlIGxpbmsgd2hlbiBkb25lXG4gICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobGluayk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cub3Blbih1cmkpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR4dEJveERpbShlbGVtOiBTVkdHcmFwaGljc0VsZW1lbnQsIHN2Zzogc3RyaW5nKSB7XG4gICAgbGV0IHN2Z05vZGUgPSAkKCcjJyArIHN2ZylbMF0gYXMgRWxlbWVudCBhcyBTVkdTVkdFbGVtZW50O1xuICAgIGxldCBiY3IgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGxldCBwdCA9IHN2Z05vZGUuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICBsZXQgY3RtID0gc3ZnTm9kZS5nZXRTY3JlZW5DVE0oKTtcbiAgICBwdC54ID0gYmNyLmxlZnQ7XG4gICAgcHQueSA9IGJjci50b3A7XG4gICAgbGV0IHBvcyA9IHB0Lm1hdHJpeFRyYW5zZm9ybShjdG0uaW52ZXJzZSgpKTtcbiAgICByZXR1cm4ge3g6cG9zLngsIHk6cG9zLnksIHdpZHRoOmJjci53aWR0aCwgaGVpZ2h0OmJjci5oZWlnaHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gam9pbkludE5hbWUobmFtZXM6IE5hbWUsIGR5MSwgZHkyKTogW0pRdWVyeTxIVE1MRWxlbWVudD4sIG51bWJlciwgbnVtYmVyXSB7XG4gICAgdmFyIFtuYW1lWkgsIG5hbWVFTl0gPSBuYW1lcy5tYXAodHh0ID0+IHR4dC5zcGxpdCgvXFxcXC9nKSk7XG4gICAgdmFyIHJlcyA9ICQoJzx0ZXh0PicpLmFkZENsYXNzKCdybWctbmFtZV9femggSW50TmFtZScpLnRleHQobmFtZVpIWzBdKTtcbiAgICBmb3IgKGxldCBpPTE7IGk8bmFtZVpILmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlcyA9IHJlcy5hcHBlbmQoXG4gICAgICAgICAgICAkKCc8dHNwYW4+Jywgeyd4JzowLCAnZHknOmR5MX0pLnRleHQobmFtZVpIW2ldKVxuICAgICAgICApO1xuICAgIH1cbiAgICB2YXIgYnR3R2FwID0gKG5hbWVaSC5sZW5ndGggPT0gMSkgPyA5IDogZHkyO1xuICAgIHJlcyA9IHJlcy5hcHBlbmQoXG4gICAgICAgICQoJzx0c3Bhbj4nLCB7XG4gICAgICAgICAgICAneCc6MCwgJ2R5JzpidHdHYXAsICdjbGFzcyc6ICdybWctbmFtZV9fZW4gSW50TmFtZSdcbiAgICAgICAgfSkudGV4dChuYW1lRU5bMF0pXG4gICAgKTtcbiAgICBmb3IgKGxldCBpPTE7IGk8bmFtZUVOLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHJlcyA9IHJlcy5hcHBlbmQoXG4gICAgICAgICAgICAkKCc8dHNwYW4+Jywge1xuICAgICAgICAgICAgICAgICd4JzowLCAnZHknOmR5MiwgJ2NsYXNzJzogJ3JtZy1uYW1lX19lbiBJbnROYW1lJ1xuICAgICAgICAgICAgfSkudGV4dChuYW1lRU5baV0pXG4gICAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiBbcmVzLCBuYW1lWkgubGVuZ3RoLCBuYW1lRU4ubGVuZ3RoXTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFJhbmRvbUlkKCkge1xuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLnBvdygzNiwgNCkpLnRvU3RyaW5nKDM2KS5wYWRTdGFydCg0LCAnMCcpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVzY3JpYmVQYXJhbXMocGFyYW06IFJNR1BhcmFtKSB7XG4gICAgcmV0dXJuIGBOdW1iZXIgb2Ygc3RhdGlvbnM6ICR7T2JqZWN0LmtleXMocGFyYW0uc3RuX2xpc3QpLmxlbmd0aC0yfVxuICAgICAgICAgICAgJHtPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkubWFwKHggPT4gWydsaW5lc3RhcnQnLCdsaW5lZW5kJ10uaW5jbHVkZXMoeFswXSkgPyAnJyA6IHhbMV0ubmFtZS5qb2luKCcgLSAnKSkuam9pbignPGJyPicpLnRyaW0oKS5yZXBsYWNlKC9cXFxcLywnICcpfWA7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjb3VudHJ5Q29kZTJFbW9qaShjb2RlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIHZhciBjaGFycyA9IGNvZGUudG9VcHBlckNhc2UoKS5zcGxpdCgnJyk7XG4gICAgaWYgKGNvZGUubGVuZ3RoID09IDIpIHtcbiAgICAgICAgcmV0dXJuIGNoYXJzLm1hcChjaGFyID0+IFN0cmluZy5mcm9tQ29kZVBvaW50KChjaGFyLmNvZGVQb2ludEF0KDApKzEyNzM5NykpKS5qb2luKCcnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ1xcdXsxZjNmNH0nICsgY2hhcnMubWFwKGNoYXIgPT4gU3RyaW5nLmZyb21Db2RlUG9pbnQoKGNoYXIuY29kZVBvaW50QXQoMCkrOTE3NTM2KSkpLmpvaW4oJycpICsgJ1xcdXtlMDA3Zn0nO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJnYjJIZXgocmdiOiBzdHJpbmcpIHtcbiAgICBsZXQgaGV4ID0gcmdiLm1hdGNoKC9bXFxkXSsvZylcbiAgICAgICAgLm1hcChkZWMgPT4gTnVtYmVyKGRlYykudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsJzAnKSlcbiAgICAgICAgLmpvaW4oJycpO1xuICAgIHN3aXRjaCAoaGV4KSB7XG4gICAgICAgIGNhc2UgJzAwMDAwMCc6IHJldHVybiAnIzAwMCc7XG4gICAgICAgIGNhc2UgJ2ZmZmZmZic6IHJldHVybiAnI2ZmZic7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiAnIycgKyBoZXg7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFyYW0oKSB7XG4gICAgdmFyIHBhcmFtID0gZ2V0UGFyYW1zKCk7XG5cbiAgICAvLyBWZXJzaW9uIDAuMTBcbiAgICBpZiAoISgnbGluZV9uYW1lJyBpbiBwYXJhbSkpIHtcbiAgICAgICAgcGFyYW0ubGluZV9uYW1lID0gWyfot6/nt5rlkI0nLCAnTmFtZSBvZiBMaW5lJ107XG4gICAgfVxuICAgIGlmICghKCdkZXN0X2xlZ2FjeScgaW4gcGFyYW0pKSB7XG4gICAgICAgIHBhcmFtLmRlc3RfbGVnYWN5ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgLy8gVmVyc2lvbiAwLjExXG4gICAgaWYgKCEoJ2NoYXJfZm9ybScgaW4gcGFyYW0pKSB7XG4gICAgICAgIHBhcmFtLmNoYXJfZm9ybSA9IChyZWdpb24gPT4ge3N3aXRjaCAocmVnaW9uKSB7XG4gICAgICAgICAgICBjYXNlICdLUic6IHJldHVybiAndHJhZCc7XG4gICAgICAgICAgICBjYXNlICdUQyc6IHJldHVybiAndHcnO1xuICAgICAgICAgICAgY2FzZSAnU0MnOiByZXR1cm4gJ2NuJztcbiAgICAgICAgICAgIGNhc2UgJ0pQJzogcmV0dXJuICdqcCc7XG4gICAgICAgIH19KShwYXJhbS5mb250WkhbMF0uc3BsaXQoJyAnKS5yZXZlcnNlKClbMF0pXG4gICAgfVxuICAgIGRlbGV0ZSBwYXJhbS5mb250Wkg7XG4gICAgZGVsZXRlIHBhcmFtLmZvbnRFTjtcbiAgICBkZWxldGUgcGFyYW0ud2VpZ2h0Wkg7XG4gICAgZGVsZXRlIHBhcmFtLndlaWdodEVOO1xuXG4gICAgLy8gVmVyc2lvbiAwLjEyXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcbiAgICAgICAgLy8gaWYgKFsnbGluZXN0YXJ0JywgJ2xpbmVlbmQnXS5pbmNsdWRlcyhzdG5JZCkpIHtjb250aW51ZTt9XG4gICAgICAgIGlmICgndHJhbnNmZXInIGluIHN0bkluZm8pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uaW50ZXJjaGFuZ2U7XG4gICAgICAgICAgICBzd2l0Y2ggKHN0bkluZm8uY2hhbmdlX3R5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbnQyJzpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tzdG5JbmZvLnRyYW5zZmVyWzFdXV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ludDNfbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW50M19yJzpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW3N0bkluZm8udHJhbnNmZXIuc2xpY2UoMSwzKV07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ29zaTExX3BsJzpcbiAgICAgICAgICAgICAgICBjYXNlICdvc2kxMV9wcic6XG4gICAgICAgICAgICAgICAgY2FzZSAnb3NpMTFfdWwnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ29zaTExX3VyJzpcbiAgICAgICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tdLCBzdG5JbmZvLnRyYW5zZmVyLnNsaWNlKDAsMildO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdvc2kxMl9wbCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnb3NpMTJfcHInOlxuICAgICAgICAgICAgICAgIGNhc2UgJ29zaTEyX3VsJzpcbiAgICAgICAgICAgICAgICBjYXNlICdvc2kxMl91cic6XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5pbnRlcmNoYW5nZSA9IFtbXSwgc3RuSW5mby50cmFuc2Zlcl07XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBwYXJhbS5zdG5fbGlzdFtzdG5JZF0udHJhbnNmZXI7XG4gICAgICAgIFxuICAgICAgICBpZiAoISgnYnJhbmNoJyBpbiBzdG5JbmZvKSkge1xuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaCA9IHsgbGVmdDpbXSwgcmlnaHQ6W10gfTtcbiAgICAgICAgICAgIGlmIChzdG5JbmZvLmNoaWxkcmVuLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5yaWdodCA9IFsndGhyb3VnaCcsIHN0bkluZm8uY2hpbGRyZW5bMV1dO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwYXJhbS5zdG5fbGlzdFtzdG5JZF0uYnJhbmNoLnJpZ2h0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RuSW5mby5wYXJlbnRzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gWyd0aHJvdWdoJywgc3RuSW5mby5wYXJlbnRzWzFdXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmJyYW5jaC5sZWZ0ID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIDEuMlxuICAgIGlmICghKCdwc2RfbnVtJyBpbiBwYXJhbSkpIHtcbiAgICAgICAgcGFyYW0ucHNkX251bSA9IDE7XG4gICAgfVxuICAgIGlmICghKCdsaW5lX251bScgaW4gcGFyYW0pKSB7XG4gICAgICAgIHBhcmFtLmxpbmVfbnVtID0gMTtcbiAgICB9XG4gICAgZGVsZXRlIHBhcmFtLnN0eWxlO1xuICAgIGlmIChwYXJhbS50aGVtZS5sZW5ndGggPT0gMykge1xuICAgICAgICBwYXJhbS50aGVtZS5wdXNoKCcjZmZmJyk7XG4gICAgfVxuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XG4gICAgICAgIGlmIChbJ2xpbmVzdGFydCcsICdsaW5lZW5kJ10uaW5jbHVkZXMoc3RuSWQpKSB7Y29udGludWU7fVxuICAgICAgICBpZiAoISgnbnVtJyBpbiBzdG5JbmZvKSkge1xuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLm51bSA9ICcwMCc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIDEuM1xuICAgIGZvciAobGV0IFtzdG5JZCwgc3RuSW5mb10gb2YgT2JqZWN0LmVudHJpZXMocGFyYW0uc3RuX2xpc3QpKSB7XG4gICAgICAgIGlmICgnaW50ZXJjaGFuZ2UnIGluIHN0bkluZm8pIHtcbiAgICAgICAgICAgIHN0bkluZm8uaW50ZXJjaGFuZ2UubWFwKGFyciA9PiB7XG4gICAgICAgICAgICAgICAgYXJyLm1hcChpbnRJbmZvID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGludEluZm8ubGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGludEluZm8uc3BsaWNlKDMsMCwnI2ZmZicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZlcnNpb24gMS40XG4gICAgaWYgKCEoJ2luZm9fcGFuZWxfdHlwZScgaW4gcGFyYW0pKSB7XG4gICAgICAgIHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9ICdwYW5hc29uaWMnO1xuICAgIH1cblxuICAgIC8vIFZlcnNpb24gMS41XG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfcCcpIHtcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGFuZ2VfdHlwZSA9ICdvc2kyMl9wcic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0bkluZm8uY2hhbmdlX3R5cGUgPT09ICdvc2kyMl9lbmRfdScpIHtcbiAgICAgICAgICAgIHBhcmFtLnN0bl9saXN0W3N0bklkXS5jaGFuZ2VfdHlwZSA9ICdvc2kyMl91cic7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgIC8vIFZlcnNpb24gMi4xXG4gICAgZm9yIChsZXQgW3N0bklkLCBzdG5JbmZvXSBvZiBPYmplY3QuZW50cmllcyhwYXJhbS5zdG5fbGlzdCkpIHtcbiAgICAgICAgaWYgKCEoJ2ludGVyY2hhbmdlJyBpbiBzdG5JbmZvKSkge1xuICAgICAgICAgICAgcGFyYW0uc3RuX2xpc3Rbc3RuSWRdLmludGVyY2hhbmdlID0gW1tdXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFZlcnNpb24gMi4yXG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzEnKSB7XG4gICAgICAgIHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9ICdnejI4JztcbiAgICB9XG5cbiAgICAvLyBWZXJzaW9uIDIuM1xuICAgIGlmIChwYXJhbS5pbmZvX3BhbmVsX3R5cGUgPT09ICdwYW5hc29uaWMnKSB7XG4gICAgICAgIHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9ICdnejI4JztcbiAgICB9XG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzInKSB7XG4gICAgICAgIHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9ICdnemdmJztcbiAgICB9XG4gICAgaWYgKHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9PT0gJ2d6XzMnKSB7XG4gICAgICAgIHBhcmFtLmluZm9fcGFuZWxfdHlwZSA9ICdnejMnO1xuICAgIH1cbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3gnIGluIHBhcmFtKSkge1xuICAgICAgICBwYXJhbS5kaXJlY3Rpb25fZ3pfeCA9IDUwO1xuICAgIH1cbiAgICBpZiAoISgnZGlyZWN0aW9uX2d6X3knIGluIHBhcmFtKSkge1xuICAgICAgICBwYXJhbS5kaXJlY3Rpb25fZ3pfeSA9IDcwO1xuICAgIH1cbiAgICBwdXRQYXJhbXMocGFyYW0pO1xufVxuXG5cbmNvbnN0IGxhbmdGYWxsYmFjayA9IChsYW5nOiBzdHJpbmcpID0+IHtcbiAgICBzd2l0Y2ggKGxhbmcpIHtcbiAgICAgICAgY2FzZSAnZW4nOiByZXR1cm4gWydlbiddO1xuICAgICAgICBjYXNlICd6aC1IYW5zJzogcmV0dXJuIFsnemgtSGFucycsICd6aCcsICdlbiddO1xuICAgICAgICBjYXNlICd6aC1ISyc6IHJldHVybiBbJ3poLUhLJywgJ3poLUhhbnQnLCAnemgnLCAnZW4nXTtcbiAgICAgICAgZGVmYXVsdDogcmV0dXJuIFtsYW5nLCAnZW4nXTtcbiAgICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRUcmFuc1RleHQgPSAob2JqOiB7W2luZGV4OiBzdHJpbmddOiBzdHJpbmd9LCBsYW5nOiBzdHJpbmcpID0+IHtcbiAgICByZXR1cm4gb2JqW2xhbmdGYWxsYmFjayhsYW5nKS5maW5kKGwgPT4gb2JqW2xdKV07XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy5kaWFsb2c7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuaWNvbkJ1dHRvbjsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy5saXN0OyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLnJpcHBsZTsiLCJtb2R1bGUuZXhwb3J0cyA9IG1kYy5zZWxlY3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMuc2xpZGVyOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLnN3aXRjaENvbnRyb2w7IiwibW9kdWxlLmV4cG9ydHMgPSBtZGMudGFiQmFyOyIsIm1vZHVsZS5leHBvcnRzID0gbWRjLnRleHRGaWVsZDsiLCJtb2R1bGUuZXhwb3J0cyA9IGpRdWVyeTsiXSwic291cmNlUm9vdCI6IiJ9