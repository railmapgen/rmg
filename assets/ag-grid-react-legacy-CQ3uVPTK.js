System.register(["./react-legacy-jWjm0Xez.js","./ag-grid-community-legacy-DGJvB5D8.js"],(function(e,t){"use strict";var r,s,n,a,o,l,c,u,i,d,p,h,m,f,g,C,y,v,w,S,R,E,b,k,M,P,F,x,A,D,B,I,O,G,T,N,U,W,L,H;return{setters:[e=>{r=e.a,s=e.d,n=e.b,a=e.e},e=>{o=e._,l=e.a,c=e.G,u=e.b,i=e.V,d=e.B,p=e.c,h=e.d,m=e.e,f=e.f,g=e.g,C=e.A,y=e.h,v=e.i,w=e.j,S=e.C,R=e.k,E=e.T,b=e.l,k=e.m,M=e.F,P=e.n,F=e.o,x=e.p,A=e.H,D=e.q,B=e.r,I=e.s,O=e.t,G=e.R,T=e.E,N=e.u,U=e.v,W=e.w,L=e.x,H=e.y}],execute:function(){var t=s.createContext({}),j=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();let a,o,l=!1;return n.then((e=>{l?t.destroyBean(e):(a=e,o=a.getGui(),r.appendChild(o),V(s,a))})),()=>{l=!0,a&&(o?.parentElement?.removeChild(o),t.destroyBean(a),s&&V(s,void 0))}},V=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},$=(...e)=>e.filter((e=>null!=e&&""!==e)).join(" "),q=class e{constructor(...e){this.classesMap={},e.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new e;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},K=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),_=s.version?.split(".")[0],z="16"===_||"17"===_,Q=!1,Y=(e,t)=>{z||!e||Q?t():a.flushSync(t)};function Z(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const s=[],n=[],a=new Map,o=new Map;for(let l=0;l<t.length;l++){const e=t[l];o.set(e.instanceId,e)}for(let l=0;l<e.length;l++){const t=e[l];a.set(t.instanceId,t),o.has(t.instanceId)&&s.push(t)}for(let l=0;l<t.length;l++){const e=t[l],r=e.instanceId;a.has(r)||n.push(e)}return s.length===e.length&&0===n.length?e:0===s.length&&n.length===t.length?t:0===s.length?n:0===n.length?s:[...s,...n]}var J=r.forwardRef(((e,n)=>{const{registry:a,context:o}=r.useContext(t),l=r.useRef(null),c=r.useRef(null),u=r.useRef(null),i=r.useRef(null),d=r.useRef(null),p=r.useRef(),[h,m]=r.useState(),[f,C]=r.useState(),[y,v]=r.useState(),[w,S]=r.useState((()=>new q)),[R,E]=r.useState((()=>new q("ag-hidden"))),[b,k]=r.useState((()=>new q("ag-hidden"))),[M,P]=r.useState((()=>new q("ag-invisible")));r.useImperativeHandle(n,(()=>({refresh:()=>!1}))),r.useLayoutEffect((()=>j(h,o,c.current)),[h]);const F=r.useCallback((t=>{if(l.current=t,!t)return void(p.current=o.destroyBean(p.current));const r={setInnerRenderer:(e,t)=>{m(e),v(t)},setChildCount:e=>C(e),addOrRemoveCssClass:(e,t)=>S((r=>r.setClass(e,t))),setContractedDisplayed:e=>k((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>E((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>P((t=>t.setClass("ag-invisible",!e))),setCheckboxSpacing:e=>P((t=>t.setClass("ag-group-checkbox-spacing",e)))},s=a.createDynamicBean("groupCellRendererCtrl",!0);s&&(p.current=o.createBean(s),p.current.init(r,t,u.current,i.current,d.current,J,e))}),[]),x=r.useMemo((()=>`ag-cell-wrapper ${w.toString()}`),[w]),A=r.useMemo((()=>`ag-group-expanded ${R.toString()}`),[R]),D=r.useMemo((()=>`ag-group-contracted ${b.toString()}`),[b]),B=r.useMemo((()=>`ag-group-checkbox ${M.toString()}`),[M]),I=h&&h.componentFromFramework,O=I?h.componentClass:void 0,G=null==h&&null!=y,T=g(y,!0);return s.createElement("span",{className:x,ref:F,...e.colDef?{}:{role:p.current?.getCellAriaRole()}},s.createElement("span",{className:A,ref:i}),s.createElement("span",{className:D,ref:d}),s.createElement("span",{className:B,ref:u}),s.createElement("span",{className:"ag-group-value",ref:c},G&&s.createElement(s.Fragment,null,T),I&&s.createElement(O,{...h.params})),s.createElement("span",{className:"ag-group-child-count"},f))})),X=J,ee=r.createContext({setMethods:()=>{}}),te=r.memo((e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:a,setMethods:o}=e,[{key:l,...c},u]=r.useState(t);return r.useEffect((()=>{n((e=>u(e)))}),[]),s.createElement(ee.Provider,{value:{setMethods:o}},s.createElement(a,{key:l,...c}))})),re=0;function se(){return"agPortalKey_"+ ++re}var ne=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=se(),this.portalKey=se(),this.instanceCreated=this.isStatelessComponent()?C.resolve(!1):new C((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout((()=>this.callMethod(e,t)));const s=r[e];return s?s.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new C((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=n.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return r.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function ae(e,t,r){e.forEach((e=>{const s=t[e];s&&(r[e]=s)}))}var oe=class extends ne{constructor(){super(...arguments),this.awaitUpdateCallback=new C((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=te}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new C((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ae(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new C((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},le=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ce=class extends oe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ue=class extends oe{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},ie=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new C((e=>{this.resolveSetMethodsCallback=e}))}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;t?t.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then((()=>this.providedMethods?.afterGuiAttached?.(e)))}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function de(e,t){e.parentFilterInstance((r=>{(r.setModel(t)||C.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var pe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ae(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),de(this.floatingFilterParams,e)}},he=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),de(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},me=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},fe=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},ge=class extends oe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Ce=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},ye=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ve=class extends oe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function we(){m(231)}var Se=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,r)}))}}},Re=r.memo((({ctrl:e})=>{const n=e.isAlive(),{context:a}=r.useContext(t),o=n?e.column.getColId():void 0,[l,c]=r.useState(),[u,i]=r.useState(),d=r.useRef(),p=r.useRef(null),h=r.useRef(null),m=r.useRef(null),f=r.useRef(),g=r.useRef();n&&!g.current&&(g.current=new S((()=>p.current)));const C=r.useCallback((t=>{if(p.current=t,d.current=t?a.createBean(new T):a.destroyBean(d.current),!t||!e.isAlive())return;const r={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(e,t)=>g.current.addOrRemoveCssClass(e,t),setUserStyles:e=>i(e),setAriaSort:e=>{p.current&&(e?N(p.current,e):U(p.current))},setUserCompDetails:e=>c(e),getUserCompInstance:()=>f.current||void 0};e.setComp(r,t,h.current,m.current,d.current);const s=e.getSelectAllGui();s&&(h.current?.insertAdjacentElement("afterend",s),d.current.addDestroyFunc((()=>s.remove())))}),[]);r.useLayoutEffect((()=>j(l,a,m.current,f)),[l]),r.useEffect((()=>{e.setDragSource(p.current)}),[l]);const y=r.useMemo((()=>!(!l?.componentFromFramework||!K(l.componentClass))),[l]),v=l&&l.componentFromFramework,w=l&&l.componentClass;return s.createElement("div",{ref:C,style:u,className:"ag-header-cell","col-id":o,role:"columnheader"},s.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),s.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&y&&s.createElement(w,{...l.params}),v&&!y&&s.createElement(w,{...l.params,ref:f})))})),Ee=r.memo((({ctrl:e})=>{const{context:n,gos:a}=r.useContext(t),[o,l]=r.useState(),[c,u]=r.useState((()=>new q("ag-header-cell","ag-floating-filter"))),[i,d]=r.useState((()=>new q)),[p,h]=r.useState((()=>new q("ag-floating-filter-button","ag-hidden"))),[m,f]=r.useState("false"),[g,y]=r.useState(),[,v]=r.useState(1),w=r.useRef(),S=r.useRef(null),R=r.useRef(null),E=r.useRef(null),b=r.useRef(null),k=r.useRef(),M=r.useRef(),P=e=>{null!=e&&k.current&&k.current(e)},F=r.useCallback((t=>{if(S.current=t,w.current=t?n.createBean(new T):n.destroyBean(w.current),!t)return;M.current=new C((e=>{k.current=e}));const r={addOrRemoveCssClass:(e,t)=>u((r=>r.setClass(e,t))),setUserStyles:e=>l(e),addOrRemoveBodyCssClass:(e,t)=>d((r=>r.setClass(e,t))),setButtonWrapperDisplayed:e=>{h((t=>t.setClass("ag-hidden",!e))),f(e?"false":"true")},setWidth:e=>{S.current&&(S.current.style.width=e)},setCompDetails:e=>y(e),getFloatingFilterComp:()=>M.current?M.current:null,setMenuIcon:e=>b.current?.appendChild(e)};e.setComp(r,t,b.current,R.current,w.current)}),[]);r.useLayoutEffect((()=>j(g,n,R.current,P)),[g]);const x=r.useMemo((()=>c.toString()),[c]),A=r.useMemo((()=>i.toString()),[i]),D=r.useMemo((()=>p.toString()),[p]),B=r.useMemo((()=>!!(g&&g.componentFromFramework&&K(g.componentClass))),[g]),I=r.useMemo((()=>a.get("reactiveCustomComponents")),[]),O=r.useMemo((()=>{if(g){if(I){const e=new pe(g.params,(()=>v((e=>e+1))));return P(e),e}g.componentFromFramework&&we()}}),[g]),G=O?.getProps(),N=g&&g.componentFromFramework,U=g&&g.componentClass;return s.createElement("div",{ref:F,style:o,className:x,role:"gridcell"},s.createElement("div",{ref:R,className:A,role:"presentation"},N&&!I&&s.createElement(U,{...g.params,ref:B?()=>{}:P}),N&&I&&s.createElement(ee.Provider,{value:{setMethods:e=>O.setMethods(e)}},s.createElement(U,{...G}))),s.createElement("div",{ref:E,"aria-hidden":m,className:D,role:"presentation"},s.createElement("button",{ref:b,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),be=r.memo((({ctrl:e})=>{const{context:n}=r.useContext(t),[a,o]=r.useState(),[l,c]=r.useState((()=>new q)),[u,i]=r.useState((()=>new q)),[d,p]=r.useState("false"),[h,m]=r.useState(),[f,g]=r.useState(),C=r.useMemo((()=>e.column.getUniqueId()),[]),y=r.useRef(),v=r.useRef(null),w=r.useRef(null),S=r.useRef(null),R=r.useRef(),E=r.useCallback((t=>{if(v.current=t,y.current=t?n.createBean(new T):n.destroyBean(y.current),!t)return;const r={setWidth:e=>{v.current&&(v.current.style.width=e)},addOrRemoveCssClass:(e,t)=>c((r=>r.setClass(e,t))),setUserStyles:e=>o(e),setHeaderWrapperHidden:e=>{const t=S.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=S.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>g(e),setResizableDisplayed:e=>{i((t=>t.setClass("ag-hidden",!e))),p(e?"false":"true")},setAriaExpanded:e=>m(e),getUserCompInstance:()=>R.current||void 0};e.setComp(r,t,w.current,S.current,y.current)}),[]);r.useLayoutEffect((()=>j(f,n,S.current)),[f]),r.useEffect((()=>{v.current&&e.setDragSource(v.current)}),[f]);const b=r.useMemo((()=>!(!f?.componentFromFramework||!K(f.componentClass))),[f]),k=r.useMemo((()=>"ag-header-group-cell "+l.toString()),[l]),M=r.useMemo((()=>"ag-header-cell-resize "+u.toString()),[u]),P=f&&f.componentFromFramework,F=f&&f.componentClass;return s.createElement("div",{ref:E,style:a,className:k,"col-id":C,role:"columnheader","aria-expanded":h},s.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},P&&b&&s.createElement(F,{...f.params}),P&&!b&&s.createElement(F,{...f.params,ref:R})),s.createElement("div",{ref:w,"aria-hidden":d,className:M}))})),ke=r.memo((({ctrl:e})=>{const{context:n}=r.useContext(t),{topOffset:a,rowHeight:o}=r.useMemo((()=>e.getTopAndHeight()),[]),l=e.getAriaRowIndex(),c=e.headerRowClass,[u,i]=r.useState((()=>o+"px")),[d,p]=r.useState((()=>a+"px")),h=r.useRef(null),m=r.useRef(null),[f,g]=r.useState((()=>e.getUpdatedHeaderCtrls())),C=r.useRef(),y=r.useRef(null),v=r.useCallback((t=>{if(y.current=t,C.current=t?n.createBean(new T):n.destroyBean(C.current),!t)return;const r={setHeight:e=>i(e),setTop:e=>p(e),setHeaderCtrls:(e,t,r)=>{m.current=h.current,h.current=e;const s=Z(m.current,e,t);s!==m.current&&Y(r,(()=>g(s)))},setWidth:e=>{y.current&&(y.current.style.width=e)}};e.setComp(r,C.current,!1)}),[]),w=r.useMemo((()=>({height:u,top:d})),[u,d]),S=r.useCallback((t=>{switch(e.type){case"group":return s.createElement(be,{ctrl:t,key:t.instanceId});case"filter":return s.createElement(Ee,{ctrl:t,key:t.instanceId});default:return s.createElement(Re,{ctrl:t,key:t.instanceId})}}),[]);return s.createElement("div",{ref:v,className:c,role:"row",style:w,"aria-rowindex":l},f.map(S))})),Me=r.memo((({pinned:e})=>{const[n,a]=r.useState(!0),[o,l]=r.useState([]),{context:c}=r.useContext(t),u=r.useRef(null),i=r.useRef(null),d=r.useRef(),p="left"===e,h="right"===e,m=!p&&!h,f=r.useCallback((t=>{if(u.current=t,d.current=t?c.createBean(new A(e)):c.destroyBean(d.current),!t)return;const r={setDisplayed:a,setCtrls:e=>l(e),setCenterWidth:e=>{i.current&&(i.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};d.current.setComp(r,u.current)}),[]),g=n?"":"ag-hidden",C=()=>o.map((e=>s.createElement(ke,{ctrl:e,key:e.instanceId})));return s.createElement(s.Fragment,null,p&&s.createElement("div",{ref:f,className:"ag-pinned-left-header "+g,"aria-hidden":!n,role:"rowgroup"},C()),h&&s.createElement("div",{ref:f,className:"ag-pinned-right-header "+g,"aria-hidden":!n,role:"rowgroup"},C()),m&&s.createElement("div",{ref:f,className:"ag-header-viewport "+g,role:"presentation",tabIndex:-1},s.createElement("div",{ref:i,className:"ag-header-container",role:"rowgroup"},C())))})),Pe=r.memo((()=>{const[e,n]=r.useState((()=>new q)),[a,o]=r.useState(),{context:l}=r.useContext(t),c=r.useRef(null),u=r.useRef(),i=r.useCallback((e=>{if(c.current=e,u.current=e?l.createBean(new x):l.destroyBean(u.current),!e)return;const t={addOrRemoveCssClass:(e,t)=>n((r=>r.setClass(e,t))),setHeightAndMinHeight:e=>o(e)};u.current.setComp(t,e,e)}),[]),d=r.useMemo((()=>"ag-header "+e.toString()),[e]),p=r.useMemo((()=>({height:a,minHeight:a})),[a]);return s.createElement("div",{ref:i,className:d,style:p,role:"presentation"},s.createElement(Me,{pinned:"left"}),s.createElement(Me,{pinned:null}),s.createElement(Me,{pinned:"right"}))})),Fe=(e,t)=>{r.useEffect((()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const s=document.createComment(e);return t.insertBefore(s,r),()=>{t.removeChild(s)}}}}),[e])},xe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new C((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ae(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Ae=r.memo((e=>{const[a,o]=r.useState(),l=r.useContext(t),{context:c,popupSvc:u,localeSvc:i,gos:d,editSvc:p}=l,{editDetails:h,cellCtrl:m,eParentCell:f}=e;return(e=>{const t=r.useRef(e),s=r.useRef(),n=r.useRef(!1),a=r.useRef(!1),[,o]=r.useState(0);n.current&&(a.current=!0),r.useEffect((()=>(n.current||(s.current=t.current(),n.current=!0),o((e=>e+1)),()=>{a.current&&s.current?.()})),[])})((()=>{const{compDetails:t}=h,r=d.get("stopEditingWhenCellsLoseFocus"),s=c.createBean(p.createPopupEditorWrapper(t.params)),n=s.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&n.appendChild(t)}const{column:a,rowNode:l}=m,g={column:a,rowNode:l,type:"popupCellEditor",eventSource:f,ePopup:n,position:h.popupPosition,keepWithinBounds:!0},C=u?.positionPopupByComponent.bind(u,g),y=H(i),v=u?.addPopup({modal:r,eChild:n,closeOnEsc:!0,closedCallback:()=>{m.onPopupEditorClosed()},anchorToElement:f,positionCallback:C,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),w=v?v.hideFunc:void 0;return o(s),e.jsChildComp?.afterGuiAttached?.(),()=>{w?.(),c.destroyBean(s)}})),r.useLayoutEffect((()=>()=>{m.isCellFocused()&&a?.getGui().contains(L(l))&&f.focus({preventScroll:!0})}),[a]),s.createElement(s.Fragment,null,a&&e.wrappedContent&&n.createPortal(e.wrappedContent,a.getGui()))})),De=(e,s,n,a,o,l)=>{const{context:c}=r.useContext(t),u=r.useCallback((()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),o.current=void 0}),[]);r.useEffect((()=>{const t=null!=e,r=e?.compDetails&&!e.compDetails.componentFromFramework;if(!t||!r||s&&null==n)return void u();const a=e.compDetails;if(o.current){const t=o.current,r=!(null==t.refresh||0!=e.force)&&t.refresh(a.params);if(!0===r||void 0===r)return;u()}a.newAgStackInstance().then((e=>{if(!e)return;const t=e.getGui();t&&((s?n:l.current).appendChild(t),o.current=e)}))}),[e,s,a]),r.useEffect((()=>u),[])},Be=(e,t,r)=>{const n=e.compProxy;return s.createElement(s.Fragment,null,n?((e,t,r)=>{const{compProxy:n}=e;r(n);const a=n.getProps(),o=K(t);return s.createElement(ee.Provider,{value:{setMethods:e=>n.setMethods(e)}},o?s.createElement(t,{...a}):s.createElement(t,{...a,ref:e=>n.setRef(e)}))})(e,t,r):s.createElement(t,{...e.compDetails.params,ref:r}))},Ie=r.memo((({cellCtrl:e,printLayout:n,editingRow:a})=>{const o=r.useContext(t),{context:l}=o,{colIdSanitised:c,instanceId:u}=e,i=r.useRef(),[d,p]=r.useState((()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1})),[h,m]=r.useState(),[f,g]=r.useState(1),[C,y]=r.useState(),[v,w]=r.useState(!1),[R,E]=r.useState(!1),[b,k]=r.useState(!1),[M,P]=r.useState(),F=r.useMemo((()=>e.isForceWrapper()),[e]),x=r.useMemo((()=>e.getCellAriaRole()),[e]),A=r.useRef(null),D=r.useRef(null),B=r.useRef(null),I=r.useRef(),O=r.useRef(),G=r.useRef(),N=r.useRef([]),U=r.useRef(),[L,H]=r.useState(0),j=r.useCallback((e=>{U.current=e,H((e=>e+1))}),[]),V=F||null!=d&&(v||b||R),$=r.useCallback((t=>{if(O.current=t,t){const r=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout((()=>{r?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()}))}}),[e]),q=r.useRef();q.current||(q.current=new S((()=>A.current))),De(d,V,U.current,L,I,A);const _=r.useRef();r.useLayoutEffect((()=>{const e=_.current,t=d;if(_.current=d,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const r=e.compDetails,s=t.compDetails;r.componentClass==s.componentClass&&null!=B.current?.refresh&&1!=B.current.refresh(s.params)&&g((e=>e+1))}),[d]),r.useLayoutEffect((()=>{if(!h||h.compDetails.componentFromFramework)return;const e=h.compDetails,t=!0===h.popup,r=e.newAgStackInstance();return r.then((e=>{if(!e)return;const r=e.getGui();if($(e),!t){const t=(F?G:A).current;t?.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}P(e)})),()=>{r.then((e=>{const t=e.getGui();l.destroyBean(e),$(void 0),P(void 0),t?.parentElement?.removeChild(t)}))}}),[h]);const z=r.useCallback((t=>{if(G.current=t,!t)return N.current.forEach((e=>e())),void(N.current=[]);const r=e=>{if(e){const r=e.getGui();t.insertAdjacentElement("afterbegin",r),N.current.push((()=>{l.destroyBean(e),W(r)}))}return e};v&&r(e.createSelectionCheckbox()),b&&r(e.createDndSource()),R&&r(e.createRowDragComp())}),[e,l,b,R,v]),Q=r.useCallback((()=>{const t=!e.isCellSpanning()||D.current,r=A.current;if(i.current=r?l.createBean(new T):l.destroyBean(i.current),!r||!t||!e)return;const s={addOrRemoveCssClass:(e,t)=>q.current.addOrRemoveCssClass(e,t),setUserStyles:e=>y(e),getFocusableElement:()=>A.current,setIncludeSelection:e=>w(e),setIncludeRowDrag:e=>E(e),setIncludeDndSource:e=>k(e),getCellEditor:()=>O.current||null,getCellRenderer:()=>B.current??I.current,getParentOfValue:()=>U.current??G.current??A.current,setRenderDetails:(e,t,r)=>{p((s=>s?.compDetails!==e||s?.value!==t||s?.force!==r?{value:t,compDetails:e,force:r}:s))},setEditDetails:(t,r,n,a)=>{if(t){let e;a?e=new xe(t.params,(()=>g((e=>e+1)))):t.componentFromFramework&&we(),m({compDetails:t,popup:r,popupPosition:n,compProxy:e}),r||p(void 0)}else e.hasBrowserFocus()&&s.getFocusableElement().focus({preventScroll:!0}),m((e=>{e?.compProxy&&(O.current=void 0)}))}},o=G.current||void 0;e.setComp(s,r,D.current??void 0,o,n,a,i.current)}),[]),Y=r.useCallback((e=>{A.current=e,Q()}),[]),Z=r.useCallback((e=>{D.current=e,Q()}),[]),J=r.useMemo((()=>!(!d?.compDetails?.componentFromFramework||!K(d.compDetails.componentClass))),[d]);r.useLayoutEffect((()=>{A.current&&(q.current.addOrRemoveCssClass("ag-cell-value",!V),q.current.addOrRemoveCssClass("ag-cell-inline-editing",!!h&&!h.popup),q.current.addOrRemoveCssClass("ag-cell-popup-editing",!!h&&!!h.popup),q.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!h||!!h.popup),e.setInlineEditingCss())}));const X=()=>s.createElement(s.Fragment,null,null!=d&&((e,t,r,n,a,o,l)=>{const{compDetails:c,value:u}=e,i=!c,d=c&&c.componentFromFramework,p=c&&c.componentClass,h=u?.toString?u.toString():u,m=()=>s.createElement(s.Fragment,null,i&&s.createElement(s.Fragment,null,h),d&&!o&&s.createElement(p,{...c.params,key:t,ref:n}),d&&o&&s.createElement(p,{...c.params,key:t}));return s.createElement(s.Fragment,null,a?s.createElement("span",{role:"presentation",id:`cell-${r}`,className:"ag-cell-value",ref:l},m()):m())})(d,f,u,B,V,J,j),null!=h&&((e,t,r,n,a)=>{const o=e.compDetails,l=o.componentClass,c=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,i=!o.componentFromFramework&&e.popup;return s.createElement(s.Fragment,null,c&&Be(e,l,t),u&&s.createElement(Ae,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Be(e,l,t)}),i&&a&&s.createElement(Ae,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:a}))})(h,$,A.current,e,M)),ee=()=>s.createElement("div",{ref:Y,style:C,role:x,"col-id":c},V?s.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},X()):X());return e.isCellSpanning()?s.createElement("div",{ref:Z,className:"ag-spanned-cell-wrapper",role:"presentation"},ee()):ee()})),Oe=r.memo((({rowCtrl:e,containerType:n})=>{const{context:a,gos:o}=r.useContext(t),l=r.useRef(),c=r.useRef(e.getDomOrder()),u=e.isFullWidth(),i=e.rowNode.displayed,[d,p]=r.useState((()=>i?e.rowNode.getRowIndexString():null)),[h,m]=r.useState((()=>e.rowId)),[f,g]=r.useState((()=>e.businessKey)),[C,y]=r.useState((()=>e.rowStyles)),v=r.useRef(null),w=r.useRef(null),[R,E]=r.useState((()=>null)),[b,k]=r.useState(),[M,P]=r.useState((()=>i?e.getInitialRowTop(n):void 0)),[F,x]=r.useState((()=>i?e.getInitialTransform(n):void 0)),A=r.useRef(null),D=r.useRef(),B=r.useRef(!1),[I,O]=r.useState(0);r.useEffect((()=>{if(B.current||!b||I>10)return;const t=A.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),B.current=!0):O((e=>e+1))}),[b,I]);const G=r.useRef();G.current||(G.current=new S((()=>A.current)));const N=r.useCallback((t=>{if(A.current=t,l.current=t?a.createBean(new T):a.destroyBean(l.current),!t)return void e.unsetComp(n);if(!e.isAlive())return;const r={setTop:P,setTransform:x,addOrRemoveCssClass:(e,t)=>G.current.addOrRemoveCssClass(e,t),setDomOrder:e=>c.current=e,setRowIndex:p,setRowId:m,setRowBusinessKey:g,setUserStyles:y,setCellCtrls:(e,t)=>{w.current=v.current,v.current=e;const r=Z(w.current,e,c.current);r!==w.current&&Y(t,(()=>E(r)))},showFullWidth:e=>k(e),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:e=>V.current?(k((t=>({...t,params:e()}))),!0):!(!D.current||!D.current.refresh)&&D.current.refresh(e())};e.setComp(r,t,n,l.current)}),[]);r.useLayoutEffect((()=>j(b,a,A.current,D)),[b]);const U=r.useMemo((()=>{const e={top:M,transform:F};return Object.assign(e,C),e}),[M,F,C]),W=u&&b?.componentFromFramework,L=!u&&null!=R,H=r.useMemo((()=>!(!b?.componentFromFramework||!K(b.componentClass))),[b]),V=r.useRef(!1);return r.useEffect((()=>{V.current=H&&!!b&&!!o.get("reactiveCustomComponents")}),[H,b]),s.createElement("div",{ref:N,role:"row",style:U,"row-index":d,"row-id":h,"row-business-key":f},L&&R?.map((t=>s.createElement(Ie,{cellCtrl:t,editingRow:e.editing,printLayout:e.printLayout,key:t.instanceId}))),W&&(()=>{const e=b.componentClass;return s.createElement(s.Fragment,null,H?s.createElement(e,{...b.params}):s.createElement(e,{...b.params,ref:D}))})())})),Ge=r.memo((({name:e})=>{const{context:n,gos:a}=r.useContext(t),o=r.useMemo((()=>D(e)),[e]),l=r.useRef(null),c=r.useRef(null),u=r.useRef(null),i=r.useRef([]),d=r.useRef([]),[p,h]=r.useState((()=>[])),m=!!a.get("enableCellSpan")&&!!o.getSpannedRowCtrls,f=r.useRef([]),g=r.useRef([]),[C,y]=r.useState((()=>[])),v=r.useRef(!1),w=r.useRef(),S=r.useMemo((()=>$("ag-viewport",B(e))),[e]),R=r.useMemo((()=>$(I(e))),[e]),E=r.useMemo((()=>$("ag-spanning-container",O(e))),[e]),b="center"===o.type||m;Fe(" AG Row Container "+e+" ",b?l:c);const k=r.useCallback((()=>{const e=!b||null!=l.current,t=null!=c.current,r=!m||null!=u.current;return e&&t&&r}),[]),M=r.useCallback((()=>null==l.current&&null==c.current&&null==u.current),[]),P=r.useCallback((()=>{if(M()&&(w.current=n.destroyBean(w.current)),k()){const t=e=>{const t=Z(d.current,i.current,v.current);t!==d.current&&(d.current=t,Y(e,(()=>h(t))))},r=e=>{const t=Z(g.current,f.current,v.current);t!==g.current&&(g.current=t,Y(e,(()=>y(t))))},s={setHorizontalScroll:e=>{l.current&&(l.current.scrollLeft=e)},setViewportHeight:e=>{l.current&&(l.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:r})=>{const s=!!r&&i.current.length>0&&e.length>0;i.current=e,t(s)},setSpannedRowCtrls:(e,t)=>{const s=!!t&&f.current.length>0&&e.length>0;f.current=e,r(s)},setDomOrder:e=>{v.current!=e&&(v.current=e,t(!1))},setContainerWidth:e=>{c.current&&(c.current.style.width=e)},setOffsetTop:e=>{c.current&&(c.current.style.transform=`translateY(${e})`)}};w.current=n.createBean(new G(e)),w.current.setComp(s,c.current,u.current??void 0,l.current)}}),[k,M]),F=r.useCallback((e=>{c.current=e,P()}),[P]),x=r.useCallback((e=>{u.current=e,P()}),[P]),A=r.useCallback((e=>{l.current=e,P()}),[P]),T=()=>s.createElement("div",{className:R,ref:F,role:"rowgroup"},p.map((e=>s.createElement(Oe,{rowCtrl:e,containerType:o.type,key:e.instanceId}))));return b?s.createElement("div",{className:S,ref:A,role:"presentation"},T(),m&&s.createElement("div",{className:E,ref:x,role:"rowgroup"},C.map((e=>s.createElement(Oe,{rowCtrl:e,containerType:o.type,key:e.instanceId}))))):T()})),Te=r.memo((()=>{const e=r.useContext(t),{context:n,overlays:a}=e,[o,l]=r.useState(""),[c,u]=r.useState(0),[i,d]=r.useState(0),[p,h]=r.useState("0px"),[m,g]=r.useState("0px"),[C,y]=r.useState("100%"),[v,w]=r.useState("0px"),[E,F]=r.useState("0px"),[x,A]=r.useState("100%"),[D,B]=r.useState(!0),[I,O]=r.useState(!0),[G,T]=r.useState(null),[N,U]=r.useState(""),[W,L]=r.useState(null),[H,j]=r.useState("ag-layout-normal"),V=r.useRef();V.current||(V.current=new S((()=>q.current)));const q=r.useRef(null),K=r.useRef(null),_=r.useRef(null),z=r.useRef(null),Q=r.useRef(null),Y=r.useRef(null),Z=r.useRef(null),J=r.useRef([]),X=r.useRef([]);Fe(" AG Grid Body ",q),Fe(" AG Pinned Top ",K),Fe(" AG Sticky Top ",_),Fe(" AG Middle ",Y),Fe(" AG Pinned Bottom ",Z);const ee=r.useCallback((t=>{if(q.current=t,!t)return J.current=n.destroyBeans(J.current),X.current.forEach((e=>e())),void(X.current=[]);if(!n)return;const r=(e,t)=>{e.appendChild(t),X.current.push((()=>e.removeChild(t)))},s=(e,t,s)=>{r(e,document.createComment(s)),r(e,(e=>{const t=n.createBean(new e);return J.current.push(t),t})(t).getGui())};s(t,M," AG Fake Horizontal Scroll ");const o=a?.getOverlayWrapperCompClass();o&&s(t,o," AG Overlay Wrapper "),Q.current&&s(Q.current,P," AG Fake Vertical Scroll ");const c={setRowAnimationCssOnBodyViewport:l,setColumnCount:e=>{q.current&&k(q.current,e)},setRowCount:e=>{q.current&&b(q.current,e)},setTopHeight:u,setBottomHeight:d,setStickyTopHeight:h,setStickyTopTop:g,setStickyTopWidth:y,setTopInvisible:B,setBottomInvisible:O,setColumnMovingCss:(e,t)=>V.current.addOrRemoveCssClass(e,t),updateLayoutClasses:j,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(e,t)=>L(t?e:null),setBodyViewportWidth:e=>{Y.current&&(Y.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(Y.current){const r=f(e,Y.current,t);X.current.push((()=>r()))}},setStickyBottomHeight:w,setStickyBottomBottom:F,setStickyBottomWidth:A,setGridRootRole:e=>t.setAttribute("role",e)},i=n.createBean(new R);J.current.push(i),i.setComp(c,t,Y.current,K.current,Z.current,_.current,z.current)}),[]),te=r.useMemo((()=>$("ag-root","ag-unselectable",H)),[H]),re=r.useMemo((()=>$("ag-body-viewport",o,H,G,W)),[o,H,G,W]),se=r.useMemo((()=>$("ag-body",H)),[H]),ne=r.useMemo((()=>$("ag-floating-top",D?"ag-invisible":null,W)),[W,D]),ae=r.useMemo((()=>$("ag-sticky-top",W)),[W]),oe=r.useMemo((()=>$("ag-sticky-bottom","0px"===v?"ag-invisible":null,W)),[W,v]),le=r.useMemo((()=>$("ag-floating-bottom",I?"ag-invisible":null,W)),[W,I]),ce=r.useMemo((()=>({height:c,minHeight:c,overflowY:N})),[c,N]),ue=r.useMemo((()=>({height:p,top:m,width:C})),[p,m,C]),ie=r.useMemo((()=>({height:v,bottom:E,width:x})),[v,E,x]),de=r.useMemo((()=>({height:i,minHeight:i,overflowY:N})),[i,N]),pe=e=>s.createElement(Ge,{name:e,key:`${e}-container`}),he=({section:e,children:t,className:r,style:n})=>s.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(pe));return s.createElement("div",{ref:ee,className:te},s.createElement(Pe,null),he({section:K,className:ne,style:ce,children:["topLeft","topCenter","topRight","topFullWidth"]}),s.createElement("div",{className:se,ref:Q,role:"presentation"},he({section:Y,className:re,children:["left","center","right","fullWidth"]})),he({section:_,className:ae,style:ue,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),he({section:z,className:oe,style:ie,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),he({section:Z,className:le,style:de,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),Ne=r.forwardRef(((e,n)=>{const{children:a,eFocusableElement:o,onTabKeyDown:l,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:i}=e,{context:d}=r.useContext(t),p=r.useRef(null),h=r.useRef(null),m=r.useRef(),f=e=>{const t=null==e?void 0:parseInt(e,10).toString();[p,h].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};r.useImperativeHandle(n,(()=>({forceFocusOutOfContainer(e){m.current?.forceFocusOutOfContainer(e)}})));const g=r.useCallback((()=>{const e=p.current,t=h.current;if(e||t){if(e&&t){const r={setTabIndex:f};m.current=d.createBean(new E({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:o,onTabKeyDown:l,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>c.focusInnerElement(e),isEmpty:i}))}}else m.current=d.destroyBean(m.current)}),[]),C=r.useCallback((e=>{p.current=e,g()}),[g]),y=r.useCallback((e=>{h.current=e,g()}),[g]),v=e=>{const t="top"===e?F.TAB_GUARD_TOP:F.TAB_GUARD_BOTTOM;return s.createElement("div",{className:`${F.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?C:y})};return s.createElement(s.Fragment,null,v("top"),a,v("bottom"))})),Ue=r.memo(Ne),We=r.memo((({context:e})=>{const[n,a]=r.useState(""),[o,l]=r.useState(""),[c,u]=r.useState(null),[i,d]=r.useState(null),[p,h]=r.useState(!1),[m,f]=r.useState(),g=r.useRef(),C=r.useRef(null),v=r.useRef(),[w,S]=r.useState(null),R=r.useRef((()=>{})),E=r.useRef(),b=r.useRef([]),k=r.useCallback((()=>{}),[]),M=r.useMemo((()=>e.isDestroyed()?null:e.getBeans()),[e]);Fe(" AG Grid ",C);const P=r.useCallback((t=>{if(C.current=t,g.current=t?e.createBean(new y):e.destroyBean(g.current),!t||e.isDestroyed())return;const r=g.current;R.current=r.focusInnerElement.bind(r);const s={destroyGridUi:()=>{},setRtlClass:a,forceFocusOutOfContainer:e=>{e||!E.current?.isDisplayed()?v.current?.forceFocusOutOfContainer(e):E.current.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{const e=[],t=C.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),b.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:u,setUserSelect:d};r.setComp(s,t,t),h(!0)}),[]);r.useEffect((()=>{const t=g.current,r=C.current;if(!(m&&M&&t&&w&&r))return;const s=[],{watermarkSelector:n,paginationSelector:a,sideBarSelector:o,statusBarSelector:l,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),u=[];if(c){const t=e.createBean(new c.component),n=t.getGui();r.insertAdjacentElement("afterbegin",n),u.push(n),s.push(t)}if(o){const t=e.createBean(new o.component),r=t.getGui(),n=w.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),s.push(t),b.current.push(t)}const i=t=>{const n=e.createBean(new t),a=n.getGui();return r.insertAdjacentElement("beforeend",a),u.push(a),s.push(n),n};if(l&&i(l.component),a){const e=i(a.component);E.current=e,b.current.push(e)}return n&&i(n.component),()=>{e.destroyBeans(s),u.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[m,w,M]);const F=r.useMemo((()=>$("ag-root-wrapper",n,o)),[n,o]),x=r.useMemo((()=>$("ag-root-wrapper-body","ag-focus-managed",o)),[o]),A=r.useMemo((()=>({userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=c?c:""})),[i,c]),D=r.useCallback((e=>{v.current=e,f(null!==e)}),[]),B=r.useCallback((()=>!g.current?.isFocusable()),[]);return s.createElement("div",{ref:P,className:F,style:A,role:"presentation"},s.createElement("div",{className:x,ref:S,role:"presentation"},p&&w&&M&&s.createElement(t.Provider,{value:M},s.createElement(Ue,{ref:D,eFocusableElement:w,onTabKeyDown:k,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:B},s.createElement(Te,null)))))})),Le=class extends p{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},He=new Set(Object.keys({gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0})),je=e=>{const t=r.useRef(),n=r.useRef(null),a=r.useRef(null),i=r.useRef([]),d=r.useRef([]),p=r.useRef(e),h=r.useRef(),m=r.useRef(),f=r.useRef(!1),[g,C]=r.useState(void 0),[,y]=r.useState(0),v=r.useCallback((r=>{if(n.current=r,!r)return i.current.forEach((e=>e())),void(i.current.length=0);const s=e.modules||[];a.current||(a.current=new Se((()=>y((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),i.current.push((()=>{a.current?.destroy(),a.current=null})));const u=o(e.gridOptions,e,Object.keys(e).filter((e=>!He.has(e)))),p=new qe((()=>{if(f.current){const e=()=>h.current?.shouldQueueUpdates()?void 0:d.current.shift();let t=e();for(;t;)t(),t=e()}}));h.current=p;const g=new Le,v={providedBeanInstances:{frameworkCompWrapper:new Ve(a.current,u.reactiveCustomComponents??l("reactiveCustomComponents")??!0),renderStatus:g},modules:s,frameworkOverrides:p,setThemeOnGridDiv:!0},w=new c;u.gridId??(u.gridId=m.current),t.current=w.create(r,u,(r=>{C(r),r.createBean(g),i.current.push((()=>{r.destroy()})),r.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{i.current.push(e)}},(()=>{if(r.isDestroyed())return;const s=t.current;s&&e.setGridApi?.(s)}))}),(e=>{e.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{i.current.push(e)}},(()=>{d.current.forEach((e=>e())),d.current.length=0,f.current=!0}))}),v),i.current.push((()=>{t.current=void 0})),t.current&&(m.current=t.current.getGridId())}),[]),w=r.useMemo((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),S=r.useCallback((e=>{f.current&&!h.current?.shouldQueueUpdates()?e():d.current.push(e)}),[]);return r.useEffect((()=>{const r=function(e,t){const r={};return Object.keys(t).forEach((s=>{if(He.has(s))return;const n=t[s];e[s]!==n&&(r[s]=n)})),r}(p.current,e);p.current=e,S((()=>{t.current&&u(r,t.current)}))}),[e]),s.createElement("div",{style:w,className:e.className,ref:v},g&&!g.isDestroyed()?s.createElement(We,{context:g}):null,a.current?.getPortals()??null)},Ve=class extends d{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return ie;case"floatingFilterComponent":return he;case"dateComponent":return ce;case"dragAndDropImageComponent":return ue;case"loadingOverlayComponent":return fe;case"noRowsOverlayComponent":return Ce;case"statusPanel":return ye;case"toolPanel":return ve;case"menuItem":return ge;case"cellRenderer":return le;case"innerHeaderComponent":return me}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":we()}const r=!t.cellRenderer&&"toolPanel"!==t.name;return new ne(e,this.parent,t,r)}},$e=r.forwardRef(((e,n)=>{const a=r.useContext(t),{registry:o,context:l,gos:c,rowModel:u}=a,[i,d]=r.useState((()=>new q)),[p,g]=r.useState((()=>new q)),[C,y]=r.useState(),[S,R]=r.useState(),E=r.useRef(),b=r.useRef(null),k=r.useRef(),M=r.useMemo((()=>h(e.api.getGridId(),C?.rowModelType??"clientSide")),[e]),P=r.useMemo((()=>i.toString()+" ag-details-row"),[i]),F=r.useMemo((()=>p.toString()+" ag-details-grid"),[p]);n&&r.useImperativeHandle(n,(()=>({refresh:()=>E.current?.refresh()??!1}))),e.template&&m(230);const x=r.useCallback((t=>{if(b.current=t,!t)return E.current=l.destroyBean(E.current),void k.current?.();const r={addOrRemoveCssClass:(e,t)=>d((r=>r.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>g((r=>r.setClass(e,t))),setDetailGrid:e=>y(e),setRowData:e=>R(e),getGui:()=>b.current},s=o.createDynamicBean("detailCellRendererCtrl",!0);if(s&&(l.createBean(s),s.init(r,e),E.current=s,c.get("detailRowAutoHeight"))){const r=()=>{if(null==b.current)return;const t=b.current.clientHeight;null!=t&&t>0&&setTimeout((()=>{e.node.setRowHeight(t),(v(c)||w(c))&&u.onRowHeightChanged()}),0)};k.current=f(a,t,r),r()}}),[]),A=r.useCallback((e=>{E.current?.registerDetailWithMaster(e)}),[]);return s.createElement("div",{className:P,ref:x},C&&s.createElement(je,{className:F,...C,modules:M,rowData:S,setGridApi:A}))})),qe=class extends i{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:X,agGroupRowRenderer:X,agDetailCellRenderer:$e},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,Q||setTimeout((()=>Q=!1),0),Q=!0,r()):e();var r}}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===_}};e("A",class extends r.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return s.createElement(je,{...this.props,setGridApi:this.setGridApi})}})}}}));
