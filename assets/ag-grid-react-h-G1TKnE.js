import{a as t,d as a,b as He,e as Qe}from"./react-Cf9aS4i4.js";import{_ as Ye,a as Ze,G as Xe,b as et,V as tt,B as st,c as rt,d as nt,e as Ue,f as Ve,g as ot,A as ce,h as at,i as ct,j as lt,C as we,k as ut,T as it,l as dt,m as pt,F as mt,n as ht,o as Ee,p as ft,H as Ct,q as gt,r as Rt,s as yt,t as vt,R as wt,E as pe,u as St,v as bt,w as Et,x as Pt,y as kt}from"./ag-grid-community-D63pyV71.js";var Z=a.createContext({}),fe=(e,s,r,o)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const u=e.newAgStackInstance();let i,c,l=!1;return u.then(d=>{if(l){s.destroyBean(d);return}i=d,c=i.getGui(),r.appendChild(c),Ae(o,i)}),()=>{var d;l=!0,i&&((d=c==null?void 0:c.parentElement)==null||d.removeChild(c),s.destroyBean(i),o&&Ae(o,void 0))}},Ae=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},se=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),re=class _e{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const n=new _e;return n.classesMap={...this.classesMap},n.classesMap[s]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},me=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Ne,ke=(Ne=a.version)==null?void 0:Ne.split(".")[0],Mt=ke==="16"||ke==="17";function Ft(){return ke==="19"}var Re=!1;function Bt(e){return Re||setTimeout(()=>Re=!1,0),Re=!0,e()}var ye=(e,s)=>{!Mt&&e&&!Re?Qe.flushSync(s):s()};function ve(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const o=[],n=[],u=new Map,i=new Map;for(let c=0;c<s.length;c++){const l=s[c];i.set(l.instanceId,l)}for(let c=0;c<e.length;c++){const l=e[c];u.set(l.instanceId,l),i.has(l.instanceId)&&o.push(l)}for(let c=0;c<s.length;c++){const l=s[c],d=l.instanceId;u.has(d)||n.push(l)}return o.length===e.length&&n.length===0?e:o.length===0&&n.length===s.length?s:o.length===0?n:n.length===0?o:[...o,...n]}var Le=t.forwardRef((e,s)=>{var H;const{registry:r,context:o}=t.useContext(Z),n=t.useRef(null),u=t.useRef(null),i=t.useRef(null),c=t.useRef(null),l=t.useRef(null),d=t.useRef(),[p,w]=t.useState(),[y,h]=t.useState(),[b,S]=t.useState(),[v,m]=t.useState(()=>new re),[g,P]=t.useState(()=>new re("ag-hidden")),[R,M]=t.useState(()=>new re("ag-hidden")),[F,k]=t.useState(()=>new re("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>fe(p,o,u.current),[p]);const W=t.useCallback(A=>{if(n.current=A,!A){d.current=o.destroyBean(d.current);return}const I={setInnerRenderer:(O,V)=>{w(O),S(V)},setChildCount:O=>h(O),addOrRemoveCssClass:(O,V)=>m(_=>_.setClass(O,V)),setContractedDisplayed:O=>M(V=>V.setClass("ag-hidden",!O)),setExpandedDisplayed:O=>P(V=>V.setClass("ag-hidden",!O)),setCheckboxVisible:O=>k(V=>V.setClass("ag-invisible",!O)),setCheckboxSpacing:O=>k(V=>V.setClass("ag-group-checkbox-spacing",O))},B=r.createDynamicBean("groupCellRendererCtrl",!0);B&&(d.current=o.createBean(B),d.current.init(I,A,i.current,c.current,l.current,Le,e))},[]),U=t.useMemo(()=>"ag-cell-wrapper ".concat(v.toString()),[v]),T=t.useMemo(()=>"ag-group-expanded ".concat(g.toString()),[g]),D=t.useMemo(()=>"ag-group-contracted ".concat(R.toString()),[R]),E=t.useMemo(()=>"ag-group-checkbox ".concat(F.toString()),[F]),C=p&&p.componentFromFramework,L=C?p.componentClass:void 0,f=p==null&&b!=null,G=ot(b,!0);return a.createElement("span",{className:U,ref:W,...e.colDef?{}:{role:(H=d.current)==null?void 0:H.getCellAriaRole()}},a.createElement("span",{className:T,ref:c}),a.createElement("span",{className:D,ref:l}),a.createElement("span",{className:E,ref:i}),a.createElement("span",{className:"ag-group-value",ref:u},f&&a.createElement(a.Fragment,null,G),C&&a.createElement(L,{...p.params})),a.createElement("span",{className:"ag-group-child-count"},y))}),Ie=Le,Me=t.createContext({setMethods:()=>{}}),xt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:o,setMethods:n}=e,[{key:u,...i},c]=t.useState(s);return t.useEffect(()=>{r(l=>c(l))},[]),a.createElement(Me.Provider,{value:{setMethods:n}},a.createElement(o,{key:u,...i}))},Gt=t.memo(xt),At=0;function Oe(){return"agPortalKey_".concat(++At)}var je=class{constructor(e,s,r,o){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!o,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Oe(),this.portalKey=Oe(),this.instanceCreated=this.isStatelessComponent()?ce.resolve(!1):new ce(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const o=r[e];if(o)return o.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ce(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{var r;this.componentInstance=s,(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=He.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this["".concat(e,"Component")]}};function Fe(e,s,r){e.forEach(o=>{const n=s[o];n&&(r[o]=n)})}var ne=class extends je{constructor(){super(...arguments),this.awaitUpdateCallback=new ce(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Gt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new ce(o=>{setTimeout(()=>{o()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Fe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ce(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},It=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ot=class extends ne{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Dt=class extends ne{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:o}=this;return e.label=s,e.icon=r,e.shake=o,e}},Wt=class extends ne{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ce(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var r;const s=this.providedMethods;s?(r=s.afterGuiAttached)==null||r.call(s,e):this.awaitSetMethodsCallback.then(()=>{var o,n;return(n=(o=this.providedMethods)==null?void 0:o.afterGuiAttached)==null?void 0:n.call(o,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var s;this.expectingNewMethods===!1&&this.hasBeenActive&&((s=this.providedMethods)==null?void 0:s.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function $e(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||ce.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Tt=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Fe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.floatingFilterParams,e)}},Nt=class extends ne{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Ht=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ut=class extends ne{refresh(e){this.sourceParams=e,this.refreshProps()}},Vt=class extends ne{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},_t=class extends ne{refresh(e){this.sourceParams=e,this.refreshProps()}},Lt=class extends ne{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},jt=class extends ne{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Be(){Ue(231)}var $t=1e3,zt=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||$t}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},Jt=({ctrl:e})=>{const s=e.isAlive(),{context:r}=t.useContext(Z),o=s?e.column.getColId():void 0,[n,u]=t.useState(),[i,c]=t.useState(),l=t.useRef(),d=t.useRef(null),p=t.useRef(null),w=t.useRef(null),y=t.useRef(),h=t.useRef();s&&!h.current&&(h.current=new we(()=>d.current));const b=t.useCallback(g=>{var M;if(d.current=g,l.current=g?r.createBean(new pe):r.destroyBean(l.current),!g||!e.isAlive())return;const P={setWidth:F=>{d.current&&(d.current.style.width=F)},addOrRemoveCssClass:(F,k)=>h.current.addOrRemoveCssClass(F,k),setUserStyles:F=>c(F),setAriaSort:F=>{d.current&&(F?St(d.current,F):bt(d.current))},setUserCompDetails:F=>u(F),getUserCompInstance:()=>y.current||void 0};e.setComp(P,g,p.current,w.current,l.current);const R=e.getSelectAllGui();R&&((M=p.current)==null||M.insertAdjacentElement("afterend",R),l.current.addDestroyFunc(()=>R.remove()))},[]);t.useLayoutEffect(()=>fe(n,r,w.current,y),[n]),t.useEffect(()=>{e.setDragSource(d.current)},[n]);const S=t.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&me(n.componentClass)),[n]),v=n&&n.componentFromFramework,m=n&&n.componentClass;return a.createElement("div",{ref:b,style:i,className:"ag-header-cell","col-id":o,role:"columnheader"},a.createElement("div",{ref:p,className:"ag-header-cell-resize",role:"presentation"}),a.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&S&&a.createElement(m,{...n.params}),v&&!S&&a.createElement(m,{...n.params,ref:y})))},Kt=t.memo(Jt),qt=({ctrl:e})=>{const{context:s,gos:r}=t.useContext(Z),[o,n]=t.useState(),[u,i]=t.useState(()=>new re("ag-header-cell","ag-floating-filter")),[c,l]=t.useState(()=>new re),[d,p]=t.useState(()=>new re("ag-floating-filter-button","ag-hidden")),[w,y]=t.useState("false"),[h,b]=t.useState(),[,S]=t.useState(1),v=t.useRef(),m=t.useRef(null),g=t.useRef(null),P=t.useRef(null),R=t.useRef(null),M=t.useRef(),F=t.useRef(),k=A=>{A!=null&&M.current&&M.current(A)},W=t.useCallback(A=>{if(m.current=A,v.current=A?s.createBean(new pe):s.destroyBean(v.current),!A)return;F.current=new ce(B=>{M.current=B});const I={addOrRemoveCssClass:(B,O)=>i(V=>V.setClass(B,O)),setUserStyles:B=>n(B),addOrRemoveBodyCssClass:(B,O)=>l(V=>V.setClass(B,O)),setButtonWrapperDisplayed:B=>{p(O=>O.setClass("ag-hidden",!B)),y(B?"false":"true")},setWidth:B=>{m.current&&(m.current.style.width=B)},setCompDetails:B=>b(B),getFloatingFilterComp:()=>F.current?F.current:null,setMenuIcon:B=>{var O;return(O=R.current)==null?void 0:O.appendChild(B)}};e.setComp(I,A,R.current,g.current,v.current)},[]);t.useLayoutEffect(()=>fe(h,s,g.current,k),[h]);const U=t.useMemo(()=>u.toString(),[u]),T=t.useMemo(()=>c.toString(),[c]),D=t.useMemo(()=>d.toString(),[d]),E=t.useMemo(()=>!!(h&&h.componentFromFramework&&me(h.componentClass)),[h]),C=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),L=t.useMemo(()=>{if(h)if(C){const A=new Tt(h.params,()=>S(I=>I+1));return k(A),A}else h.componentFromFramework&&Be()},[h]),f=L==null?void 0:L.getProps(),G=h&&h.componentFromFramework,H=h&&h.componentClass;return a.createElement("div",{ref:W,style:o,className:U,role:"gridcell"},a.createElement("div",{ref:g,className:T,role:"presentation"},G&&!C&&a.createElement(H,{...h.params,ref:E?()=>{}:k}),G&&C&&a.createElement(Me.Provider,{value:{setMethods:A=>L.setMethods(A)}},a.createElement(H,{...f}))),a.createElement("div",{ref:P,"aria-hidden":w,className:D,role:"presentation"},a.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Qt=t.memo(qt),Yt=({ctrl:e})=>{const{context:s}=t.useContext(Z),[r,o]=t.useState(),[n,u]=t.useState(()=>new re),[i,c]=t.useState(()=>new re),[l,d]=t.useState("false"),[p,w]=t.useState(),[y,h]=t.useState(),b=t.useMemo(()=>e.column.getUniqueId(),[]),S=t.useRef(),v=t.useRef(null),m=t.useRef(null),g=t.useRef(null),P=t.useRef(),R=t.useCallback(T=>{if(v.current=T,S.current=T?s.createBean(new pe):s.destroyBean(S.current),!T)return;const D={setWidth:E=>{v.current&&(v.current.style.width=E)},addOrRemoveCssClass:(E,C)=>u(L=>L.setClass(E,C)),setUserStyles:E=>o(E),setHeaderWrapperHidden:E=>{const C=g.current;C&&(E?C.style.setProperty("display","none"):C.style.removeProperty("display"))},setHeaderWrapperMaxHeight:E=>{const C=g.current;C&&(E!=null?C.style.setProperty("max-height","".concat(E,"px")):C.style.removeProperty("max-height"),C.classList.toggle("ag-header-cell-comp-wrapper-limited-height",E!=null))},setUserCompDetails:E=>h(E),setResizableDisplayed:E=>{c(C=>C.setClass("ag-hidden",!E)),d(E?"false":"true")},setAriaExpanded:E=>w(E),getUserCompInstance:()=>P.current||void 0};e.setComp(D,T,m.current,g.current,S.current)},[]);t.useLayoutEffect(()=>fe(y,s,g.current),[y]),t.useEffect(()=>{v.current&&e.setDragSource(v.current)},[y]);const M=t.useMemo(()=>!!((y==null?void 0:y.componentFromFramework)&&me(y.componentClass)),[y]),F=t.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),k=t.useMemo(()=>"ag-header-cell-resize "+i.toString(),[i]),W=y&&y.componentFromFramework,U=y&&y.componentClass;return a.createElement("div",{ref:R,style:r,className:F,"col-id":b,role:"columnheader","aria-expanded":p},a.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},W&&M&&a.createElement(U,{...y.params}),W&&!M&&a.createElement(U,{...y.params,ref:P})),a.createElement("div",{ref:m,"aria-hidden":l,className:k}))},Zt=t.memo(Yt),Xt=({ctrl:e})=>{const{context:s}=t.useContext(Z),{topOffset:r,rowHeight:o}=t.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),u=e.headerRowClass,[i,c]=t.useState(()=>o+"px"),[l,d]=t.useState(()=>r+"px"),p=t.useRef(null),w=t.useRef(null),[y,h]=t.useState(()=>e.getUpdatedHeaderCtrls()),b=t.useRef(),S=t.useRef(null),v=t.useCallback(P=>{if(S.current=P,b.current=P?s.createBean(new pe):s.destroyBean(b.current),!P)return;const R={setHeight:M=>c(M),setTop:M=>d(M),setHeaderCtrls:(M,F,k)=>{w.current=p.current,p.current=M;const W=ve(w.current,M,F);W!==w.current&&ye(k,()=>h(W))},setWidth:M=>{S.current&&(S.current.style.width=M)}};e.setComp(R,b.current,!1)},[]),m=t.useMemo(()=>({height:i,top:l}),[i,l]),g=t.useCallback(P=>{switch(e.type){case"group":return a.createElement(Zt,{ctrl:P,key:P.instanceId});case"filter":return a.createElement(Qt,{ctrl:P,key:P.instanceId});default:return a.createElement(Kt,{ctrl:P,key:P.instanceId})}},[]);return a.createElement("div",{ref:v,className:u,role:"row",style:m,"aria-rowindex":n},y.map(g))},es=t.memo(Xt),ts=({pinned:e})=>{const[s,r]=t.useState(!0),[o,n]=t.useState([]),{context:u}=t.useContext(Z),i=t.useRef(null),c=t.useRef(null),l=t.useRef(),d=e==="left",p=e==="right",w=!d&&!p,y=t.useCallback(S=>{if(i.current=S,l.current=S?u.createBean(new Ct(e)):u.destroyBean(l.current),!S)return;const v={setDisplayed:r,setCtrls:m=>n(m),setCenterWidth:m=>{c.current&&(c.current.style.width=m)},setViewportScrollLeft:m=>{i.current&&(i.current.scrollLeft=m)},setPinnedContainerWidth:m=>{i.current&&(i.current.style.width=m,i.current.style.minWidth=m,i.current.style.maxWidth=m)}};l.current.setComp(v,i.current)},[]),h=s?"":"ag-hidden",b=()=>o.map(S=>a.createElement(es,{ctrl:S,key:S.instanceId}));return a.createElement(a.Fragment,null,d&&a.createElement("div",{ref:y,className:"ag-pinned-left-header "+h,"aria-hidden":!s,role:"rowgroup"},b()),p&&a.createElement("div",{ref:y,className:"ag-pinned-right-header "+h,"aria-hidden":!s,role:"rowgroup"},b()),w&&a.createElement("div",{ref:y,className:"ag-header-viewport "+h,role:"presentation",tabIndex:-1},a.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},b())))},Pe=t.memo(ts),ss=()=>{const[e,s]=t.useState(()=>new re),[r,o]=t.useState(),{context:n}=t.useContext(Z),u=t.useRef(null),i=t.useRef(),c=t.useCallback(p=>{if(u.current=p,i.current=p?n.createBean(new ft):n.destroyBean(i.current),!p)return;const w={addOrRemoveCssClass:(y,h)=>s(b=>b.setClass(y,h)),setHeightAndMinHeight:y=>o(y)};i.current.setComp(w,p,p)},[]),l=t.useMemo(()=>"ag-header "+e.toString(),[e]),d=t.useMemo(()=>({height:r,minHeight:r}),[r]);return a.createElement("div",{ref:c,className:l,style:d,role:"presentation"},a.createElement(Pe,{pinned:"left"}),a.createElement(Pe,{pinned:null}),a.createElement(Pe,{pinned:"right"}))},rs=t.memo(ss),ns=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const o=r.parentElement;if(o){const n=document.createComment(e);return o.insertBefore(n,r),()=>{o.removeChild(n)}}}},[e])},ie=ns,os=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new ce(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Fe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var s;this.componentInstance=e,(s=this.resolveInstanceCreated)==null||s.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},as=e=>{const s=t.useRef(e),r=t.useRef(),o=t.useRef(!1),n=t.useRef(!1),[,u]=t.useState(0);o.current&&(n.current=!0),t.useEffect(()=>(o.current||(r.current=s.current(),o.current=!0),u(i=>i+1),()=>{var i;n.current&&((i=r.current)==null||i.call(r))}),[])},cs=e=>{const[s,r]=t.useState(),o=t.useContext(Z),{context:n,popupSvc:u,localeSvc:i,gos:c,editSvc:l}=o,{editDetails:d,cellCtrl:p,eParentCell:w}=e;return as(()=>{var k,W;const{compDetails:y}=d,h=c.get("stopEditingWhenCellsLoseFocus"),b=n.createBean(l.createPopupEditorWrapper(y.params)),S=b.getGui();if(e.jsChildComp){const U=e.jsChildComp.getGui();U&&S.appendChild(U)}const{column:v,rowNode:m}=p,g={column:v,rowNode:m,type:"popupCellEditor",eventSource:w,ePopup:S,position:d.popupPosition,keepWithinBounds:!0},P=u==null?void 0:u.positionPopupByComponent.bind(u,g),R=kt(i),M=u==null?void 0:u.addPopup({modal:h,eChild:S,closeOnEsc:!0,closedCallback:()=>{p.onPopupEditorClosed()},anchorToElement:w,positionCallback:P,ariaLabel:R("ariaLabelCellEditor","Cell Editor")}),F=M?M.hideFunc:void 0;return r(b),(W=(k=e.jsChildComp)==null?void 0:k.afterGuiAttached)==null||W.call(k),()=>{F==null||F(),n.destroyBean(b)}}),t.useLayoutEffect(()=>()=>{p.isCellFocused()&&(s!=null&&s.getGui().contains(Pt(o)))&&w.focus({preventScroll:!0})},[s]),a.createElement(a.Fragment,null,s&&e.wrappedContent&&He.createPortal(e.wrappedContent,s.getGui()))},De=t.memo(cs),ls=(e,s,r,o,n,u)=>{const{context:i}=t.useContext(Z),c=t.useCallback(()=>{const l=n.current;if(!l)return;const d=l.getGui();d&&d.parentElement&&d.parentElement.removeChild(d),i.destroyBean(l),n.current=void 0},[]);t.useEffect(()=>{const l=e!=null,d=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,p=s&&r==null;if(!(l&&d&&!p)){c();return}const y=e.compDetails;if(n.current){const b=n.current,v=b.refresh!=null&&e.force==!1?b.refresh(y.params):!1;if(v===!0||v===void 0)return;c()}y.newAgStackInstance().then(b=>{if(!b)return;const S=b.getGui();if(!S)return;(s?r:u.current).appendChild(S),n.current=b})},[e,s,o]),t.useEffect(()=>c,[])},us=ls,is=(e,s,r)=>{const{compProxy:o}=e;r(o);const n=o.getProps(),u=me(s);return a.createElement(Me.Provider,{value:{setMethods:i=>o.setMethods(i)}},u?a.createElement(s,{...n}):a.createElement(s,{...n,ref:i=>o.setRef(i)}))},We=(e,s,r)=>{const o=e.compProxy;return a.createElement(a.Fragment,null,o?is(e,s,r):a.createElement(s,{...e.compDetails.params,ref:r}))},ds=(e,s,r,o,n)=>{const u=e.compDetails,i=u.componentClass,c=u.componentFromFramework&&!e.popup,l=u.componentFromFramework&&e.popup,d=!u.componentFromFramework&&e.popup;return a.createElement(a.Fragment,null,c&&We(e,i,s),l&&a.createElement(De,{editDetails:e,cellCtrl:o,eParentCell:r,wrappedContent:We(e,i,s)}),d&&n&&a.createElement(De,{editDetails:e,cellCtrl:o,eParentCell:r,jsChildComp:n}))},ps=(e,s,r,o,n,u,i)=>{const{compDetails:c,value:l}=e,d=!c,p=c&&c.componentFromFramework,w=c&&c.componentClass,y=l!=null&&l.toString?l.toString():l,h=()=>a.createElement(a.Fragment,null,d&&a.createElement(a.Fragment,null,y),p&&!u&&a.createElement(w,{...c.params,key:s,ref:o}),p&&u&&a.createElement(w,{...c.params,key:s}));return a.createElement(a.Fragment,null,n?a.createElement("span",{role:"presentation",id:"cell-".concat(r),className:"ag-cell-value",ref:i},h()):h())},ms=({cellCtrl:e,printLayout:s,editingRow:r})=>{const o=t.useContext(Z),{context:n}=o,{colIdSanitised:u,instanceId:i}=e,c=t.useRef(),[l,d]=t.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[p,w]=t.useState(),[y,h]=t.useState(1),[b,S]=t.useState(),[v,m]=t.useState(!1),[g,P]=t.useState(!1),[R,M]=t.useState(!1),[F,k]=t.useState(),W=t.useMemo(()=>e.isForceWrapper(),[e]),U=t.useMemo(()=>e.getCellAriaRole(),[e]),T=t.useRef(null),D=t.useRef(null),E=t.useRef(null),C=t.useRef(),L=t.useRef(),f=t.useRef(),G=t.useRef([]),H=t.useRef(),[A,I]=t.useState(0),B=t.useCallback(j=>{H.current=j,I(J=>J+1)},[]),O=l!=null&&(v||R||g),V=W||O,_=t.useCallback(j=>{if(L.current=j,j){const J=j.isCancelBeforeStart&&j.isCancelBeforeStart();setTimeout(()=>{J?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),x=t.useRef();x.current||(x.current=new we(()=>T.current)),us(l,V,H.current,A,C,T);const Q=t.useRef();t.useLayoutEffect(()=>{var N;const j=Q.current,J=l;if(Q.current=l,j==null||j.compDetails==null||J==null||J.compDetails==null)return;const Y=j.compDetails,te=J.compDetails;if(Y.componentClass!=te.componentClass||((N=E.current)==null?void 0:N.refresh)==null)return;E.current.refresh(te.params)!=!0&&h(K=>K+1)},[l]),t.useLayoutEffect(()=>{if(!(p&&!p.compDetails.componentFromFramework))return;const J=p.compDetails,Y=p.popup===!0,te=J.newAgStackInstance();return te.then(X=>{if(!X)return;const N=X.getGui();if(_(X),!Y){const K=(W?f:T).current;K==null||K.appendChild(N),X.afterGuiAttached&&X.afterGuiAttached()}k(X)}),()=>{te.then(X=>{var K;const N=X.getGui();n.destroyBean(X),_(void 0),k(void 0),(K=N==null?void 0:N.parentElement)==null||K.removeChild(N)})}},[p]);const q=t.useCallback(j=>{if(f.current=j,!j){G.current.forEach(Y=>Y()),G.current=[];return}const J=Y=>{if(Y){const te=Y.getGui();j.insertAdjacentElement("afterbegin",te),G.current.push(()=>{n.destroyBean(Y),Et(te)})}return Y};if(v){const Y=e.createSelectionCheckbox();J(Y)}R&&J(e.createDndSource()),g&&J(e.createRowDragComp())},[e,n,R,g,v]),oe=t.useCallback(()=>{var X;const j=!e.isCellSpanning()||D.current,J=T.current;if(c.current=J?n.createBean(new pe):n.destroyBean(c.current),!J||!j||!e)return;const Y={addOrRemoveCssClass:(N,K)=>x.current.addOrRemoveCssClass(N,K),setUserStyles:N=>S(N),getFocusableElement:()=>T.current,setIncludeSelection:N=>m(N),setIncludeRowDrag:N=>P(N),setIncludeDndSource:N=>M(N),getCellEditor:()=>L.current||null,getCellRenderer:()=>{var N;return(N=E.current)!=null?N:C.current},getParentOfValue:()=>{var N,K;return(K=(N=H.current)!=null?N:f.current)!=null?K:T.current},setRenderDetails:(N,K,ae)=>{d($=>($==null?void 0:$.compDetails)!==N||($==null?void 0:$.value)!==K||($==null?void 0:$.force)!==ae?{value:K,compDetails:N,force:ae}:$)},setEditDetails:(N,K,ae,$)=>{if(N){let ue;$?ue=new os(N.params,()=>h(le=>le+1)):N.componentFromFramework&&Be(),w({compDetails:N,popup:K,popupPosition:ae,compProxy:ue}),K||d(void 0)}else e.hasBrowserFocus()&&Y.getFocusableElement().focus({preventScroll:!0}),w(le=>{le!=null&&le.compProxy&&(L.current=void 0)})}},te=f.current||void 0;e.setComp(Y,J,(X=D.current)!=null?X:void 0,te,s,r,c.current)},[]),de=t.useCallback(j=>{T.current=j,oe()},[]),Se=t.useCallback(j=>{D.current=j,oe()},[]),be=t.useMemo(()=>{var J;return!!(((J=l==null?void 0:l.compDetails)==null?void 0:J.componentFromFramework)&&me(l.compDetails.componentClass))},[l]);t.useLayoutEffect(()=>{T.current&&(x.current.addOrRemoveCssClass("ag-cell-value",!V),x.current.addOrRemoveCssClass("ag-cell-inline-editing",!!p&&!p.popup),x.current.addOrRemoveCssClass("ag-cell-popup-editing",!!p&&!!p.popup),x.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!p||!!p.popup),e.setInlineEditingCss())});const Ce=()=>a.createElement(a.Fragment,null,l!=null&&ps(l,y,i,E,V,be,B),p!=null&&ds(p,_,T.current,e,F)),ge=()=>a.createElement("div",{ref:de,style:b,role:U,"col-id":u},V?a.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:q},Ce()):Ce());return e.isCellSpanning()?a.createElement("div",{ref:Se,className:"ag-spanned-cell-wrapper",role:"presentation"},ge()):ge()},hs=t.memo(ms),fs=({rowCtrl:e,containerType:s})=>{const{context:r,gos:o}=t.useContext(Z),n=t.useRef(),u=t.useRef(e.getDomOrder()),i=e.isFullWidth(),c=e.rowNode.displayed,[l,d]=t.useState(()=>c?e.rowNode.getRowIndexString():null),[p,w]=t.useState(()=>e.rowId),[y,h]=t.useState(()=>e.businessKey),[b,S]=t.useState(()=>e.rowStyles),v=t.useRef(null),m=t.useRef(null),[g,P]=t.useState(()=>null),[R,M]=t.useState(),[F,k]=t.useState(()=>c?e.getInitialRowTop(s):void 0),[W,U]=t.useState(()=>c?e.getInitialTransform(s):void 0),T=t.useRef(null),D=t.useRef(),E=t.useRef(!1),[C,L]=t.useState(0);t.useEffect(()=>{var Q;if(E.current||!R||C>10)return;const x=(Q=T.current)==null?void 0:Q.firstChild;x?(e.setupDetailRowAutoHeight(x),E.current=!0):L(q=>q+1)},[R,C]);const f=t.useRef();f.current||(f.current=new we(()=>T.current));const G=t.useCallback(x=>{if(T.current=x,n.current=x?r.createBean(new pe):r.destroyBean(n.current),!x){e.unsetComp(s);return}if(!e.isAlive())return;const Q={setTop:k,setTransform:U,addOrRemoveCssClass:(q,oe)=>f.current.addOrRemoveCssClass(q,oe),setDomOrder:q=>u.current=q,setRowIndex:d,setRowId:w,setRowBusinessKey:h,setUserStyles:S,setCellCtrls:(q,oe)=>{m.current=v.current,v.current=q;const de=ve(m.current,q,u.current);de!==m.current&&ye(oe,()=>P(de))},showFullWidth:q=>M(q),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:q=>O.current?(M(oe=>({...oe,params:q()})),!0):!D.current||!D.current.refresh?!1:D.current.refresh(q())};e.setComp(Q,x,s,n.current)},[]);t.useLayoutEffect(()=>fe(R,r,T.current,D),[R]);const H=t.useMemo(()=>{const x={top:F,transform:W};return Object.assign(x,b),x},[F,W,b]),A=i&&(R==null?void 0:R.componentFromFramework),I=!i&&g!=null,B=t.useMemo(()=>!!((R==null?void 0:R.componentFromFramework)&&me(R.componentClass)),[R]),O=t.useRef(!1);t.useEffect(()=>{O.current=B&&!!R&&!!o.get("reactiveCustomComponents")},[B,R]);const V=()=>g==null?void 0:g.map(x=>a.createElement(hs,{cellCtrl:x,editingRow:e.editing,printLayout:e.printLayout,key:x.instanceId})),_=()=>{const x=R.componentClass;return a.createElement(a.Fragment,null,B?a.createElement(x,{...R.params}):a.createElement(x,{...R.params,ref:D}))};return a.createElement("div",{ref:G,role:"row",style:H,"row-index":l,"row-id":p,"row-business-key":y},I&&V(),A&&_())},Te=t.memo(fs),Cs=({name:e})=>{const{context:s,gos:r}=t.useContext(Z),o=t.useMemo(()=>gt(e),[e]),n=t.useRef(null),u=t.useRef(null),i=t.useRef(null),c=t.useRef([]),l=t.useRef([]),[d,p]=t.useState(()=>[]),w=!!r.get("enableCellSpan")&&!!o.getSpannedRowCtrls,y=t.useRef([]),h=t.useRef([]),[b,S]=t.useState(()=>[]),v=t.useRef(!1),m=t.useRef(),g=t.useMemo(()=>se("ag-viewport",Rt(e)),[e]),P=t.useMemo(()=>se(yt(e)),[e]),R=t.useMemo(()=>se("ag-spanning-container",vt(e)),[e]),M=o.type==="center"||w,F=M?n:u;ie(" AG Row Container "+e+" ",F);const k=t.useCallback(()=>{const f=!M||n.current!=null,G=u.current!=null,H=!w||i.current!=null;return f&&G&&H},[]),W=t.useCallback(()=>n.current==null&&u.current==null&&i.current==null,[]),U=t.useCallback(()=>{var f;if(W()&&(m.current=s.destroyBean(m.current)),k()){const G=I=>{const B=ve(l.current,c.current,v.current);B!==l.current&&(l.current=B,ye(I,()=>p(B)))},H=I=>{const B=ve(h.current,y.current,v.current);B!==h.current&&(h.current=B,ye(I,()=>S(B)))},A={setHorizontalScroll:I=>{n.current&&(n.current.scrollLeft=I)},setViewportHeight:I=>{n.current&&(n.current.style.height=I)},setRowCtrls:({rowCtrls:I,useFlushSync:B})=>{const O=!!B&&c.current.length>0&&I.length>0;c.current=I,G(O)},setSpannedRowCtrls:(I,B)=>{const O=!!B&&y.current.length>0&&I.length>0;y.current=I,H(O)},setDomOrder:I=>{v.current!=I&&(v.current=I,G(!1))},setContainerWidth:I=>{u.current&&(u.current.style.width=I)},setOffsetTop:I=>{u.current&&(u.current.style.transform="translateY(".concat(I,")"))}};m.current=s.createBean(new wt(e)),m.current.setComp(A,u.current,(f=i.current)!=null?f:void 0,n.current)}},[k,W]),T=t.useCallback(f=>{u.current=f,U()},[U]),D=t.useCallback(f=>{i.current=f,U()},[U]),E=t.useCallback(f=>{n.current=f,U()},[U]),C=()=>a.createElement("div",{className:P,ref:T,role:"rowgroup"},d.map(f=>a.createElement(Te,{rowCtrl:f,containerType:o.type,key:f.instanceId})));if(!M)return C();const L=()=>w&&a.createElement("div",{className:R,ref:D,role:"rowgroup"},b.map(f=>a.createElement(Te,{rowCtrl:f,containerType:o.type,key:f.instanceId})));return a.createElement("div",{className:g,ref:E,role:"presentation"},C(),L())},gs=t.memo(Cs),Rs=()=>{const e=t.useContext(Z),{context:s,overlays:r}=e,[o,n]=t.useState(""),[u,i]=t.useState(0),[c,l]=t.useState(0),[d,p]=t.useState("0px"),[w,y]=t.useState("0px"),[h,b]=t.useState("100%"),[S,v]=t.useState("0px"),[m,g]=t.useState("0px"),[P,R]=t.useState("100%"),[M,F]=t.useState(""),[k,W]=t.useState(""),[U,T]=t.useState(null),[D,E]=t.useState(""),[C,L]=t.useState(null),[f,G]=t.useState("ag-layout-normal"),H=t.useRef();H.current||(H.current=new we(()=>A.current));const A=t.useRef(null),I=t.useRef(null),B=t.useRef(null),O=t.useRef(null),V=t.useRef(null),_=t.useRef(null),x=t.useRef(null),Q=t.useRef([]),q=t.useRef([]);ie(" AG Grid Body ",A),ie(" AG Pinned Top ",I),ie(" AG Sticky Top ",B),ie(" AG Middle ",_),ie(" AG Pinned Bottom ",x);const oe=t.useCallback($=>{if(A.current=$,!$){Q.current=s.destroyBeans(Q.current),q.current.forEach(z=>z()),q.current=[];return}if(!s)return;const ue=(z,ee)=>{z.appendChild(ee),q.current.push(()=>z.removeChild(ee))},le=z=>{const ee=s.createBean(new z);return Q.current.push(ee),ee},he=(z,ee,qe)=>{ue(z,document.createComment(qe)),ue(z,le(ee).getGui())};he($,mt," AG Fake Horizontal Scroll ");const xe=r==null?void 0:r.getOverlayWrapperCompClass();xe&&he($,xe," AG Overlay Wrapper "),V.current&&he(V.current,ht," AG Fake Vertical Scroll ");const Ke={setRowAnimationCssOnBodyViewport:n,setColumnCount:z=>{A.current&&pt(A.current,z)},setRowCount:z=>{A.current&&dt(A.current,z)},setTopHeight:i,setBottomHeight:l,setStickyTopHeight:p,setStickyTopTop:y,setStickyTopWidth:b,setTopDisplay:F,setBottomDisplay:W,setColumnMovingCss:(z,ee)=>H.current.addOrRemoveCssClass(z,ee),updateLayoutClasses:G,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:E,setCellSelectableCss:(z,ee)=>L(ee?z:null),setBodyViewportWidth:z=>{_.current&&(_.current.style.width=z)},registerBodyViewportResizeListener:z=>{if(_.current){const ee=Ve(e,_.current,z);q.current.push(()=>ee())}},setStickyBottomHeight:v,setStickyBottomBottom:g,setStickyBottomWidth:R,setGridRootRole:z=>$.setAttribute("role",z)},Ge=s.createBean(new ut);Q.current.push(Ge),Ge.setComp(Ke,$,_.current,I.current,x.current,B.current,O.current)},[]),de=t.useMemo(()=>se("ag-root","ag-unselectable",f),[f]),Se=t.useMemo(()=>se("ag-body-viewport",o,f,U,C),[o,f,U,C]),be=t.useMemo(()=>se("ag-body",f),[f]),Ce=t.useMemo(()=>se("ag-floating-top",C),[C]),ge=t.useMemo(()=>se("ag-sticky-top",C),[C]),j=t.useMemo(()=>se("ag-sticky-bottom",S==="0px"?"ag-hidden":null,C),[C,S]),J=t.useMemo(()=>se("ag-floating-bottom",C),[C]),Y=t.useMemo(()=>({height:u,minHeight:u,display:M,overflowY:D}),[u,M,D]),te=t.useMemo(()=>({height:d,top:w,width:h}),[d,w,h]),X=t.useMemo(()=>({height:S,bottom:m,width:P}),[S,m,P]),N=t.useMemo(()=>({height:c,minHeight:c,display:k,overflowY:D}),[c,k,D]),K=$=>a.createElement(gs,{name:$,key:"".concat($,"-container")}),ae=({section:$,children:ue,className:le,style:he})=>a.createElement("div",{ref:$,className:le,role:"presentation",style:he},ue.map(K));return a.createElement("div",{ref:oe,className:de},a.createElement(rs,null),ae({section:I,className:Ce,style:Y,children:["topLeft","topCenter","topRight","topFullWidth"]}),a.createElement("div",{className:be,ref:V,role:"presentation"},ae({section:_,className:Se,children:["left","center","right","fullWidth"]})),ae({section:B,className:ge,style:te,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ae({section:O,className:j,style:X,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ae({section:x,className:J,style:N,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},ys=t.memo(Rs),vs=(e,s)=>{const{children:r,eFocusableElement:o,onTabKeyDown:n,gridCtrl:u,forceFocusOutWhenTabGuardsAreEmpty:i,isEmpty:c}=e,{context:l}=t.useContext(Z),d=t.useRef(null),p=t.useRef(null),w=t.useRef(),y=m=>{const g=m==null?void 0:parseInt(m,10).toString();[d,p].forEach(P=>{var R,M;g===void 0?(R=P.current)==null||R.removeAttribute("tabindex"):(M=P.current)==null||M.setAttribute("tabindex",g)})};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(m){var g;(g=w.current)==null||g.forceFocusOutOfContainer(m)}}));const h=t.useCallback(()=>{const m=d.current,g=p.current;if(!m&&!g){w.current=l.destroyBean(w.current);return}if(m&&g){const P={setTabIndex:y};w.current=l.createBean(new it({comp:P,eTopGuard:m,eBottomGuard:g,eFocusableElement:o,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:i,focusInnerElement:R=>u.focusInnerElement(R),isEmpty:c}))}},[]),b=t.useCallback(m=>{d.current=m,h()},[h]),S=t.useCallback(m=>{p.current=m,h()},[h]),v=m=>{const g=m==="top"?Ee.TAB_GUARD_TOP:Ee.TAB_GUARD_BOTTOM;return a.createElement("div",{className:"".concat(Ee.TAB_GUARD," ").concat(g),role:"presentation",ref:m==="top"?b:S})};return a.createElement(a.Fragment,null,v("top"),r,v("bottom"))},ws=t.forwardRef(vs),Ss=t.memo(ws),bs=({context:e})=>{const[s,r]=t.useState(""),[o,n]=t.useState(""),[u,i]=t.useState(null),[c,l]=t.useState(null),[d,p]=t.useState(!1),[w,y]=t.useState(),h=t.useRef(),b=t.useRef(null),S=t.useRef(),[v,m]=t.useState(null),g=t.useRef(()=>{}),P=t.useRef(),R=t.useRef([]),M=t.useCallback(()=>{},[]),F=t.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);ie(" AG Grid ",b);const k=t.useCallback(C=>{if(b.current=C,h.current=C?e.createBean(new at):e.destroyBean(h.current),!C||e.isDestroyed())return;const L=h.current;g.current=L.focusInnerElement.bind(L);const f={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:G=>{var H,A;if(!G&&((H=P.current)!=null&&H.isDisplayed())){P.current.forceFocusOutOfContainer(G);return}(A=S.current)==null||A.forceFocusOutOfContainer(G)},updateLayoutClasses:n,getFocusableContainers:()=>{var A;const G=[],H=(A=b.current)==null?void 0:A.querySelector(".ag-root");return H&&G.push({getGui:()=>H}),R.current.forEach(I=>{I.isDisplayed()&&G.push(I)}),G},setCursor:i,setUserSelect:l};L.setComp(f,C,C),p(!0)},[]);t.useEffect(()=>{const C=h.current,L=b.current;if(!w||!F||!C||!v||!L)return;const f=[],{watermarkSelector:G,paginationSelector:H,sideBarSelector:A,statusBarSelector:I,gridHeaderDropZonesSelector:B}=C.getOptionalSelectors(),O=[];if(B){const _=e.createBean(new B.component),x=_.getGui();L.insertAdjacentElement("afterbegin",x),O.push(x),f.push(_)}if(A){const _=e.createBean(new A.component),x=_.getGui(),Q=v.querySelector(".ag-tab-guard-bottom");Q&&(Q.insertAdjacentElement("beforebegin",x),O.push(x)),f.push(_),R.current.push(_)}const V=_=>{const x=e.createBean(new _),Q=x.getGui();return L.insertAdjacentElement("beforeend",Q),O.push(Q),f.push(x),x};if(I&&V(I.component),H){const _=V(H.component);P.current=_,R.current.push(_)}return G&&V(G.component),()=>{e.destroyBeans(f),O.forEach(_=>{var x;(x=_.parentElement)==null||x.removeChild(_)})}},[w,v,F]);const W=t.useMemo(()=>se("ag-root-wrapper",s,o),[s,o]),U=t.useMemo(()=>se("ag-root-wrapper-body","ag-focus-managed",o),[o]),T=t.useMemo(()=>({userSelect:c!=null?c:"",WebkitUserSelect:c!=null?c:"",cursor:u!=null?u:""}),[c,u]),D=t.useCallback(C=>{S.current=C,y(C!==null)},[]),E=t.useCallback(()=>{var C;return!((C=h.current)!=null&&C.isFocusable())},[]);return a.createElement("div",{ref:k,className:W,style:T,role:"presentation"},a.createElement("div",{className:U,ref:m,role:"presentation"},d&&v&&F&&a.createElement(Z.Provider,{value:F},a.createElement(Ss,{ref:D,eFocusableElement:v,onTabKeyDown:M,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:E},a.createElement(ys,null)))))},Es=t.memo(bs),Ps=class extends rt{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}},ks={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},ze=new Set(Object.keys(ks)),Je=e=>{var v,m;const s=t.useRef(),r=t.useRef(null),o=t.useRef(null),n=t.useRef([]),u=t.useRef([]),i=t.useRef(e),c=t.useRef(),l=t.useRef(),d=t.useRef(!1),[p,w]=t.useState(void 0),[,y]=t.useState(0),h=t.useCallback(g=>{var E,C,L;if(r.current=g,!g){n.current.forEach(f=>f()),n.current.length=0;return}const P=e.modules||[];o.current||(o.current=new zt(()=>y(f=>f+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var f;(f=o.current)==null||f.destroy(),o.current=null}));const R=Ye(e.gridOptions,e,Object.keys(e).filter(f=>!ze.has(f))),M=()=>{if(d.current){const f=()=>{var H;return(H=c.current)!=null&&H.shouldQueueUpdates()?void 0:u.current.shift()};let G=f();for(;G;)G(),G=f()}},F=new xs(M);c.current=F;const k=new Ps,W={providedBeanInstances:{frameworkCompWrapper:new Fs(o.current,(C=(E=R.reactiveCustomComponents)!=null?E:Ze("reactiveCustomComponents"))!=null?C:!0),renderStatus:k},modules:P,frameworkOverrides:F,setThemeOnGridDiv:!0},U=f=>{w(f),f.createBean(k),n.current.push(()=>{f.destroy()}),f.getBean("ctrlsSvc").whenReady({addDestroyFunc:G=>{n.current.push(G)}},()=>{var H;if(f.isDestroyed())return;const G=s.current;G&&((H=e.setGridApi)==null||H.call(e,G))})},T=f=>{f.getBean("ctrlsSvc").whenReady({addDestroyFunc:G=>{n.current.push(G)}},()=>{u.current.forEach(G=>G()),u.current.length=0,d.current=!0})},D=new Xe;(L=R.gridId)!=null||(R.gridId=l.current),s.current=D.create(g,R,U,T,W),n.current.push(()=>{s.current=void 0}),s.current&&(l.current=s.current.getGridId())},[]),b=t.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),S=t.useCallback(g=>{var P;d.current&&!((P=c.current)!=null&&P.shouldQueueUpdates())?g():u.current.push(g)},[]);return t.useEffect(()=>{const g=Ms(i.current,e);i.current=e,S(()=>{s.current&&et(g,s.current)})},[e]),a.createElement("div",{style:b,className:e.className,ref:h},p&&!p.isDestroyed()?a.createElement(Es,{context:p}):null,(m=(v=o.current)==null?void 0:v.getPortals())!=null?m:null)};function Ms(e,s){const r={};return Object.keys(s).forEach(o=>{if(ze.has(o))return;const n=s[o];e[o]!==n&&(r[o]=n)}),r}var Fs=class extends st{constructor(e,s){super(),this.parent=e,this.reactiveCustomComponents=s}createWrapper(e,s){if(this.reactiveCustomComponents){const n=(u=>{switch(u){case"filter":return Wt;case"floatingFilterComponent":return Nt;case"dateComponent":return Ot;case"dragAndDropImageComponent":return Dt;case"loadingOverlayComponent":return Ut;case"noRowsOverlayComponent":return _t;case"statusPanel":return Lt;case"toolPanel":return jt;case"menuItem":return Vt;case"cellRenderer":return It;case"innerHeaderComponent":return Ht}})(s.name);if(n)return new n(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Be();break}const r=!s.cellRenderer&&s.name!=="toolPanel";return new je(e,this.parent,s,r)}},Bs=t.forwardRef((e,s)=>{const r=t.useContext(Z),{registry:o,context:n,gos:u,rowModel:i}=r,[c,l]=t.useState(()=>new re),[d,p]=t.useState(()=>new re),[w,y]=t.useState(),[h,b]=t.useState(),S=t.useRef(),v=t.useRef(null),m=t.useRef(),g=t.useMemo(()=>{var k;return nt(e.api.getGridId(),(k=w==null?void 0:w.rowModelType)!=null?k:"clientSide")},[e]),P=t.useMemo(()=>c.toString()+" ag-details-row",[c]),R=t.useMemo(()=>d.toString()+" ag-details-grid",[d]);s&&t.useImperativeHandle(s,()=>({refresh(){var k,W;return(W=(k=S.current)==null?void 0:k.refresh())!=null?W:!1}})),e.template&&Ue(230);const M=t.useCallback(k=>{var T;if(v.current=k,!k){S.current=n.destroyBean(S.current),(T=m.current)==null||T.call(m);return}const W={addOrRemoveCssClass:(D,E)=>l(C=>C.setClass(D,E)),addOrRemoveDetailGridCssClass:(D,E)=>p(C=>C.setClass(D,E)),setDetailGrid:D=>y(D),setRowData:D=>b(D),getGui:()=>v.current},U=o.createDynamicBean("detailCellRendererCtrl",!0);if(U&&(n.createBean(U),U.init(W,e),S.current=U,u.get("detailRowAutoHeight"))){const D=()=>{if(v.current==null)return;const E=v.current.clientHeight;E!=null&&E>0&&setTimeout(()=>{e.node.setRowHeight(E),(ct(u)||lt(u))&&i.onRowHeightChanged()},0)};m.current=Ve(r,k,D),D()}},[]),F=t.useCallback(k=>{var W;(W=S.current)==null||W.registerDetailWithMaster(k)},[]);return a.createElement("div",{className:P,ref:M},w&&a.createElement(Je,{className:R,...w,modules:g,rowData:h,setGridApi:F}))}),xs=class extends tt{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Ie,agGroupRowRenderer:Ie,agDetailCellRenderer:Bs},this.wrapIncoming=(s,r)=>r==="ensureVisible"?Bt(s):s()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Ft()}},Is=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(s=>s(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return a.createElement(Je,{...this.props,setGridApi:this.setGridApi})}};export{Is as A};
