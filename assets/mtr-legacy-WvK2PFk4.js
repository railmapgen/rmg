System.register(["./share-legacy-DNJrYctf.js"],function(n,e){"use strict";var t;return{setters:[n=>{t=n.S}],execute:function(){n("g",(n,e,t)=>{const i=e[0];if(i.includes(n)){if(e.slice(1).find(e=>e.includes(n)))return 0;{const s=e.slice(1).find(e=>{const t="linestart"===e[0],s=i.indexOf(n)<i.indexOf(e.slice(-1)[0]),l="lineend"===e.slice(-1)[0],r=i.indexOf(n)>i.indexOf(e[0]);return t&&s||l&&r});return s?1===t[s[0]].children.indexOf(s[1])?-1:1:0}}{const i=e.slice(1).find(e=>e.includes(n));return i?"linestart"!==i[0]&&"lineend"!==i.slice(-1)[0]?1===t[i[0]].children.indexOf(i[1])?1.2:-1.2:1===t[i[0]].children.indexOf(i[1])?1:-1:0}});const e=n=>{let e;const t=[];for(const i of n){if(e)if(i[1]===e[1])t.push("H"+i[0]);else{const n=(i[0]+e[0])/2-(0===e[1]?0:12);t.push("H"+n),i[1]>e[1]?(t.push("a6,6,0,0,1,6,6"),t.push("V"+(i[1]-6)),t.push("a6,6,0,0,0,6,6")):(t.push("a6,6,0,0,0,6,-6"),t.push("V"+(i[1]+6)),t.push("a6,6,0,0,1,6,-6")),t.push("H"+i[0])}else t.push("M"+i.join(","));e=i}return t.join(" ").replace(/( H([\d.]+))+/g," H$2")},i=n("l",(n,e)=>{let t=0;const{transfer:i}=n[e],s=i.groups.map(n=>{var e;return(null===(e=n.lines)||void 0===e?void 0:e.length)||0});return"l"===i.tick_direc&&(!s[1]&&s[0]>1&&(t+=.4),!s[1]||1===s[0]&&2===s[1]||(t+=.4)),1===s[0]&&2===s[1]&&"linestart"!==n[e].parents[0]&&"lineend"!==n[e].children[0]&&(t+=.8),2===n[e].parents.length&&(t+=.2),2===n[n[e].parents[0]].children.length&&(t+=.4),t}),s=n("r",(n,e)=>{let t=0;const{transfer:i}=n[e],s=i.groups.map(n=>{var e;return(null===(e=n.lines)||void 0===e?void 0:e.length)||0});return"r"===i.tick_direc&&(!s[1]&&s[0]>1&&(t+=.4),!s[1]||1===s[0]&&2===s[1]||(t+=.4)),1===s[0]&&2===s[1]&&"linestart"!==n[e].parents[0]&&"lineend"!==n[e].children[0]&&(t+=.8),2===n[e].children.length&&(t+=.2),2===n[n[e].children[0]].parents.length&&(t+=.4),t});class l extends t{constructor(){super(...arguments),this.leftWideFactor=n=>i(this.stnList,n),this.rightWideFactor=n=>s(this.stnList,n)}static drawLine(n,t,i,s,l,r,h,a,c=0){const d={main:[],pass:[],sidingMain:[],sidingPass:[]};return n.forEach(u=>{const f="linestart"!==u[0]&&"lineend"!==u.slice(-1)[0];let p=(u=u.filter(n=>!["linestart","lineend"].includes(n))).filter(n=>t[n]>=0),g=u.filter(n=>t[n]<=0);1===p.length&&(g=u),0===p.filter(n=>-1!==g.indexOf(n)).length&&p.length&&(g[0]===u[0]?g.push(p[0]):p[0]===u[0]&&p[p.length-1]===u[u.length-1]&&g.length?(g=u,p=[]):g.unshift(p[p.length-1])),f?(d.sidingMain.push(e(p.map(n=>[l[n],r[n]]))),d.sidingPass.push(e(g.map(n=>[l[n],r[n]])))):(d.main.push(new this({stnList:i,criticalPath:a})._linePath(p,s,n,l,r,h,a,c)),d.pass.push(new this({stnList:i,criticalPath:a})._linePath(g,s,n,l,r,h,a,c)))}),d}}n("S",l),n("a",class extends l{static drawLine(n,e,t,i,s,l,r,h,a=0){const c={main:[],pass:[],sidingMain:[],sidingPass:[]};return n.forEach(d=>{let u=(d=d.filter(n=>!["linestart","lineend"].includes(n))).filter(n=>e[n]>=0),f=d.filter(n=>e[n]<=0);1===u.length&&(f=d),0===u.filter(n=>-1!==f.indexOf(n)).length&&u.length&&(f[0]===d[0]?f.push(u[0]):u[0]===d[0]&&u[u.length-1]===d[d.length-1]&&f.length?(f=d,u=[]):f.unshift(u[u.length-1])),c.main.push(new this({stnList:t,criticalPath:h})._linePath(u,i,n,s,l,r,h,a)),c.pass.push(new this({stnList:t,criticalPath:h})._linePath(f,i,n,s,l,r,h,a))}),c}})}}});
