System.register(["./react-legacy-wexXEtdT.js","./ag-grid-community-legacy-CFNcmYm4.js"],(function(e,t){"use strict";var r,s,n,a,o,l,c,u,i,d,p,h,m,f,g,C,y,v,w,R,E,S,b,P,M,k,F,x,A,D,B,I,O,G,T,N;return{setters:[e=>{r=e.d,s=e.a,n=e.b,a=e.e},e=>{o=e._,l=e.a,c=e.b,u=e.c,i=e.C,d=e.E,p=e.A,h=e.H,m=e.G,f=e.d,g=e.R,C=e.e,y=e.T,v=e.f,w=e.g,R=e.h,E=e.i,S=e.B,b=e.V,P=e.j,M=e.k,k=e.l,F=e.m,x=e.F,A=e.n,D=e.o,B=e.p,I=e.q,O=e.r,G=e.s,T=e.t,N=e.u}],execute:function(){var t=r.createContext({}),U=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();let a,o,l=!1;return n.then((e=>{l?t.destroyBean(e):(a=e,o=a.getGui(),r.appendChild(o),W(s,a))})),()=>{l=!0,a&&(o?.parentElement?.removeChild(o),t.destroyBean(a),s&&W(s,void 0))}},W=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},L=(...e)=>e.filter((e=>null!=e&&""!==e)).join(" "),H=class e{constructor(...e){this.classesMap={},e.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new e;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},j=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),V=r.version?.split(".")[0],$="16"===V||"17"===V,q=!1,K=(e,t)=>{$||!e||q?t():a.flushSync(t)};function _(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const s=[],n=[],a=new Map,o=new Map;for(let l=0;l<t.length;l++){const e=t[l];o.set(e.instanceId,e)}for(let l=0;l<e.length;l++){const t=e[l];a.set(t.instanceId,t),o.has(t.instanceId)&&s.push(t)}for(let l=0;l<t.length;l++){const e=t[l],r=e.instanceId;a.has(r)||n.push(e)}return s.length===e.length&&0===n.length?e:0===s.length&&n.length===t.length?t:0===s.length?n:0===n.length?s:[...s,...n]}var z=s.forwardRef(((e,n)=>{const{registry:a,context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(null),i=s.useRef(null),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),[m,f]=s.useState(),[g,C]=s.useState(),[y,v]=s.useState(),[w,R]=s.useState((()=>new H)),[E,S]=s.useState((()=>new H("ag-hidden"))),[b,P]=s.useState((()=>new H("ag-hidden"))),[M,k]=s.useState((()=>new H("ag-invisible")));s.useImperativeHandle(n,(()=>({refresh:()=>!1}))),s.useLayoutEffect((()=>U(m,l,u.current)),[m]);const F=s.useCallback((t=>{if(c.current=t,!t)return void(h.current=l.destroyBean(h.current));const r={setInnerRenderer:(e,t)=>{f(e),v(t)},setChildCount:e=>C(e),addOrRemoveCssClass:(e,t)=>R((r=>r.setClass(e,t))),setContractedDisplayed:e=>P((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>S((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>k((t=>t.setClass("ag-invisible",!e)))},s=a.createDynamicBean("groupCellRendererCtrl",!0);s&&(h.current=l.createBean(s),h.current.init(r,t,i.current,d.current,p.current,z,e))}),[]),x=s.useMemo((()=>`ag-cell-wrapper ${w.toString()}`),[w]),A=s.useMemo((()=>`ag-group-expanded ${E.toString()}`),[E]),D=s.useMemo((()=>`ag-group-contracted ${b.toString()}`),[b]),B=s.useMemo((()=>`ag-group-checkbox ${M.toString()}`),[M]),I=m&&m.componentFromFramework,O=I?m.componentClass:void 0,G=null==m&&null!=y,T=o(y,!0);return r.createElement("span",{className:x,ref:F,...e.colDef?{}:{role:h.current?.getCellAriaRole()}},r.createElement("span",{className:A,ref:d}),r.createElement("span",{className:D,ref:p}),r.createElement("span",{className:B,ref:i}),r.createElement("span",{className:"ag-group-value",ref:u},G&&r.createElement(r.Fragment,null,T),I&&r.createElement(O,{...m.params})),r.createElement("span",{className:"ag-group-child-count"},g))})),Q=z,Y=s.createContext({setMethods:()=>{}}),Z=s.memo((e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:a,setMethods:o}=e,[{key:l,...c},u]=s.useState(t);return s.useEffect((()=>{n((e=>u(e)))}),[]),r.createElement(Y.Provider,{value:{setMethods:o}},r.createElement(a,{key:l,...c}))})),J=0;function X(){return"agPortalKey_"+ ++J}var ee=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=X(),this.portalKey=X(),this.instanceCreated=this.isStatelessComponent()?p.resolve(!1):new p((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout((()=>this.callMethod(e,t)));const s=r[e];return s?s.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new p((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=n.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return s.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function te(e,t,r){e.forEach((e=>{const s=t[e];s&&(r[e]=s)}))}var re=class extends ee{constructor(){super(...arguments),this.awaitUpdateCallback=new p((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=Z}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new p((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,te(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new p((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},se=class extends re{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ne=class extends re{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ae=class extends re{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},oe=class extends re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function le(e,t){e.parentFilterInstance((r=>{(r.setModel(t)||p.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var ce=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){te(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),le(this.floatingFilterParams,e)}},ue=class extends re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),le(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},ie=class extends re{refresh(e){this.sourceParams=e,this.refreshProps()}},de=class extends re{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},pe=class extends re{refresh(e){this.sourceParams=e,this.refreshProps()}},he=class extends re{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},me=class extends re{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function fe(){c(231)}var ge=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,r)}))}}},Ce=s.memo((({ctrl:e})=>{const n=e.isAlive(),{context:a}=s.useContext(t),o=n?e.column.getColId():void 0,[l,c]=s.useState(),u=s.useRef(),p=s.useRef(null),h=s.useRef(null),m=s.useRef(null),f=s.useRef(),g=s.useRef();n&&!g.current&&(g.current=new i((()=>p.current)));const C=s.useCallback((t=>{if(p.current=t,u.current=t?a.createBean(new d):a.destroyBean(u.current),!t||!n)return;const r={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(e,t)=>g.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{p.current&&(e?P(p.current,e):M(p.current))},setUserCompDetails:e=>c(e),getUserCompInstance:()=>f.current||void 0};e.setComp(r,t,h.current,m.current,u.current);const s=e.getSelectAllGui();s&&(h.current?.insertAdjacentElement("afterend",s),u.current.addDestroyFunc((()=>s.remove())))}),[]);s.useLayoutEffect((()=>U(l,a,m.current,f)),[l]),s.useEffect((()=>{e.setDragSource(p.current)}),[l]);const y=s.useMemo((()=>!(!l?.componentFromFramework||!j(l.componentClass))),[l]),v=l&&l.componentFromFramework,w=l&&l.componentClass;return r.createElement("div",{ref:C,className:"ag-header-cell","col-id":o,role:"columnheader"},r.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),r.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&y&&r.createElement(w,{...l.params}),v&&!y&&r.createElement(w,{...l.params,ref:f})))})),ye=s.memo((({ctrl:e})=>{const{context:n,gos:a}=s.useContext(t),[o,l]=s.useState((()=>new H("ag-header-cell","ag-floating-filter"))),[c,u]=s.useState((()=>new H)),[i,h]=s.useState((()=>new H("ag-floating-filter-button","ag-hidden"))),[m,f]=s.useState("false"),[g,C]=s.useState(),[,y]=s.useState(1),v=s.useRef(),w=s.useRef(null),R=s.useRef(null),E=s.useRef(null),S=s.useRef(null),b=s.useRef(),P=s.useRef(),M=e=>{null!=e&&b.current&&b.current(e)},k=s.useCallback((t=>{if(w.current=t,v.current=t?n.createBean(new d):n.destroyBean(v.current),!t)return;P.current=new p((e=>{b.current=e}));const r={addOrRemoveCssClass:(e,t)=>l((r=>r.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>u((r=>r.setClass(e,t))),setButtonWrapperDisplayed:e=>{h((t=>t.setClass("ag-hidden",!e))),f(e?"false":"true")},setWidth:e=>{w.current&&(w.current.style.width=e)},setCompDetails:e=>C(e),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:e=>S.current?.appendChild(e)};e.setComp(r,t,S.current,R.current,v.current)}),[]);s.useLayoutEffect((()=>U(g,n,R.current,M)),[g]);const F=s.useMemo((()=>o.toString()),[o]),x=s.useMemo((()=>c.toString()),[c]),A=s.useMemo((()=>i.toString()),[i]),D=s.useMemo((()=>!!(g&&g.componentFromFramework&&j(g.componentClass))),[g]),B=s.useMemo((()=>a.get("reactiveCustomComponents")),[]),I=s.useMemo((()=>{if(g){if(B){const e=new ce(g.params,(()=>y((e=>e+1))));return M(e),e}g.componentFromFramework&&fe()}}),[g]),O=I?.getProps(),G=g&&g.componentFromFramework,T=g&&g.componentClass;return r.createElement("div",{ref:k,className:F,role:"gridcell"},r.createElement("div",{ref:R,className:x,role:"presentation"},G&&!B&&r.createElement(T,{...g.params,ref:D?()=>{}:M}),G&&B&&r.createElement(Y.Provider,{value:{setMethods:e=>I.setMethods(e)}},r.createElement(T,{...O}))),r.createElement("div",{ref:E,"aria-hidden":m,className:A,role:"presentation"},r.createElement("button",{ref:S,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),ve=s.memo((({ctrl:e})=>{const{context:n}=s.useContext(t),[a,o]=s.useState((()=>new H)),[l,c]=s.useState((()=>new H)),[u,i]=s.useState("false"),[p,h]=s.useState(),[m,f]=s.useState(),g=s.useMemo((()=>e.column.getUniqueId()),[]),C=s.useRef(),y=s.useRef(null),v=s.useRef(null),w=s.useRef(null),R=s.useRef(),E=s.useCallback((t=>{if(y.current=t,C.current=t?n.createBean(new d):n.destroyBean(C.current),!t)return;const r={setWidth:e=>{y.current&&(y.current.style.width=e)},addOrRemoveCssClass:(e,t)=>o((r=>r.setClass(e,t))),setHeaderWrapperHidden:e=>{const t=w.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=w.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>f(e),setResizableDisplayed:e=>{c((t=>t.setClass("ag-hidden",!e))),i(e?"false":"true")},setAriaExpanded:e=>h(e),getUserCompInstance:()=>R.current||void 0};e.setComp(r,t,v.current,w.current,C.current)}),[]);s.useLayoutEffect((()=>U(m,n,w.current)),[m]),s.useEffect((()=>{y.current&&e.setDragSource(y.current)}),[m]);const S=s.useMemo((()=>!(!m?.componentFromFramework||!j(m.componentClass))),[m]),b=s.useMemo((()=>"ag-header-group-cell "+a.toString()),[a]),P=s.useMemo((()=>"ag-header-cell-resize "+l.toString()),[l]),M=m&&m.componentFromFramework,k=m&&m.componentClass;return r.createElement("div",{ref:E,className:b,"col-id":g,role:"columnheader","aria-expanded":p},r.createElement("div",{ref:w,className:"ag-header-cell-comp-wrapper",role:"presentation"},M&&S&&r.createElement(k,{...m.params}),M&&!S&&r.createElement(k,{...m.params,ref:R})),r.createElement("div",{ref:v,"aria-hidden":u,className:P}))})),we=s.memo((({ctrl:e})=>{const{context:n}=s.useContext(t),{topOffset:a,rowHeight:o}=s.useMemo((()=>e.getTopAndHeight()),[]),l=e.getAriaRowIndex(),c=e.headerRowClass,[u,i]=s.useState((()=>o+"px")),[p,h]=s.useState((()=>a+"px")),m=s.useRef(null),f=s.useRef(null),[g,C]=s.useState((()=>e.getHeaderCtrls())),y=s.useRef(),v=s.useRef(null),w=s.useCallback((t=>{if(v.current=t,y.current=t?n.createBean(new d):n.destroyBean(y.current),!t)return;const r={setHeight:e=>i(e),setTop:e=>h(e),setHeaderCtrls:(e,t,r)=>{f.current=m.current,m.current=e;const s=_(f.current,e,t);s!==f.current&&K(r,(()=>C(s)))},setWidth:e=>{v.current&&(v.current.style.width=e)}};e.setComp(r,y.current,!1)}),[]),R=s.useMemo((()=>({height:u,top:p})),[u,p]),E=s.useCallback((t=>{switch(e.type){case"group":return r.createElement(ve,{ctrl:t,key:t.instanceId});case"filter":return r.createElement(ye,{ctrl:t,key:t.instanceId});default:return r.createElement(Ce,{ctrl:t,key:t.instanceId})}}),[]);return r.createElement("div",{ref:w,className:c,role:"row",style:R,"aria-rowindex":l},g.map(E))})),Re=s.memo((({pinned:e})=>{const[n,a]=s.useState(!0),[o,l]=s.useState([]),{context:c}=s.useContext(t),u=s.useRef(null),i=s.useRef(null),d=s.useRef(),p="left"===e,m="right"===e,f=!p&&!m,g=s.useCallback((t=>{if(u.current=t,d.current=t?c.createBean(new h(e)):c.destroyBean(d.current),!t)return;const r={setDisplayed:a,setCtrls:e=>l(e),setCenterWidth:e=>{i.current&&(i.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};d.current.setComp(r,u.current)}),[]),C=n?"":"ag-hidden",y=()=>o.map((e=>r.createElement(we,{ctrl:e,key:e.instanceId})));return r.createElement(r.Fragment,null,p&&r.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),m&&r.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),f&&r.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},r.createElement("div",{ref:i,className:"ag-header-container",role:"rowgroup"},y())))})),Ee=s.memo((()=>{const[e,n]=s.useState((()=>new H)),[a,o]=s.useState(),{context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(),i=s.useCallback((e=>{if(c.current=e,u.current=e?l.createBean(new m):l.destroyBean(u.current),!e)return;const t={addOrRemoveCssClass:(e,t)=>n((r=>r.setClass(e,t))),setHeightAndMinHeight:e=>o(e)};u.current.setComp(t,e,e)}),[]),d=s.useMemo((()=>"ag-header "+e.toString()),[e]),p=s.useMemo((()=>({height:a,minHeight:a})),[a]);return r.createElement("div",{ref:i,className:d,style:p,role:"presentation"},r.createElement(Re,{pinned:"left"}),r.createElement(Re,{pinned:null}),r.createElement(Re,{pinned:"right"}))})),Se=(e,t)=>{s.useEffect((()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const s=document.createComment(e);return t.insertBefore(s,r),()=>{t.removeChild(s)}}}}),[e])},be=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new p((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){te(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Pe=s.memo((e=>{const[a,o]=s.useState(),{context:l,popupSvc:c,localeSvc:u,gos:i,editSvc:d}=s.useContext(t);return(e=>{const t=s.useRef(e),r=s.useRef(),n=s.useRef(!1),a=s.useRef(!1),[,o]=s.useState(0);n.current&&(a.current=!0),s.useEffect((()=>(n.current||(r.current=t.current(),n.current=!0),o((e=>e+1)),()=>{a.current&&r.current?.()})),[])})((()=>{const{editDetails:t,cellCtrl:r,eParentCell:s}=e,{compDetails:n}=t,a=i.get("stopEditingWhenCellsLoseFocus"),p=l.createBean(d.createPopupEditorWrapper(n.params)),h=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&h.appendChild(t)}const{column:m,rowNode:f}=r,g={column:m,rowNode:f,type:"popupCellEditor",eventSource:s,ePopup:h,position:t.popupPosition,keepWithinBounds:!0},C=c?.positionPopupByComponent.bind(c,g),y=k(u),v=c?.addPopup({modal:a,eChild:h,closeOnEsc:!0,closedCallback:()=>{r.onPopupEditorClosed()},anchorToElement:s,positionCallback:C,ariaLabel:y("ariaLabelCellEditor","Cell Editor")}),w=v?v.hideFunc:void 0;return o(p),e.jsChildComp?.afterGuiAttached?.(),()=>{w?.(),l.destroyBean(p)}})),r.createElement(r.Fragment,null,a&&e.wrappedContent&&n.createPortal(e.wrappedContent,a.getGui()))})),Me=(e,r,n,a,o,l)=>{const{context:c}=s.useContext(t),u=s.useCallback((()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),o.current=void 0}),[]);s.useEffect((()=>{const t=null!=e,s=e?.compDetails&&!e.compDetails.componentFromFramework;if(!t||!s||r&&null==n)return void u();const a=e.compDetails;if(o.current){const t=o.current,r=!(null==t.refresh||0!=e.force)&&t.refresh(a.params);if(!0===r||void 0===r)return;u()}a.newAgStackInstance().then((e=>{if(!e)return;const t=e.getGui();t&&((r?n:l.current).appendChild(t),o.current=e)}))}),[e,r,a]),s.useEffect((()=>u),[])},ke=(e,t,s)=>{const n=e.compProxy;return r.createElement(r.Fragment,null,n?((e,t,s)=>{const{compProxy:n}=e;s(n);const a=n.getProps(),o=j(t);return r.createElement(Y.Provider,{value:{setMethods:e=>n.setMethods(e)}},o?r.createElement(t,{...a}):r.createElement(t,{...a,ref:e=>n.setRef(e)}))})(e,t,s):r.createElement(t,{...e.compDetails.params,ref:s}))},Fe=s.memo((({cellCtrl:e,printLayout:n,editingRow:a})=>{const{context:o}=s.useContext(t),{colIdSanitised:l,instanceId:c}=e,u=s.useRef(),[p,h]=s.useState((()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1})),[m,f]=s.useState(),[g,C]=s.useState(1),[y,v]=s.useState(),[w,R]=s.useState(!1),[E,S]=s.useState(!1),[b,P]=s.useState(!1),[M,k]=s.useState(),x=s.useMemo((()=>e.isForceWrapper()),[e]),A=s.useMemo((()=>e.getCellAriaRole()),[e]),D=s.useRef(null),B=s.useRef(null),I=s.useRef(),O=s.useRef(),G=s.useRef(),T=s.useRef([]),N=s.useRef(),[U,W]=s.useState(0),L=s.useCallback((e=>{N.current=e,W((e=>e+1))}),[]),H=x||null!=p&&(w||b||E),V=s.useCallback((t=>{if(O.current=t,t){const r=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout((()=>{r?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()}))}}),[e]),$=s.useRef();$.current||($.current=new i((()=>D.current))),Me(p,H,N.current,U,I,D);const q=s.useRef();s.useLayoutEffect((()=>{const e=q.current,t=p;if(q.current=p,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const r=e.compDetails,s=t.compDetails;r.componentClass==s.componentClass&&null!=B.current?.refresh&&1!=B.current.refresh(s.params)&&C((e=>e+1))}),[p]),s.useLayoutEffect((()=>{if(!m||m.compDetails.componentFromFramework)return;const e=m.compDetails,t=!0===m.popup,r=e.newAgStackInstance();return r.then((e=>{if(!e)return;const r=e.getGui();if(V(e),!t){const t=(x?G:D).current;t?.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}k(e)})),()=>{r.then((e=>{const t=e.getGui();o.destroyBean(e),V(void 0),k(void 0),t?.parentElement?.removeChild(t)}))}}),[m]);const K=s.useCallback((t=>{if(G.current=t,!t)return T.current.forEach((e=>e())),void(T.current=[]);const r=e=>{if(e){const r=e.getGui();t.insertAdjacentElement("afterbegin",r),T.current.push((()=>{o.destroyBean(e),F(r)}))}return e};w&&r(e.createSelectionCheckbox()),b&&r(e.createDndSource()),E&&r(e.createRowDragComp())}),[e,o,b,E,w]),_=s.useCallback((t=>{if(D.current=t,u.current=t?o.createBean(new d):o.destroyBean(u.current),!t||!e)return;const r={addOrRemoveCssClass:(e,t)=>$.current.addOrRemoveCssClass(e,t),setUserStyles:e=>v(e),getFocusableElement:()=>D.current,setIncludeSelection:e=>R(e),setIncludeRowDrag:e=>S(e),setIncludeDndSource:e=>P(e),getCellEditor:()=>O.current||null,getCellRenderer:()=>B.current??I.current,getParentOfValue:()=>N.current??G.current??D.current,setRenderDetails:(e,t,r)=>{h((s=>s?.compDetails!==e||s?.value!==t||s?.force!==r?{value:t,compDetails:e,force:r}:s))},setEditDetails:(e,t,r,s)=>{if(e){let n;s?n=new be(e.params,(()=>C((e=>e+1)))):e.componentFromFramework&&fe(),f({compDetails:e,popup:t,popupPosition:r,compProxy:n}),t||h(void 0)}else f((e=>{e?.compProxy&&(O.current=void 0)}))}},s=G.current||void 0;e.setComp(r,t,s,n,a,u.current)}),[]),z=s.useMemo((()=>!(!p?.compDetails?.componentFromFramework||!j(p.compDetails.componentClass))),[p]);s.useLayoutEffect((()=>{D.current&&($.current.addOrRemoveCssClass("ag-cell-value",!H),$.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),$.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),$.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&D.current.focus({preventScroll:!0}))}));const Q=()=>r.createElement(r.Fragment,null,null!=p&&((e,t,s,n,a,o,l)=>{const{compDetails:c,value:u}=e,i=!c,d=c&&c.componentFromFramework,p=c&&c.componentClass,h=u?.toString?u.toString():u,m=()=>r.createElement(r.Fragment,null,i&&r.createElement(r.Fragment,null,h),d&&!o&&r.createElement(p,{...c.params,key:t,ref:n}),d&&o&&r.createElement(p,{...c.params,key:t}));return r.createElement(r.Fragment,null,a?r.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:l},m()):m())})(p,g,c,B,H,z,L),null!=m&&((e,t,s,n,a)=>{const o=e.compDetails,l=o.componentClass,c=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,i=!o.componentFromFramework&&e.popup;return r.createElement(r.Fragment,null,c&&ke(e,l,t),u&&r.createElement(Pe,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:ke(e,l,t)}),i&&a&&r.createElement(Pe,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))})(m,V,D.current,e,M)),Y=s.useCallback((()=>e.onFocusOut()),[]);return r.createElement("div",{ref:_,style:y,role:A,"col-id":l,onBlur:Y},H?r.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:K},Q()):Q())})),xe=s.memo((({rowCtrl:e,containerType:n})=>{const{context:a,gos:o}=s.useContext(t),l=s.useRef(),c=s.useRef(e.getDomOrder()),u=e.isFullWidth(),p=e.rowNode.displayed,[h,m]=s.useState((()=>p?e.rowNode.getRowIndexString():null)),[f,g]=s.useState((()=>e.rowId)),[C,y]=s.useState((()=>e.businessKey)),[v,w]=s.useState((()=>e.rowStyles)),R=s.useRef(null),E=s.useRef(null),[S,b]=s.useState((()=>null)),[P,M]=s.useState(),[k,F]=s.useState((()=>p?e.getInitialRowTop(n):void 0)),[x,A]=s.useState((()=>p?e.getInitialTransform(n):void 0)),D=s.useRef(null),B=s.useRef(),I=s.useRef(!1),[O,G]=s.useState(0);s.useEffect((()=>{if(I.current||!P||O>10)return;const t=D.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),I.current=!0):G((e=>e+1))}),[P,O]);const T=s.useRef();T.current||(T.current=new i((()=>D.current)));const N=s.useCallback((t=>{if(D.current=t,l.current=t?a.createBean(new d):a.destroyBean(l.current),!t)return void e.unsetComp(n);if(!e.isAlive())return;const r={setTop:F,setTransform:A,addOrRemoveCssClass:(e,t)=>T.current.addOrRemoveCssClass(e,t),setDomOrder:e=>c.current=e,setRowIndex:m,setRowId:g,setRowBusinessKey:y,setUserStyles:w,setCellCtrls:(e,t)=>{E.current=R.current,R.current=e;const r=_(E.current,e,c.current);r!==E.current&&K(t,(()=>b(r)))},showFullWidth:e=>M(e),getFullWidthCellRenderer:()=>B.current,refreshFullWidth:e=>$.current?(M((t=>({...t,params:e()}))),!0):!(!B.current||!B.current.refresh)&&B.current.refresh(e())};e.setComp(r,t,n,l.current)}),[]);s.useLayoutEffect((()=>U(P,a,D.current,B)),[P]);const W=s.useMemo((()=>{const e={top:k,transform:x};return Object.assign(e,v),e}),[k,x,v]),L=u&&P?.componentFromFramework,H=!u&&null!=S,V=s.useMemo((()=>!(!P?.componentFromFramework||!j(P.componentClass))),[P]),$=s.useRef(!1);return s.useEffect((()=>{$.current=V&&!!P&&!!o.get("reactiveCustomComponents")}),[V,P]),r.createElement("div",{ref:N,role:"row",style:W,"row-index":h,"row-id":f,"row-business-key":C},H&&S?.map((t=>r.createElement(Fe,{cellCtrl:t,editingRow:e.editing,printLayout:e.printLayout,key:t.instanceId}))),L&&(()=>{const e=P.componentClass;return r.createElement(r.Fragment,null,V?r.createElement(e,{...P.params}):r.createElement(e,{...P.params,ref:B}))})())})),Ae=s.memo((({name:e})=>{const{context:n}=s.useContext(t),a=s.useMemo((()=>f(e)),[e]),o=s.useRef(null),l=s.useRef(null),c=s.useRef([]),u=s.useRef([]),[i,d]=s.useState((()=>[])),p=s.useRef(!1),h=s.useRef(),m=s.useMemo((()=>L(a.viewport)),[a]),C=s.useMemo((()=>L(a.container)),[a]),y="center"===a.type;Se(" AG Row Container "+e+" ",y?o:l);const v=s.useCallback((()=>y?null!=o.current&&null!=l.current:null!=l.current),[]),w=s.useCallback((()=>y?null==o.current&&null==l.current:null==l.current),[]),R=s.useCallback((()=>{if(w()&&(h.current=n.destroyBean(h.current)),v()){const t=e=>{const t=_(u.current,c.current,p.current);t!==u.current&&(u.current=t,K(e,(()=>d(t))))},r={setHorizontalScroll:e=>{o.current&&(o.current.scrollLeft=e)},setViewportHeight:e=>{o.current&&(o.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:r})=>{const s=!!r&&c.current.length>0&&e.length>0;c.current=e,t(s)},setDomOrder:e=>{p.current!=e&&(p.current=e,t(!1))},setContainerWidth:e=>{l.current&&(l.current.style.width=e)},setOffsetTop:e=>{l.current&&(l.current.style.transform=`translateY(${e})`)}};h.current=n.createBean(new g(e)),h.current.setComp(r,l.current,o.current)}}),[v,w]),E=s.useCallback((e=>{l.current=e,R()}),[R]),S=s.useCallback((e=>{o.current=e,R()}),[R]),b=()=>r.createElement("div",{className:C,ref:E,role:"rowgroup"},i.map((e=>r.createElement(xe,{rowCtrl:e,containerType:a.type,key:e.instanceId}))));return r.createElement(r.Fragment,null,y?r.createElement("div",{className:m,ref:S,role:"presentation"},b()):b())})),De=s.memo((()=>{const e=s.useContext(t),{context:n,overlays:a}=e,[o,l]=s.useState(""),[c,d]=s.useState(0),[p,h]=s.useState(0),[m,f]=s.useState("0px"),[g,y]=s.useState("0px"),[v,w]=s.useState("100%"),[R,E]=s.useState("0px"),[S,b]=s.useState("0px"),[P,M]=s.useState("100%"),[k,F]=s.useState(""),[I,O]=s.useState(""),[G,T]=s.useState(null),[N,U]=s.useState(""),[W,H]=s.useState(null),[j,V]=s.useState("ag-layout-normal"),$=s.useRef();$.current||($.current=new i((()=>q.current)));const q=s.useRef(null),K=s.useRef(null),_=s.useRef(null),z=s.useRef(null),Q=s.useRef(null),Y=s.useRef(null),Z=s.useRef(null),J=s.useRef([]),X=s.useRef([]);Se(" AG Grid Body ",q),Se(" AG Pinned Top ",K),Se(" AG Sticky Top ",_),Se(" AG Middle ",Y),Se(" AG Pinned Bottom ",Z);const ee=s.useCallback((t=>{if(q.current=t,!t)return J.current=n.destroyBeans(J.current),X.current.forEach((e=>e())),void(X.current=[]);if(!n)return;const r=(e,t)=>{e.appendChild(t),X.current.push((()=>e.removeChild(t)))},s=(e,t,s)=>{r(e,document.createComment(s)),r(e,(e=>{const t=n.createBean(new e);return J.current.push(t),t})(t).getGui())};s(t,x," AG Fake Horizontal Scroll ");const o=a?.getOverlayWrapperCompClass();o&&s(t,o," AG Overlay Wrapper "),Q.current&&s(Q.current,A," AG Fake Vertical Scroll ");const c={setRowAnimationCssOnBodyViewport:l,setColumnCount:e=>{q.current&&D(q.current,e)},setRowCount:e=>{q.current&&B(q.current,e)},setTopHeight:d,setBottomHeight:h,setStickyTopHeight:f,setStickyTopTop:y,setStickyTopWidth:w,setTopDisplay:F,setBottomDisplay:O,setColumnMovingCss:(e,t)=>$.current.addOrRemoveCssClass(e,t),updateLayoutClasses:V,setAlwaysVerticalScrollClass:T,setPinnedTopBottomOverflowY:U,setCellSelectableCss:(e,t)=>H(t?e:null),setBodyViewportWidth:e=>{Y.current&&(Y.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(Y.current){const r=u(e,Y.current,t);X.current.push((()=>r()))}},setStickyBottomHeight:E,setStickyBottomBottom:b,setStickyBottomWidth:M,setGridRootRole:e=>t.setAttribute("role",e)},i=n.createBean(new C);J.current.push(i),i.setComp(c,t,Y.current,K.current,Z.current,_.current,z.current)}),[]),te=s.useMemo((()=>L("ag-root","ag-unselectable",j)),[j]),re=s.useMemo((()=>L("ag-body-viewport",o,j,G,W)),[o,j,G,W]),se=s.useMemo((()=>L("ag-body",j)),[j]),ne=s.useMemo((()=>L("ag-floating-top",W)),[W]),ae=s.useMemo((()=>L("ag-sticky-top",W)),[W]),oe=s.useMemo((()=>L("ag-sticky-bottom","0px"===R?"ag-hidden":null,W)),[W,R]),le=s.useMemo((()=>L("ag-floating-bottom",W)),[W]),ce=s.useMemo((()=>({height:c,minHeight:c,display:k,overflowY:N})),[c,k,N]),ue=s.useMemo((()=>({height:m,top:g,width:v})),[m,g,v]),ie=s.useMemo((()=>({height:R,bottom:S,width:P})),[R,S,P]),de=s.useMemo((()=>({height:p,minHeight:p,display:I,overflowY:N})),[p,I,N]),pe=e=>r.createElement(Ae,{name:e,key:`${e}-container`}),he=({section:e,children:t,className:s,style:n})=>r.createElement("div",{ref:e,className:s,role:"presentation",style:n},t.map(pe));return r.createElement("div",{ref:ee,className:te},r.createElement(Ee,null),he({section:K,className:ne,style:ce,children:["topLeft","topCenter","topRight","topFullWidth"]}),r.createElement("div",{className:se,ref:Q,role:"presentation"},he({section:Y,className:re,children:["left","center","right","fullWidth"]})),he({section:_,className:ae,style:ue,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),he({section:z,className:oe,style:ie,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),he({section:Z,className:le,style:de,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),Be=s.forwardRef(((e,n)=>{const{children:a,eFocusableElement:o,onTabKeyDown:l,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u}=e,{context:i}=s.useContext(t),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),m=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,p].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};s.useImperativeHandle(n,(()=>({forceFocusOutOfContainer(e){h.current?.forceFocusOutOfContainer(e)}})));const f=s.useCallback((()=>{const e=d.current,t=p.current;if(e||t){if(e&&t){const r={setTabIndex:m};h.current=i.createBean(new y({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:o,onTabKeyDown:l,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>c.focusInnerElement(e)}))}}else h.current=i.destroyBean(h.current)}),[]),g=s.useCallback((e=>{d.current=e,f()}),[f]),C=s.useCallback((e=>{p.current=e,f()}),[f]),v=e=>{const t="top"===e?I.TAB_GUARD_TOP:I.TAB_GUARD_BOTTOM;return r.createElement("div",{className:`${I.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?g:C})};return r.createElement(r.Fragment,null,v("top"),a,v("bottom"))})),Ie=s.memo(Be),Oe=s.memo((({context:e})=>{const[n,a]=s.useState(""),[o,l]=s.useState(""),[c,u]=s.useState(null),[i,d]=s.useState(null),[p,h]=s.useState(!1),[m,f]=s.useState(),g=s.useRef(),C=s.useRef(null),y=s.useRef(),[w,R]=s.useState(null),E=s.useRef((()=>{})),S=s.useRef(),b=s.useRef([]),P=s.useCallback((()=>{}),[]),M=s.useMemo((()=>e.isDestroyed()?null:e.getBeans()),[e]);Se(" AG Grid ",C);const k=s.useCallback((t=>{if(C.current=t,g.current=t?e.createBean(new v):e.destroyBean(g.current),!t||e.isDestroyed())return;const r=g.current;E.current=r.focusInnerElement.bind(r);const s={destroyGridUi:()=>{},setRtlClass:a,forceFocusOutOfContainer:e=>{e||!S.current?.isDisplayed()?y.current?.forceFocusOutOfContainer(e):S.current.forceFocusOutOfContainer(e)},updateLayoutClasses:l,getFocusableContainers:()=>{const e=[],t=C.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),b.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:u,setUserSelect:d};r.setComp(s,t,t),h(!0)}),[]);s.useEffect((()=>{const t=g.current,r=C.current;if(!(m&&M&&t&&w&&r))return;const s=[],{watermarkSelector:n,paginationSelector:a,sideBarSelector:o,statusBarSelector:l,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),u=[];if(c){const t=e.createBean(new c.component),n=t.getGui();r.insertAdjacentElement("afterbegin",n),u.push(n),s.push(t)}if(o){const t=e.createBean(new o.component),r=t.getGui(),n=w.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),s.push(t),b.current.push(t)}const i=t=>{const n=e.createBean(new t),a=n.getGui();return r.insertAdjacentElement("beforeend",a),u.push(a),s.push(n),n};if(l&&i(l.component),a){const e=i(a.component);S.current=e,b.current.push(e)}return n&&i(n.component),()=>{e.destroyBeans(s),u.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[m,w,M]);const F=s.useMemo((()=>L("ag-root-wrapper",n,o)),[n,o]),x=s.useMemo((()=>L("ag-root-wrapper-body","ag-focus-managed",o)),[o]),A=s.useMemo((()=>({userSelect:null!=i?i:"",WebkitUserSelect:null!=i?i:"",cursor:null!=c?c:""})),[i,c]),D=s.useCallback((e=>{y.current=e,f(null!==e)}),[]);return r.createElement("div",{ref:k,className:F,style:A,role:"presentation"},r.createElement("div",{className:x,ref:R,role:"presentation"},p&&w&&M&&r.createElement(t.Provider,{value:M},r.createElement(Ie,{ref:D,eFocusableElement:w,onTabKeyDown:P,gridCtrl:g.current,forceFocusOutWhenTabGuardsAreEmpty:!0},r.createElement(De,null)))))})),Ge=class extends N{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},Te=new Set(Object.keys({gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0})),Ne=e=>{const t=s.useRef(),n=s.useRef(null),a=s.useRef(null),o=s.useRef([]),l=s.useRef([]),c=s.useRef(e),u=s.useRef(),i=s.useRef(),d=s.useRef(!1),[p,h]=s.useState(void 0),[,m]=s.useState(0),f=s.useCallback((r=>{if(n.current=r,!r)return o.current.forEach((e=>e())),void(o.current.length=0);const s=e.modules||[];a.current||(a.current=new ge((()=>m((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push((()=>{a.current?.destroy(),a.current=null})));const c=w(e.gridOptions,e,Object.keys(e).filter((e=>!Te.has(e)))),p=new Le((()=>{if(d.current){const e=()=>u.current?.shouldQueueUpdates()?void 0:l.current.shift();let t=e();for(;t;)t(),t=e()}}));u.current=p;const f=new Ge,g={providedBeanInstances:{frameworkCompWrapper:new Ue(a.current,c.reactiveCustomComponents??R("reactiveCustomComponents")??!0),renderStatus:f},modules:s,frameworkOverrides:p,setThemeOnGridDiv:!0},C=new O;c.gridId??(c.gridId=i.current),t.current=C.create(r,c,(r=>{h(r),r.createBean(f),o.current.push((()=>{r.destroy()})),r.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{if(r.isDestroyed())return;const s=t.current;s&&e.setGridApi?.(s)}))}),(e=>{e.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{l.current.forEach((e=>e())),l.current.length=0,d.current=!0}))}),g),o.current.push((()=>{t.current=void 0})),t.current&&(i.current=t.current.getGridId())}),[]),g=s.useMemo((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),C=s.useCallback((e=>{d.current&&!u.current?.shouldQueueUpdates()?e():l.current.push(e)}),[]);return s.useEffect((()=>{const r=function(e,t){const r={};return Object.keys(t).forEach((s=>{if(Te.has(s))return;const n=t[s];e[s]!==n&&(r[s]=n)})),r}(c.current,e);c.current=e,C((()=>{t.current&&E(r,t.current)}))}),[e]),r.createElement("div",{style:g,className:e.className,ref:f},p&&!p.isDestroyed()?r.createElement(Oe,{context:p}):null,a.current?.getPortals()??null)},Ue=class extends S{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return oe;case"floatingFilterComponent":return ue;case"dateComponent":return ne;case"dragAndDropImageComponent":return ae;case"loadingOverlayComponent":return ie;case"noRowsOverlayComponent":return pe;case"statusPanel":return he;case"toolPanel":return me;case"menuItem":return de;case"cellRenderer":return se}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":fe()}const r=!t.cellRenderer&&"toolPanel"!==t.name;return new ee(e,this.parent,t,r)}},We=s.forwardRef(((e,n)=>{const a=s.useContext(t),{registry:o,context:i,gos:d,rowModel:p}=a,[h,m]=s.useState((()=>new H)),[f,g]=s.useState((()=>new H)),[C,y]=s.useState(),[v,w]=s.useState(),R=s.useRef(),E=s.useRef(null),S=s.useRef(),b=s.useMemo((()=>l(e.api.getGridId(),C?.rowModelType??"clientSide")),[e]),P=s.useMemo((()=>h.toString()+" ag-details-row"),[h]),M=s.useMemo((()=>f.toString()+" ag-details-grid"),[f]);n&&s.useImperativeHandle(n,(()=>({refresh:()=>R.current?.refresh()??!1}))),e.template&&c(230);const k=s.useCallback((t=>{if(E.current=t,!t)return R.current=i.destroyBean(R.current),void S.current?.();const r={addOrRemoveCssClass:(e,t)=>m((r=>r.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>g((r=>r.setClass(e,t))),setDetailGrid:e=>y(e),setRowData:e=>w(e),getGui:()=>E.current},s=o.createDynamicBean("detailCellRendererCtrl",!0);if(s&&(i.createBean(s),s.init(r,e),R.current=s,d.get("detailRowAutoHeight"))){const r=()=>{if(null==E.current)return;const t=E.current.clientHeight;null!=t&&t>0&&setTimeout((()=>{e.node.setRowHeight(t),(G(d)||T(d))&&p.onRowHeightChanged()}),0)};S.current=u(a,t,r),r()}}),[]),F=s.useCallback((e=>{R.current?.registerDetailWithMaster(e)}),[]);return r.createElement("div",{className:P,ref:k},C&&r.createElement(Ne,{className:M,...C,modules:b,rowData:v,setGridApi:F}))})),Le=class extends b{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Q,agGroupRowRenderer:Q,agDetailCellRenderer:We},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,q||setTimeout((()=>q=!1),0),q=!0,r()):e();var r},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===V}};e("A",class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return r.createElement(Ne,{...this.props,setGridApi:this.setGridApi})}})}}}));
