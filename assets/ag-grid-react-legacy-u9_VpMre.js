System.register(["./react-legacy-WhMi1wIo.js","./ag-grid-community-legacy-DFxAsmCD.js"],(function(e,t){"use strict";var r,s,n,a,o,l,c,u,i,d,p,h,m,f,g,C,y,v,R,w,S,E,P,b,M,k,F,x,A,I,D,B,O,G,T,N;return{setters:[e=>{r=e.d,s=e.a,n=e.b,a=e.e},e=>{o=e._,l=e.M,c=e.a,u=e.C,i=e.E,d=e.A,p=e.H,h=e.b,m=e.G,f=e.c,g=e.R,C=e.d,y=e.T,v=e.e,R=e.f,w=e.g,S=e.h,E=e.B,P=e.V,b=e.i,M=e.j,k=e.k,F=e.F,x=e.O,A=e.l,I=e.m,D=e.n,B=e.o,O=e.p,G=e.q,T=e.r,N=e.s}],execute:function(){var t=r.createContext({}),U=(e,t,r,s)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const n=e.newAgStackInstance();if(null==n)return;let a,o,l=!1;return n.then((e=>{l?t.destroyBean(e):(a=e,o=a.getGui(),r.appendChild(o),L(s,a))})),()=>{l=!0,a&&(o?.parentElement?.removeChild(o),t.destroyBean(a),s&&L(s,void 0))}},L=(e,t)=>{e&&(e instanceof Function?e(t):e.current=t)},W=(...e)=>e.filter((e=>null!=e&&""!==e)).join(" "),H=class e{constructor(...e){this.classesMap={},e.forEach((e=>{this.classesMap[e]=!0}))}setClass(t,r){if(!!this.classesMap[t]==r)return this;const s=new e;return s.classesMap={...this.classesMap},s.classesMap[t]=r,s}toString(){return Object.keys(this.classesMap).filter((e=>this.classesMap[e])).join(" ")}},j=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),V=r.version?.split(".")[0],$="16"===V||"17"===V,_=!1,z=(e,t)=>{$||!e||_?t():a.flushSync(t)};function K(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const s=[],n=[],a=new Map,o=new Map;for(let l=0;l<t.length;l++){const e=t[l];o.set(e.instanceId,e)}for(let l=0;l<e.length;l++){const t=e[l];a.set(t.instanceId,t),o.has(t.instanceId)&&s.push(t)}for(let l=0;l<t.length;l++){const e=t[l],r=e.instanceId;a.has(r)||n.push(e)}return s.length===e.length&&0===n.length?e:0===s.length&&n.length===t.length?t:0===s.length?n:0===n.length?s:[...s,...n]}var q=s.forwardRef(((e,n)=>{const{ctrlsFactory:a,context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(null),i=s.useRef(null),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),[m,f]=s.useState(),[g,C]=s.useState(),[y,v]=s.useState(),[R,w]=s.useState((()=>new H)),[S,E]=s.useState((()=>new H("ag-hidden"))),[P,b]=s.useState((()=>new H("ag-hidden"))),[M,k]=s.useState((()=>new H("ag-invisible")));s.useImperativeHandle(n,(()=>({refresh:()=>!1}))),s.useLayoutEffect((()=>U(m,l,u.current)),[m]);const F=s.useCallback((t=>{if(c.current=t,!t)return void(h.current=l.destroyBean(h.current));const r={setInnerRenderer:(e,t)=>{f(e),v(t)},setChildCount:e=>C(e),addOrRemoveCssClass:(e,t)=>w((r=>r.setClass(e,t))),setContractedDisplayed:e=>b((t=>t.setClass("ag-hidden",!e))),setExpandedDisplayed:e=>E((t=>t.setClass("ag-hidden",!e))),setCheckboxVisible:e=>k((t=>t.setClass("ag-invisible",!e)))},s=a.getInstance("groupCellRendererCtrl");s&&(h.current=l.createBean(s),h.current.init(r,t,i.current,d.current,p.current,q,e))}),[]),x=s.useMemo((()=>`ag-cell-wrapper ${R.toString()}`),[R]),A=s.useMemo((()=>`ag-group-expanded ${S.toString()}`),[S]),I=s.useMemo((()=>`ag-group-contracted ${P.toString()}`),[P]),D=s.useMemo((()=>`ag-group-checkbox ${M.toString()}`),[M]),B=m&&m.componentFromFramework,O=B?m.componentClass:void 0,G=null==m&&null!=y,T=o(y,!0);return r.createElement("span",{className:x,ref:F,...e.colDef?{}:{role:h.current?.getCellAriaRole()}},r.createElement("span",{className:A,ref:d}),r.createElement("span",{className:I,ref:p}),r.createElement("span",{className:D,ref:i}),r.createElement("span",{className:"ag-group-value",ref:u},G&&r.createElement(r.Fragment,null,T),B&&r.createElement(O,{...m.params})),r.createElement("span",{className:"ag-group-child-count"},g))})),Q=q,Y=s.createContext({setMethods:()=>{}}),Z=s.memo((e=>{const{initialProps:t,addUpdateCallback:n,CustomComponentClass:a,setMethods:o}=e,[{key:l,...c},u]=s.useState(t);return s.useEffect((()=>{n((e=>u(e)))}),[]),r.createElement(Y.Provider,{value:{setMethods:o}},r.createElement(a,{key:l,...c}))})),J=0;function X(){return"agPortalKey_"+ ++J}var ee=class{constructor(e,t,r,s){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!s,this.statelessComponent=this.isStateless(this.reactComponent),this.key=X(),this.portalKey=X(),this.instanceCreated=this.isStatelessComponent()?d.resolve(!1):new d((e=>{this.resolveInstanceCreated=e}))}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}addParentContainerStyleAndClasses(){this.componentInstance&&(this.componentInstance.getReactContainerStyle&&this.componentInstance.getReactContainerStyle()&&(c('Since v31.1 "getReactContainerStyle" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),Object.assign(this.eParentElement.style,this.componentInstance.getReactContainerStyle())),this.componentInstance.getReactContainerClasses&&this.componentInstance.getReactContainerClasses())&&(c('Since v31.1 "getReactContainerClasses" is deprecated. Apply styling directly to ".ag-react-container" if needed.'),this.componentInstance.getReactContainerClasses().forEach((e=>this.eParentElement.classList.add(e))))}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout((()=>this.callMethod(e,t)));const s=r[e];return s?s.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new d((e=>this.createReactComponent(e)))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{this.componentInstance=e,this.addParentContainerStyleAndClasses(),this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=n.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return s.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){return!this.suppressFallbackMethods&&!!this[`${e}Component`]}};function te(e,t,r){e.forEach((e=>{const s=t[e];s&&(r[e]=s)}))}var re=class extends ee{constructor(){super(...arguments),this.awaitUpdateCallback=new d((e=>{this.resolveUpdateCallback=e})),this.wrapperComponent=Z}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new d((e=>{setTimeout((()=>{e()}))}))),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,te(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new d((e=>this.awaitUpdateCallback.then((()=>{this.updateCallback().then((()=>e()))}))))}},se=class extends re{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ne=class extends re{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ae=class extends re{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:s}=this;return e.label=t,e.icon=r,e.shake=s,e}},oe=class extends re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterChangedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){!1===this.expectingNewMethods&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout((()=>{this.sourceParams.filterChangedCallback()})),this.expectingNewMethods=!1,super.setMethods(e)}updateModel(e){this.setModel(e).then((()=>this.sourceParams.filterChangedCallback()))}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,delete e.valueGetter,e}};function le(e,t){e.parentFilterInstance((r=>{(r.setModel(t)||d.resolve()).then((()=>{e.filterParams.filterChangedCallback()}))}))}var ce=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){te(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),le(this.floatingFilterParams,e)}},ue=class extends re{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),le(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},ie=class extends re{refresh(e){this.sourceParams=e,this.refreshProps()}},de=class extends re{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then((()=>this.sourceParams.onItemActivated()))}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},pe=class extends re{refresh(e){this.sourceParams=e,this.refreshProps()}},he=class extends re{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},me=class extends re{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function fe(){c("As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.")}var ge=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter((t=>t!==e)),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout((()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)})),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout((()=>{this.waitForInstance(e,t,r)}))}}},Ce=s.memo((({ctrl:e})=>{const n=e.isAlive(),{context:a}=s.useContext(t),o=n?e.getColId():void 0,[l,c]=s.useState(),d=s.useRef(),p=s.useRef(null),h=s.useRef(null),m=s.useRef(null),f=s.useRef(),g=s.useRef();n&&!g.current&&(g.current=new u((()=>p.current)));const C=s.useCallback((t=>{if(p.current=t,d.current=t?a.createBean(new i):a.destroyBean(d.current),!t||!n)return;const r={setWidth:e=>{p.current&&(p.current.style.width=e)},addOrRemoveCssClass:(e,t)=>g.current.addOrRemoveCssClass(e,t),setAriaSort:e=>{p.current&&(e?b(p.current,e):M(p.current))},setUserCompDetails:e=>c(e),getUserCompInstance:()=>f.current||void 0};e.setComp(r,t,h.current,m.current,d.current);const s=e.getSelectAllGui();h.current?.insertAdjacentElement("afterend",s),d.current.addDestroyFunc((()=>s.remove()))}),[]);s.useLayoutEffect((()=>U(l,a,m.current,f)),[l]),s.useEffect((()=>{e.setDragSource(p.current)}),[l]);const y=s.useMemo((()=>!(!l?.componentFromFramework||!j(l.componentClass))),[l]),v=l&&l.componentFromFramework,R=l&&l.componentClass;return r.createElement("div",{ref:C,className:"ag-header-cell","col-id":o,role:"columnheader"},r.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),r.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&y&&r.createElement(R,{...l.params}),v&&!y&&r.createElement(R,{...l.params,ref:f})))})),ye=s.memo((({ctrl:e})=>{const{context:n,gos:a}=s.useContext(t),[o,l]=s.useState((()=>new H("ag-header-cell","ag-floating-filter"))),[c,u]=s.useState((()=>new H)),[p,h]=s.useState((()=>new H("ag-floating-filter-button","ag-hidden"))),[m,f]=s.useState("false"),[g,C]=s.useState(),[,y]=s.useState(1),v=s.useRef(),R=s.useRef(null),w=s.useRef(null),S=s.useRef(null),E=s.useRef(null),P=s.useRef(),b=s.useRef(),M=e=>{null!=e&&P.current&&P.current(e)},k=s.useCallback((t=>{if(R.current=t,v.current=t?n.createBean(new i):n.destroyBean(v.current),!t)return;b.current=new d((e=>{P.current=e}));const r={addOrRemoveCssClass:(e,t)=>l((r=>r.setClass(e,t))),addOrRemoveBodyCssClass:(e,t)=>u((r=>r.setClass(e,t))),setButtonWrapperDisplayed:e=>{h((t=>t.setClass("ag-hidden",!e))),f(e?"false":"true")},setWidth:e=>{R.current&&(R.current.style.width=e)},setCompDetails:e=>C(e),getFloatingFilterComp:()=>b.current?b.current:null,setMenuIcon:e=>E.current?.appendChild(e)};e.setComp(r,t,E.current,w.current,v.current)}),[]);s.useLayoutEffect((()=>U(g,n,w.current,M)),[g]);const F=s.useMemo((()=>o.toString()),[o]),x=s.useMemo((()=>c.toString()),[c]),A=s.useMemo((()=>p.toString()),[p]),I=s.useMemo((()=>!!(g&&g.componentFromFramework&&j(g.componentClass))),[g]),D=s.useMemo((()=>a.get("reactiveCustomComponents")),[]),B=s.useMemo((()=>{if(g){if(D){const e=new ce(g.params,(()=>y((e=>e+1))));return M(e),e}g.componentFromFramework&&fe()}}),[g]),O=B?.getProps(),G=g&&g.componentFromFramework,T=g&&g.componentClass;return r.createElement("div",{ref:k,className:F,role:"gridcell"},r.createElement("div",{ref:w,className:x,role:"presentation"},G&&!D&&r.createElement(T,{...g.params,ref:I?()=>{}:M}),G&&D&&r.createElement(Y.Provider,{value:{setMethods:e=>B.setMethods(e)}},r.createElement(T,{...O}))),r.createElement("div",{ref:S,"aria-hidden":m,className:A,role:"presentation"},r.createElement("button",{ref:E,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))})),ve=s.memo((({ctrl:e})=>{const{context:n}=s.useContext(t),[a,o]=s.useState((()=>new H)),[l,c]=s.useState((()=>new H)),[u,d]=s.useState("false"),[p,h]=s.useState(),[m,f]=s.useState(),g=s.useMemo((()=>e.getColId()),[]),C=s.useRef(),y=s.useRef(null),v=s.useRef(null),R=s.useRef(null),w=s.useRef(),S=s.useCallback((t=>{if(y.current=t,C.current=t?n.createBean(new i):n.destroyBean(C.current),!t)return;const r={setWidth:e=>{y.current&&(y.current.style.width=e)},addOrRemoveCssClass:(e,t)=>o((r=>r.setClass(e,t))),setHeaderWrapperHidden:e=>{const t=R.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=R.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>f(e),setResizableDisplayed:e=>{c((t=>t.setClass("ag-hidden",!e))),d(e?"false":"true")},setAriaExpanded:e=>h(e),getUserCompInstance:()=>w.current||void 0};e.setComp(r,t,v.current,R.current,C.current)}),[]);s.useLayoutEffect((()=>U(m,n,R.current)),[m]),s.useEffect((()=>{y.current&&e.setDragSource(y.current)}),[m]);const E=s.useMemo((()=>!(!m?.componentFromFramework||!j(m.componentClass))),[m]),P=s.useMemo((()=>"ag-header-group-cell "+a.toString()),[a]),b=s.useMemo((()=>"ag-header-cell-resize "+l.toString()),[l]),M=m&&m.componentFromFramework,k=m&&m.componentClass;return r.createElement("div",{ref:S,className:P,"col-id":g,role:"columnheader","aria-expanded":p},r.createElement("div",{ref:R,className:"ag-header-cell-comp-wrapper",role:"presentation"},M&&E&&r.createElement(k,{...m.params}),M&&!E&&r.createElement(k,{...m.params,ref:w})),r.createElement("div",{ref:v,"aria-hidden":u,className:b}))})),Re=s.memo((({ctrl:e})=>{const{context:n}=s.useContext(t),{topOffset:a,rowHeight:o}=s.useMemo((()=>e.getTopAndHeight()),[]),l=e.getAriaRowIndex(),c=e.getHeaderRowClass(),[u,d]=s.useState((()=>o+"px")),[h,m]=s.useState((()=>a+"px")),f=s.useRef(null),g=s.useRef(null),[C,y]=s.useState((()=>e.getHeaderCtrls())),v=s.useRef(),R=s.useRef(null),w=s.useCallback((t=>{if(R.current=t,v.current=t?n.createBean(new i):n.destroyBean(v.current),!t)return;const r={setHeight:e=>d(e),setTop:e=>m(e),setHeaderCtrls:(e,t,r)=>{g.current=f.current,f.current=e;const s=K(g.current,e,t);s!==g.current&&z(r,(()=>y(s)))},setWidth:e=>{R.current&&(R.current.style.width=e)}};e.setComp(r,v.current,!1)}),[]),S=s.useMemo((()=>({height:u,top:h})),[u,h]),E=s.useCallback((t=>{switch(e.getType()){case p.COLUMN_GROUP:return r.createElement(ve,{ctrl:t,key:t.instanceId});case p.FLOATING_FILTER:return r.createElement(ye,{ctrl:t,key:t.instanceId});default:return r.createElement(Ce,{ctrl:t,key:t.instanceId})}}),[]);return r.createElement("div",{ref:w,className:c,role:"row",style:S,"aria-rowindex":l},C.map(E))})),we=s.memo((({pinned:e})=>{const[n,a]=s.useState(!0),[o,l]=s.useState([]),{context:c}=s.useContext(t),u=s.useRef(null),i=s.useRef(null),d=s.useRef(),p="left"===e,m="right"===e,f=!p&&!m,g=s.useCallback((t=>{if(u.current=t,d.current=t?c.createBean(new h(e)):c.destroyBean(d.current),!t)return;const r={setDisplayed:a,setCtrls:e=>l(e),setCenterWidth:e=>{i.current&&(i.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};d.current.setComp(r,u.current)}),[]),C=n?"":"ag-hidden",y=()=>o.map((e=>r.createElement(Re,{ctrl:e,key:e.instanceId})));return r.createElement(r.Fragment,null,p&&r.createElement("div",{ref:g,className:"ag-pinned-left-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),m&&r.createElement("div",{ref:g,className:"ag-pinned-right-header "+C,"aria-hidden":!n,role:"rowgroup"},y()),f&&r.createElement("div",{ref:g,className:"ag-header-viewport "+C,role:"presentation"},r.createElement("div",{ref:i,className:"ag-header-container",role:"rowgroup"},y())))})),Se=s.memo((()=>{const[e,n]=s.useState((()=>new H)),[a,o]=s.useState(),{context:l}=s.useContext(t),c=s.useRef(null),u=s.useRef(),i=s.useCallback((e=>{if(c.current=e,u.current=e?l.createBean(new m):l.destroyBean(u.current),!e)return;const t={addOrRemoveCssClass:(e,t)=>n((r=>r.setClass(e,t))),setHeightAndMinHeight:e=>o(e)};u.current.setComp(t,e,e)}),[]),d=s.useMemo((()=>"ag-header "+e.toString()),[e]),p=s.useMemo((()=>({height:a,minHeight:a})),[a]);return r.createElement("div",{ref:i,className:d,style:p,role:"presentation"},r.createElement(we,{pinned:"left"}),r.createElement(we,{pinned:null}),r.createElement(we,{pinned:"right"}))})),Ee=(e,t)=>{s.useEffect((()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const s=document.createComment(e);return t.insertBefore(s,r),()=>{t.removeChild(s)}}}}),[e])},Pe=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new d((e=>{this.resolveInstanceCreated=e})),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){te(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then((()=>this.componentInstance))}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},be=s.memo((e=>{const[a,o]=s.useState(),{context:l,popupService:c,localeService:u,gos:i,editService:d}=s.useContext(t);return(e=>{const t=s.useRef(e),r=s.useRef(),n=s.useRef(!1),a=s.useRef(!1),[,o]=s.useState(0);n.current&&(a.current=!0),s.useEffect((()=>(n.current||(r.current=t.current(),n.current=!0),o((e=>e+1)),()=>{a.current&&r.current?.()})),[])})((()=>{const{editDetails:t,cellCtrl:r,eParentCell:s}=e,{compDetails:n}=t,a=i.get("stopEditingWhenCellsLoseFocus"),p=l.createBean(d.createPopupEditorWrapper(n.params)),h=p.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&h.appendChild(t)}const m={column:r.getColumn(),rowNode:r.getRowNode(),type:"popupCellEditor",eventSource:s,ePopup:h,position:t.popupPosition,keepWithinBounds:!0},f=c.positionPopupByComponent.bind(c,m),g=u.getLocaleTextFunc(),C=c.addPopup({modal:a,eChild:h,closeOnEsc:!0,closedCallback:()=>{r.onPopupEditorClosed()},anchorToElement:s,positionCallback:f,ariaLabel:g("ariaLabelCellEditor","Cell Editor")}),y=C?C.hideFunc:void 0;return o(p),e.jsChildComp?.afterGuiAttached?.(),()=>{y?.(),l.destroyBean(p)}})),r.createElement(r.Fragment,null,a&&e.wrappedContent&&n.createPortal(e.wrappedContent,a.getGui()))})),Me=(e,r,n,a,o,l)=>{const{context:c}=s.useContext(t),u=s.useCallback((()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),c.destroyBean(e),o.current=void 0}),[]);s.useEffect((()=>{const t=null!=e,s=e?.compDetails&&!e.compDetails.componentFromFramework;if(!t||!s||r&&null==n)return void u();const a=e.compDetails;if(o.current){const t=o.current,r=!(null==t.refresh||0!=e.force)&&t.refresh(a.params);if(!0===r||void 0===r)return;u()}const c=a.newAgStackInstance();null!=c&&c.then((e=>{if(!e)return;const t=e.getGui();t&&((r?n:l.current).appendChild(t),o.current=e)}))}),[e,r,a]),s.useEffect((()=>u),[])},ke=(e,t,s)=>{const n=e.compProxy;return r.createElement(r.Fragment,null,n?((e,t,s)=>{const{compProxy:n}=e;s(n);const a=n.getProps(),o=j(t);return r.createElement(Y.Provider,{value:{setMethods:e=>n.setMethods(e)}},o?r.createElement(t,{...a}):r.createElement(t,{...a,ref:e=>n.setRef(e)}))})(e,t,s):r.createElement(t,{...e.compDetails.params,ref:s}))},Fe=s.memo((({cellCtrl:e,printLayout:n,editingRow:a})=>{const{context:o}=s.useContext(t),{colIdSanitised:l,instanceId:c}=e,d=s.useRef(),[p,h]=s.useState((()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1})),[m,f]=s.useState(),[g,C]=s.useState(1),[y,v]=s.useState(),[R,w]=s.useState(!1),[S,E]=s.useState(!1),[P,b]=s.useState(!1),[M,F]=s.useState(),x=s.useMemo((()=>e.isForceWrapper()),[e]),A=s.useMemo((()=>e.getCellAriaRole()),[e]),I=s.useRef(null),D=s.useRef(null),B=s.useRef(),O=s.useRef(),G=s.useRef(),T=s.useRef([]),N=s.useRef(),[U,L]=s.useState(0),W=s.useCallback((e=>{N.current=e,L((e=>e+1))}),[]),H=x||null!=p&&(R||P||S),V=s.useCallback((t=>{if(O.current=t,t){const r=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout((()=>{r?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()}))}}),[e]),$=s.useRef();$.current||($.current=new u((()=>I.current))),Me(p,H,N.current,U,B,I);const _=s.useRef();s.useLayoutEffect((()=>{const e=_.current,t=p;if(_.current=p,null==e||null==e.compDetails||null==t||null==t.compDetails)return;const r=e.compDetails,s=t.compDetails;r.componentClass==s.componentClass&&null!=D.current?.refresh&&1!=D.current.refresh(s.params)&&C((e=>e+1))}),[p]),s.useLayoutEffect((()=>{if(!m||m.compDetails.componentFromFramework)return;const e=m.compDetails,t=!0===m.popup,r=e.newAgStackInstance();return r.then((e=>{if(!e)return;const r=e.getGui();if(V(e),!t){const t=(x?G:I).current;t?.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}F(e)})),()=>{r.then((e=>{const t=e.getGui();o.destroyBean(e),V(void 0),F(void 0),t?.parentElement?.removeChild(t)}))}}),[m]);const z=s.useCallback((t=>{if(G.current=t,!t)return T.current.forEach((e=>e())),void(T.current=[]);const r=e=>{if(e){const r=e.getGui();t.insertAdjacentElement("afterbegin",r),T.current.push((()=>{o.destroyBean(e),k(r)}))}return e};R&&r(e.createSelectionCheckbox()),P&&r(e.createDndSource()),S&&r(e.createRowDragComp())}),[e,o,P,S,R]),K=s.useCallback((t=>{if(I.current=t,d.current=t?o.createBean(new i):o.destroyBean(d.current),!t||!e)return;const r={addOrRemoveCssClass:(e,t)=>$.current.addOrRemoveCssClass(e,t),setUserStyles:e=>v(e),getFocusableElement:()=>I.current,setIncludeSelection:e=>w(e),setIncludeRowDrag:e=>E(e),setIncludeDndSource:e=>b(e),getCellEditor:()=>O.current||null,getCellRenderer:()=>D.current??B.current,getParentOfValue:()=>N.current??G.current??I.current,setRenderDetails:(e,t,r)=>{h((s=>s?.compDetails!==e||s?.value!==t||s?.force!==r?{value:t,compDetails:e,force:r}:s))},setEditDetails:(e,t,r,s)=>{if(e){let n;s?n=new Pe(e.params,(()=>C((e=>e+1)))):e.componentFromFramework&&fe(),f({compDetails:e,popup:t,popupPosition:r,compProxy:n}),t||h(void 0)}else f((e=>{e?.compProxy&&(O.current=void 0)}))}},s=G.current||void 0;e.setComp(r,t,s,n,a,d.current)}),[]),q=s.useMemo((()=>!(!p?.compDetails?.componentFromFramework||!j(p.compDetails.componentClass))),[p]);s.useLayoutEffect((()=>{I.current&&($.current.addOrRemoveCssClass("ag-cell-value",!H),$.current.addOrRemoveCssClass("ag-cell-inline-editing",!!m&&!m.popup),$.current.addOrRemoveCssClass("ag-cell-popup-editing",!!m&&!!m.popup),$.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!m||!!m.popup),e.getRowCtrl()?.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.isEditing()&&I.current.focus({preventScroll:!0}))}));const Q=()=>r.createElement(r.Fragment,null,null!=p&&((e,t,s,n,a,o,l)=>{const{compDetails:c,value:u}=e,i=!c,d=c&&c.componentFromFramework,p=c&&c.componentClass,h=u?.toString?u.toString():u,m=()=>r.createElement(r.Fragment,null,i&&r.createElement(r.Fragment,null,h),d&&!o&&r.createElement(p,{...c.params,key:t,ref:n}),d&&o&&r.createElement(p,{...c.params,key:t}));return r.createElement(r.Fragment,null,a?r.createElement("span",{role:"presentation",id:`cell-${s}`,className:"ag-cell-value",ref:l},m()):m())})(p,g,c,D,H,q,W),null!=m&&((e,t,s,n,a)=>{const o=e.compDetails,l=o.componentClass,c=o.componentFromFramework&&!e.popup,u=o.componentFromFramework&&e.popup,i=!o.componentFromFramework&&e.popup;return r.createElement(r.Fragment,null,c&&ke(e,l,t),u&&r.createElement(be,{editDetails:e,cellCtrl:n,eParentCell:s,wrappedContent:ke(e,l,t)}),i&&a&&r.createElement(be,{editDetails:e,cellCtrl:n,eParentCell:s,jsChildComp:a}))})(m,V,I.current,e,M)),Y=s.useCallback((()=>e.onFocusOut()),[]);return r.createElement("div",{ref:K,style:y,role:A,"col-id":l,onBlur:Y},H?r.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},Q()):Q())})),xe=s.memo((({rowCtrl:e,containerType:n})=>{const{context:a,gos:o}=s.useContext(t),l=s.useRef(),c=s.useRef(e.getDomOrder()),d=e.isFullWidth(),p=e.getRowNode().displayed,[h,m]=s.useState((()=>p?e.getRowIndex():null)),[f,g]=s.useState((()=>e.getRowId())),[C,y]=s.useState((()=>e.getBusinessKey())),[v,R]=s.useState((()=>e.getRowStyles())),w=s.useRef(null),S=s.useRef(null),[E,P]=s.useState((()=>null)),[b,M]=s.useState(),[k,F]=s.useState((()=>p?e.getInitialRowTop(n):void 0)),[x,A]=s.useState((()=>p?e.getInitialTransform(n):void 0)),I=s.useRef(null),D=s.useRef(),B=s.useRef(!1),[O,G]=s.useState(0);s.useEffect((()=>{if(B.current||!b||O>10)return;const t=I.current?.firstChild;t?(e.setupDetailRowAutoHeight(t),B.current=!0):G((e=>e+1))}),[b,O]);const T=s.useRef();T.current||(T.current=new u((()=>I.current)));const N=s.useCallback((t=>{if(I.current=t,l.current=t?a.createBean(new i):a.destroyBean(l.current),!t)return void e.unsetComp(n);if(!e.isAlive())return;const r={setTop:F,setTransform:A,addOrRemoveCssClass:(e,t)=>T.current.addOrRemoveCssClass(e,t),setDomOrder:e=>c.current=e,setRowIndex:m,setRowId:g,setRowBusinessKey:y,setUserStyles:R,setCellCtrls:(e,t)=>{S.current=w.current,w.current=e;const r=K(S.current,e,c.current);r!==S.current&&z(t,(()=>P(r)))},showFullWidth:e=>M(e),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:e=>$.current?(M((t=>({...t,params:e()}))),!0):!(!D.current||!D.current.refresh)&&D.current.refresh(e())};e.setComp(r,t,n,l.current)}),[]);s.useLayoutEffect((()=>U(b,a,I.current,D)),[b]);const L=s.useMemo((()=>{const e={top:k,transform:x};return Object.assign(e,v),e}),[k,x,v]),W=d&&b?.componentFromFramework,H=!d&&null!=E,V=s.useMemo((()=>!(!b?.componentFromFramework||!j(b.componentClass))),[b]),$=s.useRef(!1);return s.useEffect((()=>{$.current=V&&!!b&&!!o.get("reactiveCustomComponents")}),[V,b]),r.createElement("div",{ref:N,role:"row",style:L,"row-index":h,"row-id":f,"row-business-key":C},H&&E?.map((t=>r.createElement(Fe,{cellCtrl:t,editingRow:e.isEditing(),printLayout:e.isPrintLayout(),key:t.instanceId}))),W&&(()=>{const e=b.componentClass;return r.createElement(r.Fragment,null,V?r.createElement(e,{...b.params}):r.createElement(e,{...b.params,ref:D}))})())})),Ae=s.memo((({name:e})=>{const{context:n}=s.useContext(t),a=s.useMemo((()=>f(e)),[e]),o=s.useRef(null),l=s.useRef(null),c=s.useRef([]),u=s.useRef([]),[i,d]=s.useState((()=>[])),p=s.useRef(!1),h=s.useRef(),m=s.useMemo((()=>W(a.viewport)),[a]),C=s.useMemo((()=>W(a.container)),[a]),y="center"===a.type;Ee(" AG Row Container "+e+" ",y?o:l);const v=s.useCallback((()=>y?null!=o.current&&null!=l.current:null!=l.current),[]),R=s.useCallback((()=>y?null==o.current&&null==l.current:null==l.current),[]),w=s.useCallback((()=>{if(R()&&(h.current=n.destroyBean(h.current)),v()){const t=e=>{const t=K(u.current,c.current,p.current);t!==u.current&&(u.current=t,z(e,(()=>d(t))))},r={setHorizontalScroll:e=>{o.current&&(o.current.scrollLeft=e)},setViewportHeight:e=>{o.current&&(o.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:r})=>{const s=!!r&&c.current.length>0&&e.length>0;c.current=e,t(s)},setDomOrder:e=>{p.current!=e&&(p.current=e,t(!1))},setContainerWidth:e=>{l.current&&(l.current.style.width=e)},setOffsetTop:e=>{l.current&&(l.current.style.transform=`translateY(${e})`)}};h.current=n.createBean(new g(e)),h.current.setComp(r,l.current,o.current)}}),[v,R]),S=s.useCallback((e=>{l.current=e,w()}),[w]),E=s.useCallback((e=>{o.current=e,w()}),[w]),P=()=>r.createElement("div",{className:C,ref:S,role:"rowgroup"},i.map((e=>r.createElement(xe,{rowCtrl:e,containerType:a.type,key:e.instanceId}))));return r.createElement(r.Fragment,null,y?r.createElement("div",{className:m,ref:E,role:"presentation"},P()):P())})),Ie=s.memo((()=>{const{context:e,resizeObserverService:n}=s.useContext(t),[a,o]=s.useState(""),[l,c]=s.useState(0),[i,d]=s.useState(0),[p,h]=s.useState("0px"),[m,f]=s.useState("0px"),[g,y]=s.useState("100%"),[v,R]=s.useState("0px"),[w,S]=s.useState("0px"),[E,P]=s.useState("100%"),[b,M]=s.useState(""),[k,B]=s.useState(""),[O,G]=s.useState(null),[T,N]=s.useState(""),[U,L]=s.useState(null),[H,j]=s.useState("ag-layout-normal"),V=s.useRef();V.current||(V.current=new u((()=>$.current)));const $=s.useRef(null),_=s.useRef(null),z=s.useRef(null),K=s.useRef(null),q=s.useRef(null),Q=s.useRef(null),Y=s.useRef(null),Z=s.useRef([]),J=s.useRef([]);Ee(" AG Grid Body ",$),Ee(" AG Pinned Top ",_),Ee(" AG Sticky Top ",z),Ee(" AG Middle ",Q),Ee(" AG Pinned Bottom ",Y);const X=s.useCallback((t=>{if($.current=t,!t)return Z.current=e.destroyBeans(Z.current),J.current.forEach((e=>e())),void(J.current=[]);if(!e)return;const r=(e,t)=>{e.appendChild(t),J.current.push((()=>e.removeChild(t)))},s=(t,s,n)=>{r(t,document.createComment(n)),r(t,(t=>{const r=e.createBean(new t);return Z.current.push(r),r})(s).getGui())};s(t,F," AG Fake Horizontal Scroll "),s(t,x," AG Overlay Wrapper "),q.current&&s(q.current,A," AG Fake Vertical Scroll ");const a={setRowAnimationCssOnBodyViewport:o,setColumnCount:e=>{$.current&&I($.current,e)},setRowCount:e=>{$.current&&D($.current,e)},setTopHeight:c,setBottomHeight:d,setStickyTopHeight:h,setStickyTopTop:f,setStickyTopWidth:y,setTopDisplay:M,setBottomDisplay:B,setColumnMovingCss:(e,t)=>V.current.addOrRemoveCssClass(e,t),updateLayoutClasses:j,setAlwaysVerticalScrollClass:G,setPinnedTopBottomOverflowY:N,setCellSelectableCss:(e,t)=>L(t?e:null),setBodyViewportWidth:e=>{Q.current&&(Q.current.style.width=e)},registerBodyViewportResizeListener:e=>{if(Q.current){const t=n.observeResize(Q.current,e);J.current.push((()=>t()))}},setStickyBottomHeight:R,setStickyBottomBottom:S,setStickyBottomWidth:P},l=e.createBean(new C);Z.current.push(l),l.setComp(a,t,Q.current,_.current,Y.current,z.current,K.current)}),[]),ee=s.useMemo((()=>W("ag-root","ag-unselectable",H)),[H]),te=s.useMemo((()=>W("ag-body-viewport",a,H,O,U)),[a,H,O,U]),re=s.useMemo((()=>W("ag-body",H)),[H]),se=s.useMemo((()=>W("ag-floating-top",U)),[U]),ne=s.useMemo((()=>W("ag-sticky-top",U)),[U]),ae=s.useMemo((()=>W("ag-sticky-bottom","0px"===v?"ag-hidden":null,U)),[U,v]),oe=s.useMemo((()=>W("ag-floating-bottom",U)),[U]),le=s.useMemo((()=>({height:l,minHeight:l,display:b,overflowY:T})),[l,b,T]),ce=s.useMemo((()=>({height:p,top:m,width:g})),[p,m,g]),ue=s.useMemo((()=>({height:v,bottom:w,width:E})),[v,w,E]),ie=s.useMemo((()=>({height:i,minHeight:i,display:k,overflowY:T})),[i,k,T]),de=e=>r.createElement(Ae,{name:e,key:`${e}-container`}),pe=({section:e,children:t,className:s,style:n})=>r.createElement("div",{ref:e,className:s,role:"presentation",style:n},t.map(de));return r.createElement("div",{ref:X,className:ee,role:"treegrid"},r.createElement(Se,null),pe({section:_,className:se,style:le,children:["topLeft","topCenter","topRight","topFullWidth"]}),r.createElement("div",{className:re,ref:q,role:"presentation"},pe({section:Q,className:te,children:["left","center","right","fullWidth"]})),pe({section:z,className:ne,style:ce,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),pe({section:K,className:ae,style:ue,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),pe({section:Y,className:oe,style:ie,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))})),De=s.forwardRef(((e,n)=>{const{children:a,eFocusableElement:o,onTabKeyDown:l,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u}=e,{context:i}=s.useContext(t),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),m=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,p].forEach((e=>{void 0===t?e.current?.removeAttribute("tabindex"):e.current?.setAttribute("tabindex",t)}))};s.useImperativeHandle(n,(()=>({forceFocusOutOfContainer(e){h.current?.forceFocusOutOfContainer(e)}})));const f=s.useCallback((()=>{const e=d.current,t=p.current;if(e||t){if(e&&t){const r={setTabIndex:m};h.current=i.createBean(new y({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:o,onTabKeyDown:l,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>c.focusInnerElement(e)}))}}else h.current=i.destroyBean(h.current)}),[]),g=s.useCallback((e=>{d.current=e,f()}),[f]),C=s.useCallback((e=>{p.current=e,f()}),[f]),v=e=>{const t="top"===e?B.TAB_GUARD_TOP:B.TAB_GUARD_BOTTOM;return r.createElement("div",{className:`${B.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?g:C})};return r.createElement(r.Fragment,null,v("top"),a,v("bottom"))})),Be=s.memo(De),Oe=s.memo((({context:e})=>{const[n,a]=s.useState(""),[o,l]=s.useState(""),[c,u]=s.useState(""),[i,d]=s.useState(null),[p,h]=s.useState(null),[m,f]=s.useState(!1),[g,C]=s.useState(),y=s.useRef(),R=s.useRef(null),w=s.useRef(),[S,E]=s.useState(null),P=s.useRef((()=>{})),b=s.useRef(),M=s.useRef([]),k=s.useCallback((()=>{}),[]),F=s.useMemo((()=>e.isDestroyed()?null:e.getBeans()),[e]);Ee(" AG Grid ",R);const x=s.useCallback((t=>{if(R.current=t,y.current=t?e.createBean(new v):e.destroyBean(y.current),!t||e.isDestroyed())return;const r=y.current;P.current=r.focusInnerElement.bind(r);const s={destroyGridUi:()=>{},setRtlClass:a,setGridThemeClass:l,forceFocusOutOfContainer:e=>{e||!b.current?.isDisplayed()?w.current?.forceFocusOutOfContainer(e):b.current.forceFocusOutOfContainer(e)},updateLayoutClasses:u,getFocusableContainers:()=>{const e=[],t=R.current?.querySelector(".ag-root");return t&&e.push({getGui:()=>t}),M.current.forEach((t=>{t.isDisplayed()&&e.push(t)})),e},setCursor:d,setUserSelect:h};r.setComp(s,t,t),f(!0)}),[]);s.useEffect((()=>{const t=y.current,r=R.current;if(!(g&&F&&t&&S&&r))return;const s=[],{watermarkSelector:n,paginationSelector:a,sideBarSelector:o,statusBarSelector:l,gridHeaderDropZonesSelector:c}=t.getOptionalSelectors(),u=[];if(c){const t=e.createBean(new c.component),n=t.getGui();r.insertAdjacentElement("afterbegin",n),u.push(n),s.push(t)}if(o){const t=e.createBean(new o.component),r=t.getGui(),n=S.querySelector(".ag-tab-guard-bottom");n&&(n.insertAdjacentElement("beforebegin",r),u.push(r)),s.push(t),M.current.push(t)}const i=t=>{const n=e.createBean(new t),a=n.getGui();return r.insertAdjacentElement("beforeend",a),u.push(a),s.push(n),n};if(l&&i(l.component),a){const e=i(a.component);b.current=e,M.current.push(e)}return n&&i(n.component),()=>{e.destroyBeans(s),u.forEach((e=>{e.parentElement?.removeChild(e)}))}}),[g,S,F]);const A=s.useMemo((()=>W("ag-root-wrapper",n,o,c)),[n,o,c]),I=s.useMemo((()=>W("ag-root-wrapper-body","ag-focus-managed",c)),[c]),D=s.useMemo((()=>({userSelect:null!=p?p:"",WebkitUserSelect:null!=p?p:"",cursor:null!=i?i:""})),[p,i]),B=s.useCallback((e=>{w.current=e,C(null!==e)}),[]);return r.createElement("div",{ref:x,className:A,style:D,role:"presentation"},r.createElement("div",{className:I,ref:E,role:"presentation"},m&&S&&F&&r.createElement(t.Provider,{value:F},r.createElement(Be,{ref:B,eFocusableElement:S,onTabKeyDown:k,gridCtrl:y.current,forceFocusOutWhenTabGuardsAreEmpty:!0},r.createElement(Ie,null)))))})),Ge=class extends N{wireBeans(e){this.ctrlsService=e.ctrlsService}areHeaderCellsRendered(){return this.ctrlsService.getHeaderRowContainerCtrls().every((e=>e.getAllCtrls().every((e=>e.areCellsRendered()))))}},Te=e=>{const t=s.useRef(),n=s.useRef(null),a=s.useRef(null),o=s.useRef([]),l=s.useRef([]),c=s.useRef(e),u=s.useRef(),i=s.useRef(),d=s.useRef(!1),[p,h]=s.useState(void 0),[,m]=s.useState(0),f=s.useCallback((r=>{if(n.current=r,!r)return o.current.forEach((e=>e())),void(o.current.length=0);const s=e.modules||[];a.current||(a.current=new ge((()=>m((e=>e+1))),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push((()=>{a.current?.destroy(),a.current=null})));const c=R(e.gridOptions,e),p=new Le((()=>{if(d.current){const e=()=>u.current?.shouldQueueUpdates()?void 0:l.current.shift();let t=e();for(;t;)t(),t=e()}}));u.current=p;const f=new Ge,g={providedBeanInstances:{frameworkComponentWrapper:new Ne(a.current,c.reactiveCustomComponents??w("reactiveCustomComponents")??!0),renderStatusService:f},modules:s,frameworkOverrides:p},C=new O;c.gridId??(c.gridId=i.current),t.current=C.create(r,c,(r=>{h(r),r.createBean(f),o.current.push((()=>{r.destroy()})),r.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{if(r.isDestroyed())return;const s=t.current;s&&e.setGridApi?.(s)}))}),(e=>{e.getBean("ctrlsService").whenReady({addDestroyFunc:e=>{o.current.push(e)}},(()=>{l.current.forEach((e=>e())),l.current.length=0,d.current=!0}))}),g),o.current.push((()=>{t.current=void 0})),t.current&&(i.current=t.current.getGridId())}),[]),g=s.useMemo((()=>({height:"100%",...e.containerStyle||{}})),[e.containerStyle]),C=s.useCallback((e=>{d.current&&!u.current?.shouldQueueUpdates()?e():l.current.push(e)}),[]);return s.useEffect((()=>{const r=function(e,t){const r={};return Object.keys(t).forEach((s=>{const n=t[s];e[s]!==n&&(r[s]=n)})),r}(c.current,e);c.current=e,C((()=>{t.current&&S(r,t.current)}))}),[e]),r.createElement("div",{style:g,className:e.className,ref:f},p&&!p.isDestroyed()?r.createElement(Oe,{context:p}):null,a.current?.getPortals()??null)},Ne=class extends E{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return oe;case"floatingFilterComponent":return ue;case"dateComponent":return ne;case"dragAndDropImageComponent":return ae;case"loadingOverlayComponent":return ie;case"noRowsOverlayComponent":return pe;case"statusPanel":return he;case"toolPanel":return me;case"menuItem":return de;case"cellRenderer":return se}})(t.propertyName);if(r)return new r(e,this.parent,t)}else switch(t.propertyName){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":fe()}const r=!t.cellRenderer&&"toolPanel"!==t.propertyName;return new ee(e,this.parent,t,r)}},Ue=s.forwardRef(((e,n)=>{const{ctrlsFactory:a,context:o,gos:u,resizeObserverService:i,rowModel:d}=s.useContext(t),[p,h]=s.useState((()=>new H)),[m,f]=s.useState((()=>new H)),[g,C]=s.useState(),[y,v]=s.useState(),R=s.useRef(),w=s.useRef(null),S=s.useRef(),E=s.useMemo((()=>l.__getGridRegisteredModules(e.api.getGridId())),[e]),P=s.useMemo((()=>p.toString()+" ag-details-row"),[p]),b=s.useMemo((()=>m.toString()+" ag-details-grid"),[m]);n&&s.useImperativeHandle(n,(()=>({refresh:()=>R.current?.refresh()??!1}))),e.template&&c("detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://ag-grid.com/react-data-grid/master-detail-custom-detail/");const M=s.useCallback((t=>{if(w.current=t,!t)return R.current=o.destroyBean(R.current),void S.current?.();const r={addOrRemoveCssClass:(e,t)=>h((r=>r.setClass(e,t))),addOrRemoveDetailGridCssClass:(e,t)=>f((r=>r.setClass(e,t))),setDetailGrid:e=>C(e),setRowData:e=>v(e),getGui:()=>w.current},s=a.getInstance("detailCellRenderer");if(s&&(o.createBean(s),s.init(r,e),R.current=s,u.get("detailRowAutoHeight"))){const r=()=>{if(null==w.current)return;const t=w.current.clientHeight;null!=t&&t>0&&setTimeout((()=>{e.node.setRowHeight(t),(G(u)||T(u))&&d.onRowHeightChanged()}),0)};S.current=i.observeResize(t,r),r()}}),[]),k=s.useCallback((e=>{R.current?.registerDetailWithMaster(e)}),[]);return r.createElement("div",{className:P,ref:M},g&&r.createElement(Te,{className:b,...g,modules:E,rowData:y,setGridApi:k}))})),Le=class extends P{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Q,agGroupRowRenderer:Q,agDetailCellRenderer:Ue},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,_||setTimeout((()=>_=!1),0),_=!0,r()):e();var r},this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===V}};e("A",class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach((t=>t(e)))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return r.createElement(Te,{...this.props,setGridApi:this.setGridApi})}})}}}));
