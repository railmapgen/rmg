import{a as t,d as a,b as He,e as Qe}from"./react-Cf9aS4i4.js";import{_ as Ye,a as Ze,G as Xe,b as et,V as tt,B as st,c as rt,d as nt,e as Ue,f as Ve,g as ot,A as ce,h as at,i as ct,j as lt,C as we,k as ut,T as it,l as dt,m as pt,F as mt,n as ht,o as Ee,p as ft,H as Ct,q as gt,r as Rt,s as yt,t as vt,R as wt,E as de,u as St,v as bt,w as Et,x as Pt}from"./ag-grid-community-DzCx5pP4.js";var Z=a.createContext({}),fe=(e,s,r,o)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const i=e.newAgStackInstance();let u,c,d=!1;return i.then(l=>{if(d){s.destroyBean(l);return}u=l,c=u.getGui(),r.appendChild(c),Ae(o,u)}),()=>{var l;d=!0,u&&((l=c==null?void 0:c.parentElement)==null||l.removeChild(c),s.destroyBean(u),o&&Ae(o,void 0))}},Ae=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},se=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),re=class _e{constructor(...s){this.classesMap={},s.forEach(r=>{this.classesMap[r]=!0})}setClass(s,r){if(!!this.classesMap[s]==r)return this;const n=new _e;return n.classesMap={...this.classesMap},n.classesMap[s]=r,n}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},pe=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Ne,ke=(Ne=a.version)==null?void 0:Ne.split(".")[0],kt=ke==="16"||ke==="17";function Mt(){return ke==="19"}var Re=!1;function Ft(e){return Re||setTimeout(()=>Re=!1,0),Re=!0,e()}var ye=(e,s)=>{!kt&&e&&!Re?Qe.flushSync(s):s()};function ve(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const o=[],n=[],i=new Map,u=new Map;for(let c=0;c<s.length;c++){const d=s[c];u.set(d.instanceId,d)}for(let c=0;c<e.length;c++){const d=e[c];i.set(d.instanceId,d),u.has(d.instanceId)&&o.push(d)}for(let c=0;c<s.length;c++){const d=s[c],l=d.instanceId;i.has(l)||n.push(d)}return o.length===e.length&&n.length===0?e:o.length===0&&n.length===s.length?s:o.length===0?n:n.length===0?o:[...o,...n]}var Le=t.forwardRef((e,s)=>{var U;const{registry:r,context:o}=t.useContext(Z),n=t.useRef(null),i=t.useRef(null),u=t.useRef(null),c=t.useRef(null),d=t.useRef(null),l=t.useRef(),[R,S]=t.useState(),[C,m]=t.useState(),[b,w]=t.useState(),[v,p]=t.useState(()=>new re),[g,E]=t.useState(()=>new re("ag-hidden")),[y,k]=t.useState(()=>new re("ag-hidden")),[P,B]=t.useState(()=>new re("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>fe(R,o,i.current),[R]);const N=t.useCallback(G=>{if(n.current=G,!G){l.current=o.destroyBean(l.current);return}const A={setInnerRenderer:(I,L)=>{S(I),w(L)},setChildCount:I=>m(I),addOrRemoveCssClass:(I,L)=>p(H=>H.setClass(I,L)),setContractedDisplayed:I=>k(L=>L.setClass("ag-hidden",!I)),setExpandedDisplayed:I=>E(L=>L.setClass("ag-hidden",!I)),setCheckboxVisible:I=>B(L=>L.setClass("ag-invisible",!I))},F=r.createDynamicBean("groupCellRendererCtrl",!0);F&&(l.current=o.createBean(F),l.current.init(A,G,u.current,c.current,d.current,Le,e))},[]),W=t.useMemo(()=>"ag-cell-wrapper ".concat(v.toString()),[v]),_=t.useMemo(()=>"ag-group-expanded ".concat(g.toString()),[g]),O=t.useMemo(()=>"ag-group-contracted ".concat(y.toString()),[y]),M=t.useMemo(()=>"ag-group-checkbox ".concat(P.toString()),[P]),h=R&&R.componentFromFramework,V=h?R.componentClass:void 0,f=R==null&&b!=null,x=ot(b,!0);return a.createElement("span",{className:W,ref:N,...e.colDef?{}:{role:(U=l.current)==null?void 0:U.getCellAriaRole()}},a.createElement("span",{className:_,ref:c}),a.createElement("span",{className:O,ref:d}),a.createElement("span",{className:M,ref:u}),a.createElement("span",{className:"ag-group-value",ref:i},f&&a.createElement(a.Fragment,null,x),h&&a.createElement(V,{...R.params})),a.createElement("span",{className:"ag-group-child-count"},C))}),Ie=Le,Me=t.createContext({setMethods:()=>{}}),Bt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:o,setMethods:n}=e,[{key:i,...u},c]=t.useState(s);return t.useEffect(()=>{r(d=>c(d))},[]),a.createElement(Me.Provider,{value:{setMethods:n}},a.createElement(o,{key:i,...u}))},xt=t.memo(Bt),Gt=0;function Oe(){return"agPortalKey_".concat(++Gt)}var je=class{constructor(e,s,r,o){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!o,this.statelessComponent=this.isStateless(this.reactComponent),this.key=Oe(),this.portalKey=Oe(),this.instanceCreated=this.isStatelessComponent()?ce.resolve(!1):new ce(n=>{this.resolveInstanceCreated=n})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const o=r[e];if(o)return o.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ce(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{var r;this.componentInstance=s,(r=this.resolveInstanceCreated)==null||r.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=He.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this["".concat(e,"Component")];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this["".concat(e,"Component")]}};function Fe(e,s,r){e.forEach(o=>{const n=s[o];n&&(r[o]=n)})}var oe=class extends je{constructor(){super(...arguments),this.awaitUpdateCallback=new ce(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=xt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new ce(o=>{setTimeout(()=>{o()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,Fe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ce(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},At=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},It=class extends oe{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},Ot=class extends oe{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:o}=this;return e.label=s,e.icon=r,e.shake=o,e}},Wt=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ce(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){var r;const s=this.providedMethods;s?(r=s.afterGuiAttached)==null||r.call(s,e):this.awaitSetMethodsCallback.then(()=>{var o,n;return(n=(o=this.providedMethods)==null?void 0:o.afterGuiAttached)==null?void 0:n.call(o,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var s;this.expectingNewMethods===!1&&this.hasBeenActive&&((s=this.providedMethods)==null?void 0:s.doesFilterPass)!==(e==null?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function $e(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||ce.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var Dt=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){Fe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.floatingFilterParams,e)}},Tt=class extends oe{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),$e(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Nt=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Ht=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},Ut=class extends oe{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},Vt=class extends oe{refresh(e){this.sourceParams=e,this.refreshProps()}},_t=class extends oe{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},Lt=class extends oe{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Be(){Ue(231)}var jt=1e3,$t=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||jt}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return;window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},zt=({ctrl:e})=>{const s=e.isAlive(),{context:r}=t.useContext(Z),o=s?e.column.getColId():void 0,[n,i]=t.useState(),[u,c]=t.useState(),d=t.useRef(),l=t.useRef(null),R=t.useRef(null),S=t.useRef(null),C=t.useRef(),m=t.useRef();s&&!m.current&&(m.current=new we(()=>l.current));const b=t.useCallback(g=>{var k;if(l.current=g,d.current=g?r.createBean(new de):r.destroyBean(d.current),!g||!s)return;const E={setWidth:P=>{l.current&&(l.current.style.width=P)},addOrRemoveCssClass:(P,B)=>m.current.addOrRemoveCssClass(P,B),setUserStyles:P=>c(P),setAriaSort:P=>{l.current&&(P?St(l.current,P):bt(l.current))},setUserCompDetails:P=>i(P),getUserCompInstance:()=>C.current||void 0};e.setComp(E,g,R.current,S.current,d.current);const y=e.getSelectAllGui();y&&((k=R.current)==null||k.insertAdjacentElement("afterend",y),d.current.addDestroyFunc(()=>y.remove()))},[]);t.useLayoutEffect(()=>fe(n,r,S.current,C),[n]),t.useEffect(()=>{e.setDragSource(l.current)},[n]);const w=t.useMemo(()=>!!((n==null?void 0:n.componentFromFramework)&&pe(n.componentClass)),[n]),v=n&&n.componentFromFramework,p=n&&n.componentClass;return a.createElement("div",{ref:b,style:u,className:"ag-header-cell","col-id":o,role:"columnheader"},a.createElement("div",{ref:R,className:"ag-header-cell-resize",role:"presentation"}),a.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},v&&w&&a.createElement(p,{...n.params}),v&&!w&&a.createElement(p,{...n.params,ref:C})))},Jt=t.memo(zt),Kt=({ctrl:e})=>{const{context:s,gos:r}=t.useContext(Z),[o,n]=t.useState(),[i,u]=t.useState(()=>new re("ag-header-cell","ag-floating-filter")),[c,d]=t.useState(()=>new re),[l,R]=t.useState(()=>new re("ag-floating-filter-button","ag-hidden")),[S,C]=t.useState("false"),[m,b]=t.useState(),[,w]=t.useState(1),v=t.useRef(),p=t.useRef(null),g=t.useRef(null),E=t.useRef(null),y=t.useRef(null),k=t.useRef(),P=t.useRef(),B=G=>{G!=null&&k.current&&k.current(G)},N=t.useCallback(G=>{if(p.current=G,v.current=G?s.createBean(new de):s.destroyBean(v.current),!G)return;P.current=new ce(F=>{k.current=F});const A={addOrRemoveCssClass:(F,I)=>u(L=>L.setClass(F,I)),setUserStyles:F=>n(F),addOrRemoveBodyCssClass:(F,I)=>d(L=>L.setClass(F,I)),setButtonWrapperDisplayed:F=>{R(I=>I.setClass("ag-hidden",!F)),C(F?"false":"true")},setWidth:F=>{p.current&&(p.current.style.width=F)},setCompDetails:F=>b(F),getFloatingFilterComp:()=>P.current?P.current:null,setMenuIcon:F=>{var I;return(I=y.current)==null?void 0:I.appendChild(F)}};e.setComp(A,G,y.current,g.current,v.current)},[]);t.useLayoutEffect(()=>fe(m,s,g.current,B),[m]);const W=t.useMemo(()=>i.toString(),[i]),_=t.useMemo(()=>c.toString(),[c]),O=t.useMemo(()=>l.toString(),[l]),M=t.useMemo(()=>!!(m&&m.componentFromFramework&&pe(m.componentClass)),[m]),h=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),V=t.useMemo(()=>{if(m)if(h){const G=new Dt(m.params,()=>w(A=>A+1));return B(G),G}else m.componentFromFramework&&Be()},[m]),f=V==null?void 0:V.getProps(),x=m&&m.componentFromFramework,U=m&&m.componentClass;return a.createElement("div",{ref:N,style:o,className:W,role:"gridcell"},a.createElement("div",{ref:g,className:_,role:"presentation"},x&&!h&&a.createElement(U,{...m.params,ref:M?()=>{}:B}),x&&h&&a.createElement(Me.Provider,{value:{setMethods:G=>V.setMethods(G)}},a.createElement(U,{...f}))),a.createElement("div",{ref:E,"aria-hidden":S,className:O,role:"presentation"},a.createElement("button",{ref:y,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},qt=t.memo(Kt),Qt=({ctrl:e})=>{const{context:s}=t.useContext(Z),[r,o]=t.useState(),[n,i]=t.useState(()=>new re),[u,c]=t.useState(()=>new re),[d,l]=t.useState("false"),[R,S]=t.useState(),[C,m]=t.useState(),b=t.useMemo(()=>e.column.getUniqueId(),[]),w=t.useRef(),v=t.useRef(null),p=t.useRef(null),g=t.useRef(null),E=t.useRef(),y=t.useCallback(_=>{if(v.current=_,w.current=_?s.createBean(new de):s.destroyBean(w.current),!_)return;const O={setWidth:M=>{v.current&&(v.current.style.width=M)},addOrRemoveCssClass:(M,h)=>i(V=>V.setClass(M,h)),setUserStyles:M=>o(M),setHeaderWrapperHidden:M=>{const h=g.current;h&&(M?h.style.setProperty("display","none"):h.style.removeProperty("display"))},setHeaderWrapperMaxHeight:M=>{const h=g.current;h&&(M!=null?h.style.setProperty("max-height","".concat(M,"px")):h.style.removeProperty("max-height"),h.classList.toggle("ag-header-cell-comp-wrapper-limited-height",M!=null))},setUserCompDetails:M=>m(M),setResizableDisplayed:M=>{c(h=>h.setClass("ag-hidden",!M)),l(M?"false":"true")},setAriaExpanded:M=>S(M),getUserCompInstance:()=>E.current||void 0};e.setComp(O,_,p.current,g.current,w.current)},[]);t.useLayoutEffect(()=>fe(C,s,g.current),[C]),t.useEffect(()=>{v.current&&e.setDragSource(v.current)},[C]);const k=t.useMemo(()=>!!((C==null?void 0:C.componentFromFramework)&&pe(C.componentClass)),[C]),P=t.useMemo(()=>"ag-header-group-cell "+n.toString(),[n]),B=t.useMemo(()=>"ag-header-cell-resize "+u.toString(),[u]),N=C&&C.componentFromFramework,W=C&&C.componentClass;return a.createElement("div",{ref:y,style:r,className:P,"col-id":b,role:"columnheader","aria-expanded":R},a.createElement("div",{ref:g,className:"ag-header-cell-comp-wrapper",role:"presentation"},N&&k&&a.createElement(W,{...C.params}),N&&!k&&a.createElement(W,{...C.params,ref:E})),a.createElement("div",{ref:p,"aria-hidden":d,className:B}))},Yt=t.memo(Qt),Zt=({ctrl:e})=>{const{context:s}=t.useContext(Z),{topOffset:r,rowHeight:o}=t.useMemo(()=>e.getTopAndHeight(),[]),n=e.getAriaRowIndex(),i=e.headerRowClass,[u,c]=t.useState(()=>o+"px"),[d,l]=t.useState(()=>r+"px"),R=t.useRef(null),S=t.useRef(null),[C,m]=t.useState(()=>e.getHeaderCtrls()),b=t.useRef(),w=t.useRef(null),v=t.useCallback(E=>{if(w.current=E,b.current=E?s.createBean(new de):s.destroyBean(b.current),!E)return;const y={setHeight:k=>c(k),setTop:k=>l(k),setHeaderCtrls:(k,P,B)=>{S.current=R.current,R.current=k;const N=ve(S.current,k,P);N!==S.current&&ye(B,()=>m(N))},setWidth:k=>{w.current&&(w.current.style.width=k)}};e.setComp(y,b.current,!1)},[]),p=t.useMemo(()=>({height:u,top:d}),[u,d]),g=t.useCallback(E=>{switch(e.type){case"group":return a.createElement(Yt,{ctrl:E,key:E.instanceId});case"filter":return a.createElement(qt,{ctrl:E,key:E.instanceId});default:return a.createElement(Jt,{ctrl:E,key:E.instanceId})}},[]);return a.createElement("div",{ref:v,className:i,role:"row",style:p,"aria-rowindex":n},C.map(g))},Xt=t.memo(Zt),es=({pinned:e})=>{const[s,r]=t.useState(!0),[o,n]=t.useState([]),{context:i}=t.useContext(Z),u=t.useRef(null),c=t.useRef(null),d=t.useRef(),l=e==="left",R=e==="right",S=!l&&!R,C=t.useCallback(w=>{if(u.current=w,d.current=w?i.createBean(new Ct(e)):i.destroyBean(d.current),!w)return;const v={setDisplayed:r,setCtrls:p=>n(p),setCenterWidth:p=>{c.current&&(c.current.style.width=p)},setViewportScrollLeft:p=>{u.current&&(u.current.scrollLeft=p)},setPinnedContainerWidth:p=>{u.current&&(u.current.style.width=p,u.current.style.minWidth=p,u.current.style.maxWidth=p)}};d.current.setComp(v,u.current)},[]),m=s?"":"ag-hidden",b=()=>o.map(w=>a.createElement(Xt,{ctrl:w,key:w.instanceId}));return a.createElement(a.Fragment,null,l&&a.createElement("div",{ref:C,className:"ag-pinned-left-header "+m,"aria-hidden":!s,role:"rowgroup"},b()),R&&a.createElement("div",{ref:C,className:"ag-pinned-right-header "+m,"aria-hidden":!s,role:"rowgroup"},b()),S&&a.createElement("div",{ref:C,className:"ag-header-viewport "+m,role:"presentation"},a.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},b())))},Pe=t.memo(es),ts=()=>{const[e,s]=t.useState(()=>new re),[r,o]=t.useState(),{context:n}=t.useContext(Z),i=t.useRef(null),u=t.useRef(),c=t.useCallback(R=>{if(i.current=R,u.current=R?n.createBean(new ft):n.destroyBean(u.current),!R)return;const S={addOrRemoveCssClass:(C,m)=>s(b=>b.setClass(C,m)),setHeightAndMinHeight:C=>o(C)};u.current.setComp(S,R,R)},[]),d=t.useMemo(()=>"ag-header "+e.toString(),[e]),l=t.useMemo(()=>({height:r,minHeight:r}),[r]);return a.createElement("div",{ref:c,className:d,style:l,role:"presentation"},a.createElement(Pe,{pinned:"left"}),a.createElement(Pe,{pinned:null}),a.createElement(Pe,{pinned:"right"}))},ss=t.memo(ts),rs=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const o=r.parentElement;if(o){const n=document.createComment(e);return o.insertBefore(n,r),()=>{o.removeChild(n)}}}},[e])},ue=rs,ns=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new ce(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){Fe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var s;this.componentInstance=e,(s=this.resolveInstanceCreated)==null||s.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},os=e=>{const s=t.useRef(e),r=t.useRef(),o=t.useRef(!1),n=t.useRef(!1),[,i]=t.useState(0);o.current&&(n.current=!0),t.useEffect(()=>(o.current||(r.current=s.current(),o.current=!0),i(u=>u+1),()=>{var u;n.current&&((u=r.current)==null||u.call(r))}),[])},as=e=>{const[s,r]=t.useState(),{context:o,popupSvc:n,localeSvc:i,gos:u,editSvc:c}=t.useContext(Z);return os(()=>{var P,B;const{editDetails:d,cellCtrl:l,eParentCell:R}=e,{compDetails:S}=d,C=u.get("stopEditingWhenCellsLoseFocus"),m=o.createBean(c.createPopupEditorWrapper(S.params)),b=m.getGui();if(e.jsChildComp){const N=e.jsChildComp.getGui();N&&b.appendChild(N)}const{column:w,rowNode:v}=l,p={column:w,rowNode:v,type:"popupCellEditor",eventSource:R,ePopup:b,position:d.popupPosition,keepWithinBounds:!0},g=n==null?void 0:n.positionPopupByComponent.bind(n,p),E=Pt(i),y=n==null?void 0:n.addPopup({modal:C,eChild:b,closeOnEsc:!0,closedCallback:()=>{l.onPopupEditorClosed()},anchorToElement:R,positionCallback:g,ariaLabel:E("ariaLabelCellEditor","Cell Editor")}),k=y?y.hideFunc:void 0;return r(m),(B=(P=e.jsChildComp)==null?void 0:P.afterGuiAttached)==null||B.call(P),()=>{k==null||k(),o.destroyBean(m)}}),a.createElement(a.Fragment,null,s&&e.wrappedContent&&He.createPortal(e.wrappedContent,s.getGui()))},We=t.memo(as),cs=(e,s,r,o,n,i)=>{const{context:u}=t.useContext(Z),c=t.useCallback(()=>{const d=n.current;if(!d)return;const l=d.getGui();l&&l.parentElement&&l.parentElement.removeChild(l),u.destroyBean(d),n.current=void 0},[]);t.useEffect(()=>{const d=e!=null,l=(e==null?void 0:e.compDetails)&&!e.compDetails.componentFromFramework,R=s&&r==null;if(!(d&&l&&!R)){c();return}const C=e.compDetails;if(n.current){const b=n.current,v=b.refresh!=null&&e.force==!1?b.refresh(C.params):!1;if(v===!0||v===void 0)return;c()}C.newAgStackInstance().then(b=>{if(!b)return;const w=b.getGui();if(!w)return;(s?r:i.current).appendChild(w),n.current=b})},[e,s,o]),t.useEffect(()=>c,[])},ls=cs,us=(e,s,r)=>{const{compProxy:o}=e;r(o);const n=o.getProps(),i=pe(s);return a.createElement(Me.Provider,{value:{setMethods:u=>o.setMethods(u)}},i?a.createElement(s,{...n}):a.createElement(s,{...n,ref:u=>o.setRef(u)}))},De=(e,s,r)=>{const o=e.compProxy;return a.createElement(a.Fragment,null,o?us(e,s,r):a.createElement(s,{...e.compDetails.params,ref:r}))},is=(e,s,r,o,n)=>{const i=e.compDetails,u=i.componentClass,c=i.componentFromFramework&&!e.popup,d=i.componentFromFramework&&e.popup,l=!i.componentFromFramework&&e.popup;return a.createElement(a.Fragment,null,c&&De(e,u,s),d&&a.createElement(We,{editDetails:e,cellCtrl:o,eParentCell:r,wrappedContent:De(e,u,s)}),l&&n&&a.createElement(We,{editDetails:e,cellCtrl:o,eParentCell:r,jsChildComp:n}))},ds=(e,s,r,o,n,i,u)=>{const{compDetails:c,value:d}=e,l=!c,R=c&&c.componentFromFramework,S=c&&c.componentClass,C=d!=null&&d.toString?d.toString():d,m=()=>a.createElement(a.Fragment,null,l&&a.createElement(a.Fragment,null,C),R&&!i&&a.createElement(S,{...c.params,key:s,ref:o}),R&&i&&a.createElement(S,{...c.params,key:s}));return a.createElement(a.Fragment,null,n?a.createElement("span",{role:"presentation",id:"cell-".concat(r),className:"ag-cell-value",ref:u},m()):m())},ps=({cellCtrl:e,printLayout:s,editingRow:r})=>{const{context:o}=t.useContext(Z),{colIdSanitised:n,instanceId:i}=e,u=t.useRef(),[c,d]=t.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[l,R]=t.useState(),[S,C]=t.useState(1),[m,b]=t.useState(),[w,v]=t.useState(!1),[p,g]=t.useState(!1),[E,y]=t.useState(!1),[k,P]=t.useState(),B=t.useMemo(()=>e.isForceWrapper(),[e]),N=t.useMemo(()=>e.getCellAriaRole(),[e]),W=t.useRef(null),_=t.useRef(null),O=t.useRef(null),M=t.useRef(),h=t.useRef(),V=t.useRef(),f=t.useRef([]),x=t.useRef(),[U,G]=t.useState(0),A=t.useCallback(j=>{x.current=j,G(J=>J+1)},[]),F=c!=null&&(w||E||p),I=B||F,L=t.useCallback(j=>{if(h.current=j,j){const J=j.isCancelBeforeStart&&j.isCancelBeforeStart();setTimeout(()=>{J?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),H=t.useRef();H.current||(H.current=new we(()=>W.current)),ls(c,I,x.current,U,M,W);const D=t.useRef();t.useLayoutEffect(()=>{var T;const j=D.current,J=c;if(D.current=c,j==null||j.compDetails==null||J==null||J.compDetails==null)return;const Y=j.compDetails,te=J.compDetails;if(Y.componentClass!=te.componentClass||((T=O.current)==null?void 0:T.refresh)==null)return;O.current.refresh(te.params)!=!0&&C(q=>q+1)},[c]),t.useLayoutEffect(()=>{if(!(l&&!l.compDetails.componentFromFramework))return;const J=l.compDetails,Y=l.popup===!0,te=J.newAgStackInstance();return te.then(X=>{if(!X)return;const T=X.getGui();if(L(X),!Y){const q=(B?V:W).current;q==null||q.appendChild(T),X.afterGuiAttached&&X.afterGuiAttached()}P(X)}),()=>{te.then(X=>{var q;const T=X.getGui();o.destroyBean(X),L(void 0),P(void 0),(q=T==null?void 0:T.parentElement)==null||q.removeChild(T)})}},[l]);const Q=t.useCallback(j=>{if(V.current=j,!j){f.current.forEach(Y=>Y()),f.current=[];return}const J=Y=>{if(Y){const te=Y.getGui();j.insertAdjacentElement("afterbegin",te),f.current.push(()=>{o.destroyBean(Y),Et(te)})}return Y};if(w){const Y=e.createSelectionCheckbox();J(Y)}E&&J(e.createDndSource()),p&&J(e.createRowDragComp())},[e,o,E,p,w]),K=t.useCallback(()=>{var X;const j=!e.isCellSpanning()||_.current,J=W.current;if(u.current=J?o.createBean(new de):o.destroyBean(u.current),!J||!j||!e)return;const Y={addOrRemoveCssClass:(T,q)=>H.current.addOrRemoveCssClass(T,q),setUserStyles:T=>b(T),getFocusableElement:()=>W.current,setIncludeSelection:T=>v(T),setIncludeRowDrag:T=>g(T),setIncludeDndSource:T=>y(T),getCellEditor:()=>h.current||null,getCellRenderer:()=>{var T;return(T=O.current)!=null?T:M.current},getParentOfValue:()=>{var T,q;return(q=(T=x.current)!=null?T:V.current)!=null?q:W.current},setRenderDetails:(T,q,ae)=>{d($=>($==null?void 0:$.compDetails)!==T||($==null?void 0:$.value)!==q||($==null?void 0:$.force)!==ae?{value:q,compDetails:T,force:ae}:$)},setEditDetails:(T,q,ae,$)=>{if(T){let ne;$?ne=new ns(T.params,()=>C(me=>me+1)):T.componentFromFramework&&Be(),R({compDetails:T,popup:q,popupPosition:ae,compProxy:ne}),q||d(void 0)}else R(ne=>{ne!=null&&ne.compProxy&&(h.current=void 0)})}},te=V.current||void 0;e.setComp(Y,J,(X=_.current)!=null?X:void 0,te,s,r,u.current)},[]),le=t.useCallback(j=>{W.current=j,K()},[]),ie=t.useCallback(j=>{_.current=j,K()},[]),Se=t.useMemo(()=>{var J;return!!(((J=c==null?void 0:c.compDetails)==null?void 0:J.componentFromFramework)&&pe(c.compDetails.componentClass))},[c]);t.useLayoutEffect(()=>{W.current&&(H.current.addOrRemoveCssClass("ag-cell-value",!I),H.current.addOrRemoveCssClass("ag-cell-inline-editing",!!l&&!l.popup),H.current.addOrRemoveCssClass("ag-cell-popup-editing",!!l&&!!l.popup),H.current.addOrRemoveCssClass("ag-cell-not-inline-editing",!l||!!l.popup),e.setInlineEditingCss(),e.shouldRestoreFocus()&&!e.editing&&W.current.focus({preventScroll:!0}))});const Ce=()=>a.createElement(a.Fragment,null,c!=null&&ds(c,S,i,O,I,Se,A),l!=null&&is(l,L,W.current,e,k)),be=t.useCallback(()=>e.onFocusOut(),[]),ge=()=>a.createElement("div",{ref:le,style:m,role:N,"col-id":n,onBlur:be},I?a.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Q},Ce()):Ce());return e.isCellSpanning()?a.createElement("div",{ref:ie,className:"ag-spanned-cell-wrapper",role:"presentation"},ge()):ge()},ms=t.memo(ps),hs=({rowCtrl:e,containerType:s})=>{const{context:r,gos:o}=t.useContext(Z),n=t.useRef(),i=t.useRef(e.getDomOrder()),u=e.isFullWidth(),c=e.rowNode.displayed,[d,l]=t.useState(()=>c?e.rowNode.getRowIndexString():null),[R,S]=t.useState(()=>e.rowId),[C,m]=t.useState(()=>e.businessKey),[b,w]=t.useState(()=>e.rowStyles),v=t.useRef(null),p=t.useRef(null),[g,E]=t.useState(()=>null),[y,k]=t.useState(),[P,B]=t.useState(()=>c?e.getInitialRowTop(s):void 0),[N,W]=t.useState(()=>c?e.getInitialTransform(s):void 0),_=t.useRef(null),O=t.useRef(),M=t.useRef(!1),[h,V]=t.useState(0);t.useEffect(()=>{var Q;if(M.current||!y||h>10)return;const D=(Q=_.current)==null?void 0:Q.firstChild;D?(e.setupDetailRowAutoHeight(D),M.current=!0):V(K=>K+1)},[y,h]);const f=t.useRef();f.current||(f.current=new we(()=>_.current));const x=t.useCallback(D=>{if(_.current=D,n.current=D?r.createBean(new de):r.destroyBean(n.current),!D){e.unsetComp(s);return}if(!e.isAlive())return;const Q={setTop:B,setTransform:W,addOrRemoveCssClass:(K,le)=>f.current.addOrRemoveCssClass(K,le),setDomOrder:K=>i.current=K,setRowIndex:l,setRowId:S,setRowBusinessKey:m,setUserStyles:w,setCellCtrls:(K,le)=>{p.current=v.current,v.current=K;const ie=ve(p.current,K,i.current);ie!==p.current&&ye(le,()=>E(ie))},showFullWidth:K=>k(K),getFullWidthCellRenderer:()=>O.current,refreshFullWidth:K=>I.current?(k(le=>({...le,params:K()})),!0):!O.current||!O.current.refresh?!1:O.current.refresh(K())};e.setComp(Q,D,s,n.current)},[]);t.useLayoutEffect(()=>fe(y,r,_.current,O),[y]);const U=t.useMemo(()=>{const D={top:P,transform:N};return Object.assign(D,b),D},[P,N,b]),G=u&&(y==null?void 0:y.componentFromFramework),A=!u&&g!=null,F=t.useMemo(()=>!!((y==null?void 0:y.componentFromFramework)&&pe(y.componentClass)),[y]),I=t.useRef(!1);t.useEffect(()=>{I.current=F&&!!y&&!!o.get("reactiveCustomComponents")},[F,y]);const L=()=>g==null?void 0:g.map(D=>a.createElement(ms,{cellCtrl:D,editingRow:e.editing,printLayout:e.printLayout,key:D.instanceId})),H=()=>{const D=y.componentClass;return a.createElement(a.Fragment,null,F?a.createElement(D,{...y.params}):a.createElement(D,{...y.params,ref:O}))};return a.createElement("div",{ref:x,role:"row",style:U,"row-index":d,"row-id":R,"row-business-key":C},A&&L(),G&&H())},Te=t.memo(hs),fs=({name:e})=>{const{context:s,gos:r}=t.useContext(Z),o=t.useMemo(()=>gt(e),[e]),n=t.useRef(null),i=t.useRef(null),u=t.useRef(null),c=t.useRef([]),d=t.useRef([]),[l,R]=t.useState(()=>[]),S=!!r.get("enableCellSpan")&&!!o.getSpannedRowCtrls,C=t.useRef([]),m=t.useRef([]),[b,w]=t.useState(()=>[]),v=t.useRef(!1),p=t.useRef(),g=t.useMemo(()=>se("ag-viewport",Rt(e)),[e]),E=t.useMemo(()=>se(yt(e)),[e]),y=t.useMemo(()=>se("ag-spanning-container",vt(e)),[e]),k=o.type==="center"||S,P=k?n:i;ue(" AG Row Container "+e+" ",P);const B=t.useCallback(()=>{const f=!k||n.current!=null,x=i.current!=null,U=!S||u.current!=null;return f&&x&&U},[]),N=t.useCallback(()=>n.current==null&&i.current==null&&u.current==null,[]),W=t.useCallback(()=>{var f;if(N()&&(p.current=s.destroyBean(p.current)),B()){const x=A=>{const F=ve(d.current,c.current,v.current);F!==d.current&&(d.current=F,ye(A,()=>R(F)))},U=A=>{const F=ve(m.current,C.current,v.current);F!==m.current&&(m.current=F,ye(A,()=>w(F)))},G={setHorizontalScroll:A=>{n.current&&(n.current.scrollLeft=A)},setViewportHeight:A=>{n.current&&(n.current.style.height=A)},setRowCtrls:({rowCtrls:A,useFlushSync:F})=>{const I=!!F&&c.current.length>0&&A.length>0;c.current=A,x(I)},setSpannedRowCtrls:(A,F)=>{const I=!!F&&C.current.length>0&&A.length>0;C.current=A,U(I)},setDomOrder:A=>{v.current!=A&&(v.current=A,x(!1))},setContainerWidth:A=>{i.current&&(i.current.style.width=A)},setOffsetTop:A=>{i.current&&(i.current.style.transform="translateY(".concat(A,")"))}};p.current=s.createBean(new wt(e)),p.current.setComp(G,i.current,(f=u.current)!=null?f:void 0,n.current)}},[B,N]),_=t.useCallback(f=>{i.current=f,W()},[W]),O=t.useCallback(f=>{u.current=f,W()},[W]),M=t.useCallback(f=>{n.current=f,W()},[W]),h=()=>a.createElement("div",{className:E,ref:_,role:"rowgroup"},l.map(f=>a.createElement(Te,{rowCtrl:f,containerType:o.type,key:f.instanceId})));if(!k)return h();const V=()=>S&&a.createElement("div",{className:y,ref:O,role:"rowgroup"},b.map(f=>a.createElement(Te,{rowCtrl:f,containerType:o.type,key:f.instanceId})));return a.createElement("div",{className:g,ref:M,role:"presentation"},h(),V())},Cs=t.memo(fs),gs=()=>{const e=t.useContext(Z),{context:s,overlays:r}=e,[o,n]=t.useState(""),[i,u]=t.useState(0),[c,d]=t.useState(0),[l,R]=t.useState("0px"),[S,C]=t.useState("0px"),[m,b]=t.useState("100%"),[w,v]=t.useState("0px"),[p,g]=t.useState("0px"),[E,y]=t.useState("100%"),[k,P]=t.useState(""),[B,N]=t.useState(""),[W,_]=t.useState(null),[O,M]=t.useState(""),[h,V]=t.useState(null),[f,x]=t.useState("ag-layout-normal"),U=t.useRef();U.current||(U.current=new we(()=>G.current));const G=t.useRef(null),A=t.useRef(null),F=t.useRef(null),I=t.useRef(null),L=t.useRef(null),H=t.useRef(null),D=t.useRef(null),Q=t.useRef([]),K=t.useRef([]);ue(" AG Grid Body ",G),ue(" AG Pinned Top ",A),ue(" AG Sticky Top ",F),ue(" AG Middle ",H),ue(" AG Pinned Bottom ",D);const le=t.useCallback($=>{if(G.current=$,!$){Q.current=s.destroyBeans(Q.current),K.current.forEach(z=>z()),K.current=[];return}if(!s)return;const ne=(z,ee)=>{z.appendChild(ee),K.current.push(()=>z.removeChild(ee))},me=z=>{const ee=s.createBean(new z);return Q.current.push(ee),ee},he=(z,ee,qe)=>{ne(z,document.createComment(qe)),ne(z,me(ee).getGui())};he($,mt," AG Fake Horizontal Scroll ");const xe=r==null?void 0:r.getOverlayWrapperCompClass();xe&&he($,xe," AG Overlay Wrapper "),L.current&&he(L.current,ht," AG Fake Vertical Scroll ");const Ke={setRowAnimationCssOnBodyViewport:n,setColumnCount:z=>{G.current&&pt(G.current,z)},setRowCount:z=>{G.current&&dt(G.current,z)},setTopHeight:u,setBottomHeight:d,setStickyTopHeight:R,setStickyTopTop:C,setStickyTopWidth:b,setTopDisplay:P,setBottomDisplay:N,setColumnMovingCss:(z,ee)=>U.current.addOrRemoveCssClass(z,ee),updateLayoutClasses:x,setAlwaysVerticalScrollClass:_,setPinnedTopBottomOverflowY:M,setCellSelectableCss:(z,ee)=>V(ee?z:null),setBodyViewportWidth:z=>{H.current&&(H.current.style.width=z)},registerBodyViewportResizeListener:z=>{if(H.current){const ee=Ve(e,H.current,z);K.current.push(()=>ee())}},setStickyBottomHeight:v,setStickyBottomBottom:g,setStickyBottomWidth:y,setGridRootRole:z=>$.setAttribute("role",z)},Ge=s.createBean(new ut);Q.current.push(Ge),Ge.setComp(Ke,$,H.current,A.current,D.current,F.current,I.current)},[]),ie=t.useMemo(()=>se("ag-root","ag-unselectable",f),[f]),Se=t.useMemo(()=>se("ag-body-viewport",o,f,W,h),[o,f,W,h]),Ce=t.useMemo(()=>se("ag-body",f),[f]),be=t.useMemo(()=>se("ag-floating-top",h),[h]),ge=t.useMemo(()=>se("ag-sticky-top",h),[h]),j=t.useMemo(()=>se("ag-sticky-bottom",w==="0px"?"ag-hidden":null,h),[h,w]),J=t.useMemo(()=>se("ag-floating-bottom",h),[h]),Y=t.useMemo(()=>({height:i,minHeight:i,display:k,overflowY:O}),[i,k,O]),te=t.useMemo(()=>({height:l,top:S,width:m}),[l,S,m]),X=t.useMemo(()=>({height:w,bottom:p,width:E}),[w,p,E]),T=t.useMemo(()=>({height:c,minHeight:c,display:B,overflowY:O}),[c,B,O]),q=$=>a.createElement(Cs,{name:$,key:"".concat($,"-container")}),ae=({section:$,children:ne,className:me,style:he})=>a.createElement("div",{ref:$,className:me,role:"presentation",style:he},ne.map(q));return a.createElement("div",{ref:le,className:ie},a.createElement(ss,null),ae({section:A,className:be,style:Y,children:["topLeft","topCenter","topRight","topFullWidth"]}),a.createElement("div",{className:Ce,ref:L,role:"presentation"},ae({section:H,className:Se,children:["left","center","right","fullWidth"]})),ae({section:F,className:ge,style:te,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),ae({section:I,className:j,style:X,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),ae({section:D,className:J,style:T,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Rs=t.memo(gs),ys=(e,s)=>{const{children:r,eFocusableElement:o,onTabKeyDown:n,gridCtrl:i,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:c}=e,{context:d}=t.useContext(Z),l=t.useRef(null),R=t.useRef(null),S=t.useRef(),C=p=>{const g=p==null?void 0:parseInt(p,10).toString();[l,R].forEach(E=>{var y,k;g===void 0?(y=E.current)==null||y.removeAttribute("tabindex"):(k=E.current)==null||k.setAttribute("tabindex",g)})};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(p){var g;(g=S.current)==null||g.forceFocusOutOfContainer(p)}}));const m=t.useCallback(()=>{const p=l.current,g=R.current;if(!p&&!g){S.current=d.destroyBean(S.current);return}if(p&&g){const E={setTabIndex:C};S.current=d.createBean(new it({comp:E,eTopGuard:p,eBottomGuard:g,eFocusableElement:o,onTabKeyDown:n,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:y=>i.focusInnerElement(y),isEmpty:c}))}},[]),b=t.useCallback(p=>{l.current=p,m()},[m]),w=t.useCallback(p=>{R.current=p,m()},[m]),v=p=>{const g=p==="top"?Ee.TAB_GUARD_TOP:Ee.TAB_GUARD_BOTTOM;return a.createElement("div",{className:"".concat(Ee.TAB_GUARD," ").concat(g),role:"presentation",ref:p==="top"?b:w})};return a.createElement(a.Fragment,null,v("top"),r,v("bottom"))},vs=t.forwardRef(ys),ws=t.memo(vs),Ss=({context:e})=>{const[s,r]=t.useState(""),[o,n]=t.useState(""),[i,u]=t.useState(null),[c,d]=t.useState(null),[l,R]=t.useState(!1),[S,C]=t.useState(),m=t.useRef(),b=t.useRef(null),w=t.useRef(),[v,p]=t.useState(null),g=t.useRef(()=>{}),E=t.useRef(),y=t.useRef([]),k=t.useCallback(()=>{},[]),P=t.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);ue(" AG Grid ",b);const B=t.useCallback(h=>{if(b.current=h,m.current=h?e.createBean(new at):e.destroyBean(m.current),!h||e.isDestroyed())return;const V=m.current;g.current=V.focusInnerElement.bind(V);const f={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:x=>{var U,G;if(!x&&((U=E.current)!=null&&U.isDisplayed())){E.current.forceFocusOutOfContainer(x);return}(G=w.current)==null||G.forceFocusOutOfContainer(x)},updateLayoutClasses:n,getFocusableContainers:()=>{var G;const x=[],U=(G=b.current)==null?void 0:G.querySelector(".ag-root");return U&&x.push({getGui:()=>U}),y.current.forEach(A=>{A.isDisplayed()&&x.push(A)}),x},setCursor:u,setUserSelect:d};V.setComp(f,h,h),R(!0)},[]);t.useEffect(()=>{const h=m.current,V=b.current;if(!S||!P||!h||!v||!V)return;const f=[],{watermarkSelector:x,paginationSelector:U,sideBarSelector:G,statusBarSelector:A,gridHeaderDropZonesSelector:F}=h.getOptionalSelectors(),I=[];if(F){const H=e.createBean(new F.component),D=H.getGui();V.insertAdjacentElement("afterbegin",D),I.push(D),f.push(H)}if(G){const H=e.createBean(new G.component),D=H.getGui(),Q=v.querySelector(".ag-tab-guard-bottom");Q&&(Q.insertAdjacentElement("beforebegin",D),I.push(D)),f.push(H),y.current.push(H)}const L=H=>{const D=e.createBean(new H),Q=D.getGui();return V.insertAdjacentElement("beforeend",Q),I.push(Q),f.push(D),D};if(A&&L(A.component),U){const H=L(U.component);E.current=H,y.current.push(H)}return x&&L(x.component),()=>{e.destroyBeans(f),I.forEach(H=>{var D;(D=H.parentElement)==null||D.removeChild(H)})}},[S,v,P]);const N=t.useMemo(()=>se("ag-root-wrapper",s,o),[s,o]),W=t.useMemo(()=>se("ag-root-wrapper-body","ag-focus-managed",o),[o]),_=t.useMemo(()=>({userSelect:c!=null?c:"",WebkitUserSelect:c!=null?c:"",cursor:i!=null?i:""}),[c,i]),O=t.useCallback(h=>{w.current=h,C(h!==null)},[]),M=t.useCallback(()=>{var h;return!((h=m.current)!=null&&h.isFocusable())},[]);return a.createElement("div",{ref:B,className:N,style:_,role:"presentation"},a.createElement("div",{className:W,ref:p,role:"presentation"},l&&v&&P&&a.createElement(Z.Provider,{value:P},a.createElement(ws,{ref:O,eFocusableElement:v,onTabKeyDown:k,gridCtrl:m.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:M},a.createElement(Rs,null)))))},bs=t.memo(Ss),Es=class extends rt{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}},Ps={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,setGridApi:void 0,componentWrappingElement:void 0,maxComponentCreationTimeMs:void 0,children:void 0},ze=new Set(Object.keys(Ps)),Je=e=>{var v,p;const s=t.useRef(),r=t.useRef(null),o=t.useRef(null),n=t.useRef([]),i=t.useRef([]),u=t.useRef(e),c=t.useRef(),d=t.useRef(),l=t.useRef(!1),[R,S]=t.useState(void 0),[,C]=t.useState(0),m=t.useCallback(g=>{var M,h,V;if(r.current=g,!g){n.current.forEach(f=>f()),n.current.length=0;return}const E=e.modules||[];o.current||(o.current=new $t(()=>C(f=>f+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),n.current.push(()=>{var f;(f=o.current)==null||f.destroy(),o.current=null}));const y=Ye(e.gridOptions,e,Object.keys(e).filter(f=>!ze.has(f))),k=()=>{if(l.current){const f=()=>{var U;return(U=c.current)!=null&&U.shouldQueueUpdates()?void 0:i.current.shift()};let x=f();for(;x;)x(),x=f()}},P=new Bs(k);c.current=P;const B=new Es,N={providedBeanInstances:{frameworkCompWrapper:new Ms(o.current,(h=(M=y.reactiveCustomComponents)!=null?M:Ze("reactiveCustomComponents"))!=null?h:!0),renderStatus:B},modules:E,frameworkOverrides:P,setThemeOnGridDiv:!0},W=f=>{S(f),f.createBean(B),n.current.push(()=>{f.destroy()}),f.getBean("ctrlsSvc").whenReady({addDestroyFunc:x=>{n.current.push(x)}},()=>{var U;if(f.isDestroyed())return;const x=s.current;x&&((U=e.setGridApi)==null||U.call(e,x))})},_=f=>{f.getBean("ctrlsSvc").whenReady({addDestroyFunc:x=>{n.current.push(x)}},()=>{i.current.forEach(x=>x()),i.current.length=0,l.current=!0})},O=new Xe;(V=y.gridId)!=null||(y.gridId=d.current),s.current=O.create(g,y,W,_,N),n.current.push(()=>{s.current=void 0}),s.current&&(d.current=s.current.getGridId())},[]),b=t.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),w=t.useCallback(g=>{var E;l.current&&!((E=c.current)!=null&&E.shouldQueueUpdates())?g():i.current.push(g)},[]);return t.useEffect(()=>{const g=ks(u.current,e);u.current=e,w(()=>{s.current&&et(g,s.current)})},[e]),a.createElement("div",{style:b,className:e.className,ref:m},R&&!R.isDestroyed()?a.createElement(bs,{context:R}):null,(p=(v=o.current)==null?void 0:v.getPortals())!=null?p:null)};function ks(e,s){const r={};return Object.keys(s).forEach(o=>{if(ze.has(o))return;const n=s[o];e[o]!==n&&(r[o]=n)}),r}var Ms=class extends st{constructor(e,s){super(),this.parent=e,this.reactiveCustomComponents=s}createWrapper(e,s){if(this.reactiveCustomComponents){const n=(i=>{switch(i){case"filter":return Wt;case"floatingFilterComponent":return Tt;case"dateComponent":return It;case"dragAndDropImageComponent":return Ot;case"loadingOverlayComponent":return Ht;case"noRowsOverlayComponent":return Vt;case"statusPanel":return _t;case"toolPanel":return Lt;case"menuItem":return Ut;case"cellRenderer":return At;case"innerHeaderComponent":return Nt}})(s.name);if(n)return new n(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Be();break}const r=!s.cellRenderer&&s.name!=="toolPanel";return new je(e,this.parent,s,r)}},Fs=t.forwardRef((e,s)=>{const r=t.useContext(Z),{registry:o,context:n,gos:i,rowModel:u}=r,[c,d]=t.useState(()=>new re),[l,R]=t.useState(()=>new re),[S,C]=t.useState(),[m,b]=t.useState(),w=t.useRef(),v=t.useRef(null),p=t.useRef(),g=t.useMemo(()=>{var B;return nt(e.api.getGridId(),(B=S==null?void 0:S.rowModelType)!=null?B:"clientSide")},[e]),E=t.useMemo(()=>c.toString()+" ag-details-row",[c]),y=t.useMemo(()=>l.toString()+" ag-details-grid",[l]);s&&t.useImperativeHandle(s,()=>({refresh(){var B,N;return(N=(B=w.current)==null?void 0:B.refresh())!=null?N:!1}})),e.template&&Ue(230);const k=t.useCallback(B=>{var _;if(v.current=B,!B){w.current=n.destroyBean(w.current),(_=p.current)==null||_.call(p);return}const N={addOrRemoveCssClass:(O,M)=>d(h=>h.setClass(O,M)),addOrRemoveDetailGridCssClass:(O,M)=>R(h=>h.setClass(O,M)),setDetailGrid:O=>C(O),setRowData:O=>b(O),getGui:()=>v.current},W=o.createDynamicBean("detailCellRendererCtrl",!0);if(W&&(n.createBean(W),W.init(N,e),w.current=W,i.get("detailRowAutoHeight"))){const O=()=>{if(v.current==null)return;const M=v.current.clientHeight;M!=null&&M>0&&setTimeout(()=>{e.node.setRowHeight(M),(ct(i)||lt(i))&&u.onRowHeightChanged()},0)};p.current=Ve(r,B,O),O()}},[]),P=t.useCallback(B=>{var N;(N=w.current)==null||N.registerDetailWithMaster(B)},[]);return a.createElement("div",{className:E,ref:k},S&&a.createElement(Je,{className:y,...S,modules:g,rowData:m,setGridApi:P}))}),Bs=class extends tt{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.frameworkComponents={agGroupCellRenderer:Ie,agGroupRowRenderer:Ie,agDetailCellRenderer:Fs},this.wrapIncoming=(s,r)=>r==="ensureVisible"?Ft(s):s(),this.renderingEngine="react"}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Mt()}},As=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(s=>s(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return a.createElement(Je,{...this.props,setGridApi:this.setGridApi})}};export{As as A};
