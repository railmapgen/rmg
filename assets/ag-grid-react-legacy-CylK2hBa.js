!function(){const e=["key"];function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?t(Object(s),!0).forEach(function(t){n(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):t(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}System.register(["./react-legacy-B8c4_Whb.js","./ag-grid-community-legacy-51mSNOf7.js"],function(t,n){"use strict";var s,o,a,l,u,c,i,d,p,h,m,f,g,C,v,y,w,S,b,E,R,P,k,M,F,x,A,D,I,B,O,G,T,N,U,W,j,L,H,V;return{setters:[e=>{s=e.a,o=e.d,a=e.e,l=e.b},e=>{u=e._,c=e.a,i=e.G,d=e.b,p=e.V,h=e.B,m=e.c,f=e.d,g=e.e,C=e.f,v=e.g,y=e.A,w=e.h,S=e.i,b=e.j,E=e.C,R=e.k,P=e.T,k=e.l,M=e.m,F=e.F,x=e.n,A=e.o,D=e.p,I=e.H,B=e.q,O=e.r,G=e.s,T=e.t,N=e.R,U=e.E,W=e.u,j=e.v,L=e.w,H=e.x,V=e.y}],execute:function(){var n,$=o.createContext({}),q=(e,t,r,n)=>{if(!e||e.componentFromFramework||t.isDestroyed())return;const s=e.newAgStackInstance();let o,a,l=!1;return s.then(e=>{l?t.destroyBean(e):(o=e,a=o.getGui(),r.appendChild(a),K(n,o))}),()=>{var e;l=!0,o&&(null===(e=a)||void 0===e||null===(e=e.parentElement)||void 0===e||e.removeChild(a),t.destroyBean(o),n&&K(n,void 0))}},K=(e,t)=>{if(e)if(e instanceof Function){e(t)}else{e.current=t}},_=(...e)=>e.filter(e=>null!=e&&""!==e).join(" "),z=class e{constructor(...e){this.classesMap={},e.forEach(e=>{this.classesMap[e]=!0})}setClass(t,n){if(!!this.classesMap[t]==n)return this;const s=new e;return s.classesMap=r({},this.classesMap),s.classesMap[t]=n,s}toString(){return Object.keys(this.classesMap).filter(e=>this.classesMap[e]).join(" ")}},Q=e=>"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===("function"==typeof Symbol&&Symbol.for?Symbol.for("react.memo"):60115),Y=null===(n=o.version)||void 0===n?void 0:n.split(".")[0],Z="16"===Y||"17"===Y;var J=!1;var X=(e,t)=>{Z||!e||J?t():a.flushSync(t)};function ee(e,t,r){if(null==t||null==e)return t;if(e===t||0===t.length&&0===e.length)return e;if(r||0===e.length&&t.length>0||e.length>0&&0===t.length)return t;const n=[],s=[],o=new Map,a=new Map;for(let l=0;l<t.length;l++){const e=t[l];a.set(e.instanceId,e)}for(let l=0;l<e.length;l++){const t=e[l];o.set(t.instanceId,t),a.has(t.instanceId)&&n.push(t)}for(let l=0;l<t.length;l++){const e=t[l],r=e.instanceId;o.has(r)||s.push(e)}return n.length===e.length&&0===s.length?e:0===n.length&&s.length===t.length?t:0===n.length?s:0===s.length?n:[...n,...s]}var te=s.forwardRef((e,t)=>{var n;const{registry:a,context:l}=s.useContext($),u=s.useRef(null),c=s.useRef(null),i=s.useRef(null),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),[m,f]=s.useState(),[g,C]=s.useState(),[y,w]=s.useState(),[S,b]=s.useState(()=>new z),[E,R]=s.useState(()=>new z("ag-hidden")),[P,k]=s.useState(()=>new z("ag-hidden")),[M,F]=s.useState(()=>new z("ag-invisible"));s.useImperativeHandle(t,()=>({refresh:()=>!1})),s.useLayoutEffect(()=>q(m,l,c.current),[m]);const x=s.useCallback(t=>{if(u.current=t,!t)return void(h.current=l.destroyBean(h.current));const r={setInnerRenderer:(e,t)=>{f(e),w(t)},setChildCount:e=>C(e),toggleCss:(e,t)=>b(r=>r.setClass(e,t)),setContractedDisplayed:e=>k(t=>t.setClass("ag-hidden",!e)),setExpandedDisplayed:e=>R(t=>t.setClass("ag-hidden",!e)),setCheckboxVisible:e=>F(t=>t.setClass("ag-invisible",!e)),setCheckboxSpacing:e=>F(t=>t.setClass("ag-group-checkbox-spacing",e))},n=a.createDynamicBean("groupCellRendererCtrl",!0);n&&(h.current=l.createBean(n),h.current.init(r,t,i.current,d.current,p.current,te,e))},[]),A=s.useMemo(()=>`ag-cell-wrapper ${S.toString()}`,[S]),D=s.useMemo(()=>`ag-group-expanded ${E.toString()}`,[E]),I=s.useMemo(()=>`ag-group-contracted ${P.toString()}`,[P]),B=s.useMemo(()=>`ag-group-checkbox ${M.toString()}`,[M]),O=m&&m.componentFromFramework,G=O?m.componentClass:void 0,T=null==m&&null!=y,N=v(y);return o.createElement("span",r({className:A,ref:x},e.colDef?{}:{role:null===(n=h.current)||void 0===n?void 0:n.getCellAriaRole()}),o.createElement("span",{className:D,ref:d}),o.createElement("span",{className:I,ref:p}),o.createElement("span",{className:B,ref:i}),o.createElement("span",{className:"ag-group-value",ref:c},T&&o.createElement(o.Fragment,null,N),O&&o.createElement(G,r({},m.params))),o.createElement("span",{className:"ag-group-child-count"},g))}),re=te,ne=s.createContext({setMethods:()=>{}}),se=s.memo(t=>{const{initialProps:n,addUpdateCallback:a,CustomComponentClass:l,setMethods:u}=t,[c,i]=s.useState(n),{key:d}=c,p=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(c,e);return s.useEffect(()=>{a(e=>i(e))},[]),o.createElement(ne.Provider,{value:{setMethods:u}},o.createElement(l,r({key:d},p)))}),oe=0;function ae(){return"agPortalKey_"+ ++oe}var le=class{constructor(e,t,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=t,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=ae(),this.portalKey=ae(),this.instanceCreated=this.isStatelessComponent()?y.resolve(!1):new y(e=>{this.resolveInstanceCreated=e})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&"function"==typeof this.componentInstance.destroy&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const t=this.portalManager.getComponentWrappingElement(),r=document.createElement(t||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return"function"==typeof Symbol&&Symbol.for}isStateless(e){return"function"==typeof e&&!(e.prototype&&e.prototype.isReactComponent)||"object"==typeof e&&e.$$typeof===this.getMemoType()}hasMethod(e){const t=this.getFrameworkComponentInstance();return!!t&&null!=t[e]||this.fallbackMethodAvailable(e)}callMethod(e,t){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,t&&t[0]?t[0]:{});if(!r)return void setTimeout(()=>this.callMethod(e,t));const n=r[e];return n?n.apply(r,t):this.fallbackMethodAvailable(e)?this.fallbackMethod(e,t&&t[0]?t[0]:{}):void 0}addMethod(e,t){this[e]=t}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new y(e=>this.createReactComponent(e))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=e=>{var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this,!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,r(r({},e),{},{key:this.key})),this.portal=l.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,t){return s.createElement(e,t)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!(this.isStatelessComponent()||!this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,t){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(t)}fallbackMethodAvailable(e){if(this.suppressFallbackMethods)return!1;return!!this[`${e}Component`]}};function ue(e,t,r){e.forEach(e=>{const n=t[e];n&&(r[e]=n)})}var ce=class extends le{constructor(){super(...arguments),this.awaitUpdateCallback=new y(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=se}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,t){return super.createElement(this.wrapperComponent,{initialProps:t,CustomComponentClass:e,setMethods:e=>this.setMethods(e),addUpdateCallback:e=>{this.updateCallback=()=>(e(this.getProps()),new y(e=>{setTimeout(()=>{e()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,ue(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return r(r({},this.sourceParams),{},{key:this.key,ref:this.ref})}refreshProps(){return this.updateCallback?this.updateCallback():new y(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},ie=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},de=class extends ce{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},pe=class extends ce{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,t){this.icon=e,this.shake=t,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:t,icon:r,shake:n}=this;return e.label=t,e.icon=r,e.shake=n,e}},he=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new y(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return null!=this.model}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const t=this.providedMethods;var r;t?null===(r=t.afterGuiAttached)||void 0===r||r.call(t,e):this.awaitSetMethodsCallback.then(()=>{var t,r;return null===(t=this.providedMethods)||void 0===t||null===(r=t.afterGuiAttached)||void 0===r?void 0:r.call(t,e)})}getOptionalMethods(){return["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){var t;!1===this.expectingNewMethods&&this.hasBeenActive&&(null===(t=this.providedMethods)||void 0===t?void 0:t.doesFilterPass)!==(null==e?void 0:e.doesFilterPass)&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback()}updateModel(e){this.setModel(e).then(()=>this.sourceParams.filterChangedCallback())}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,delete e.filterModifiedCallback,e}};function me(e,t){e.parentFilterInstance(r=>{(r.setModel(t)||y.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var fe=class{constructor(e,t){this.floatingFilterParams=e,this.refreshProps=t,this.model=null,this.onModelChange=e=>this.updateModel(e)}getProps(){return r(r({},this.floatingFilterParams),{},{model:this.model,onModelChange:this.onModelChange})}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){ue(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),me(this.floatingFilterParams,e)}},ge=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),me(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},Ce=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ve=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}},ye=class extends ce{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const t=this.awaitSetActive(e);e&&t.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},we=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}},Se=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},be=class extends ce{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Ee(){f(231)}var Re=class{constructor(e,t,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=t||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||1e3}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(t=>t!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,t,r){this.portals=[...this.portals,e],this.waitForInstance(t,r),this.batchUpdate()}updateReactPortal(e,t){this.portals[this.portals.indexOf(e)]=t,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,t,r=Date.now()){if(this.destroyed)t(null);else if(e.rendered())t(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate)return X(!0,()=>this.refresher()),void(e.rendered()&&t(e));window.setTimeout(()=>{this.waitForInstance(e,t,r)})}}},Pe=s.memo(({ctrl:e})=>{const t=e.isAlive(),{context:n}=s.useContext($),a=t?e.column.getColId():void 0,[l,u]=s.useState(),[c,i]=s.useState(),d=s.useRef(),p=s.useRef(null),h=s.useRef(null),m=s.useRef(null),f=s.useRef(),g=s.useRef();t&&!g.current&&(g.current=new E(()=>p.current));const C=s.useCallback(t=>{if(p.current=t,d.current=t?n.createBean(new U):n.destroyBean(d.current),!t||!e.isAlive())return;const r={setWidth:e=>{p.current&&(p.current.style.width=e)},toggleCss:(e,t)=>g.current.toggleCss(e,t),setUserStyles:e=>i(e),setAriaSort:e=>{p.current&&(e?W(p.current,e):j(p.current))},setUserCompDetails:e=>u(e),getUserCompInstance:()=>f.current||void 0};e.setComp(r,t,h.current,m.current,d.current);const s=e.getSelectAllGui();var o;s&&(null===(o=h.current)||void 0===o||o.insertAdjacentElement("afterend",s),d.current.addDestroyFunc(()=>s.remove()))},[]);s.useLayoutEffect(()=>q(l,n,m.current,f),[l]),s.useEffect(()=>{e.setDragSource(p.current)},[l]);const v=s.useMemo(()=>!!((null==l?void 0:l.componentFromFramework)&&Q(l.componentClass)),[l]),y=l&&l.componentFromFramework,w=l&&l.componentClass;return o.createElement("div",{ref:C,style:c,className:"ag-header-cell","col-id":a,role:"columnheader"},o.createElement("div",{ref:h,className:"ag-header-cell-resize",role:"presentation"}),o.createElement("div",{ref:m,className:"ag-header-cell-comp-wrapper",role:"presentation"},y&&v&&o.createElement(w,r({},l.params)),y&&!v&&o.createElement(w,r(r({},l.params),{},{ref:f}))))}),ke=s.memo(({ctrl:e})=>{const{context:t,gos:n}=s.useContext($),[a,l]=s.useState(),[u,c]=s.useState(()=>new z("ag-header-cell","ag-floating-filter")),[i,d]=s.useState(()=>new z),[p,h]=s.useState(()=>new z("ag-floating-filter-button","ag-hidden")),[m,f]=s.useState("false"),[g,C]=s.useState(),[,v]=s.useState(1),w=s.useRef(),S=s.useRef(null),b=s.useRef(null),E=s.useRef(null),R=s.useRef(null),P=s.useRef(),k=s.useRef(),M=e=>{null!=e&&P.current&&P.current(e)},F=s.useCallback(r=>{if(S.current=r,w.current=r?t.createBean(new U):t.destroyBean(w.current),!r)return;k.current=new y(e=>{P.current=e});const n={toggleCss:(e,t)=>c(r=>r.setClass(e,t)),setUserStyles:e=>l(e),addOrRemoveBodyCssClass:(e,t)=>d(r=>r.setClass(e,t)),setButtonWrapperDisplayed:e=>{h(t=>t.setClass("ag-hidden",!e)),f(e?"false":"true")},setWidth:e=>{S.current&&(S.current.style.width=e)},setCompDetails:e=>C(e),getFloatingFilterComp:()=>k.current?k.current:null,setMenuIcon:e=>{var t;return null===(t=R.current)||void 0===t?void 0:t.appendChild(e)}};e.setComp(n,r,R.current,b.current,w.current)},[]);s.useLayoutEffect(()=>q(g,t,b.current,M),[g]);const x=s.useMemo(()=>u.toString(),[u]),A=s.useMemo(()=>i.toString(),[i]),D=s.useMemo(()=>p.toString(),[p]),I=s.useMemo(()=>!!(g&&g.componentFromFramework&&Q(g.componentClass)),[g]),B=s.useMemo(()=>n.get("reactiveCustomComponents"),[]),O=s.useMemo(()=>{if(g){if(B){const e=new fe(g.params,()=>v(e=>e+1));return M(e),e}g.componentFromFramework&&Ee()}},[g]),G=null==O?void 0:O.getProps(),T=g&&g.componentFromFramework,N=g&&g.componentClass;return o.createElement("div",{ref:F,style:a,className:x,role:"gridcell"},o.createElement("div",{ref:b,className:A,role:"presentation"},T&&!B&&o.createElement(N,r(r({},g.params),{},{ref:I?()=>{}:M})),T&&B&&o.createElement(ne.Provider,{value:{setMethods:e=>O.setMethods(e)}},o.createElement(N,r({},G)))),o.createElement("div",{ref:E,"aria-hidden":m,className:D,role:"presentation"},o.createElement("button",{ref:R,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))}),Me=s.memo(({ctrl:e})=>{const{context:t}=s.useContext($),[n,a]=s.useState(),[l,u]=s.useState(()=>new z),[c,i]=s.useState(()=>new z),[d,p]=s.useState("false"),[h,m]=s.useState(),[f,g]=s.useState(),C=s.useMemo(()=>e.column.getUniqueId(),[]),v=s.useRef(),y=s.useRef(null),w=s.useRef(null),S=s.useRef(null),b=s.useRef(),E=s.useCallback(r=>{if(y.current=r,v.current=r?t.createBean(new U):t.destroyBean(v.current),!r)return;const n={setWidth:e=>{y.current&&(y.current.style.width=e)},toggleCss:(e,t)=>u(r=>r.setClass(e,t)),setUserStyles:e=>a(e),setHeaderWrapperHidden:e=>{const t=S.current;t&&(e?t.style.setProperty("display","none"):t.style.removeProperty("display"))},setHeaderWrapperMaxHeight:e=>{const t=S.current;t&&(null!=e?t.style.setProperty("max-height",`${e}px`):t.style.removeProperty("max-height"),t.classList.toggle("ag-header-cell-comp-wrapper-limited-height",null!=e))},setUserCompDetails:e=>g(e),setResizableDisplayed:e=>{i(t=>t.setClass("ag-hidden",!e)),p(e?"false":"true")},setAriaExpanded:e=>m(e),getUserCompInstance:()=>b.current||void 0};e.setComp(n,r,w.current,S.current,v.current)},[]);s.useLayoutEffect(()=>q(f,t,S.current),[f]),s.useEffect(()=>{y.current&&e.setDragSource(y.current)},[f]);const R=s.useMemo(()=>!!((null==f?void 0:f.componentFromFramework)&&Q(f.componentClass)),[f]),P=s.useMemo(()=>"ag-header-group-cell "+l.toString(),[l]),k=s.useMemo(()=>"ag-header-cell-resize "+c.toString(),[c]),M=f&&f.componentFromFramework,F=f&&f.componentClass;return o.createElement("div",{ref:E,style:n,className:P,"col-id":C,role:"columnheader","aria-expanded":h},o.createElement("div",{ref:S,className:"ag-header-cell-comp-wrapper",role:"presentation"},M&&R&&o.createElement(F,r({},f.params)),M&&!R&&o.createElement(F,r(r({},f.params),{},{ref:b}))),o.createElement("div",{ref:w,"aria-hidden":d,className:k}))}),Fe=s.memo(({ctrl:e})=>{const{context:t}=s.useContext($),{topOffset:r,rowHeight:n}=s.useMemo(()=>e.getTopAndHeight(),[]),a=e.getAriaRowIndex(),l=e.headerRowClass,[u,c]=s.useState(()=>n+"px"),[i,d]=s.useState(()=>r+"px"),p=s.useRef(null),h=s.useRef(null),[m,f]=s.useState(()=>e.getUpdatedHeaderCtrls()),g=s.useRef(),C=s.useRef(null),v=s.useCallback(r=>{if(C.current=r,g.current=r?t.createBean(new U):t.destroyBean(g.current),!r)return;const n={setHeight:e=>c(e),setTop:e=>d(e),setHeaderCtrls:(e,t,r)=>{h.current=p.current,p.current=e;const n=ee(h.current,e,t);n!==h.current&&X(r,()=>f(n))},setWidth:e=>{C.current&&(C.current.style.width=e)}};e.setComp(n,g.current,!1)},[]),y=s.useMemo(()=>({height:u,top:i}),[u,i]),w=s.useCallback(t=>{switch(e.type){case"group":return o.createElement(Me,{ctrl:t,key:t.instanceId});case"filter":return o.createElement(ke,{ctrl:t,key:t.instanceId});default:return o.createElement(Pe,{ctrl:t,key:t.instanceId})}},[]);return o.createElement("div",{ref:v,className:l,role:"row",style:y,"aria-rowindex":a},m.map(w))}),xe=s.memo(({pinned:e})=>{const[t,r]=s.useState(!0),[n,a]=s.useState([]),{context:l}=s.useContext($),u=s.useRef(null),c=s.useRef(null),i=s.useRef(),d="left"===e,p="right"===e,h=!d&&!p,m=s.useCallback(t=>{if(u.current=t,i.current=t?l.createBean(new I(e)):l.destroyBean(i.current),!t)return;const n={setDisplayed:r,setCtrls:e=>a(e),setCenterWidth:e=>{c.current&&(c.current.style.width=e)},setViewportScrollLeft:e=>{u.current&&(u.current.scrollLeft=e)},setPinnedContainerWidth:e=>{u.current&&(u.current.style.width=e,u.current.style.minWidth=e,u.current.style.maxWidth=e)}};i.current.setComp(n,u.current)},[]),f=t?"":"ag-hidden",g=()=>n.map(e=>o.createElement(Fe,{ctrl:e,key:e.instanceId}));return o.createElement(o.Fragment,null,d&&o.createElement("div",{ref:m,className:"ag-pinned-left-header "+f,"aria-hidden":!t,role:"rowgroup"},g()),p&&o.createElement("div",{ref:m,className:"ag-pinned-right-header "+f,"aria-hidden":!t,role:"rowgroup"},g()),h&&o.createElement("div",{ref:m,className:"ag-header-viewport "+f,role:"presentation",tabIndex:-1},o.createElement("div",{ref:c,className:"ag-header-container",role:"rowgroup"},g())))}),Ae=s.memo(()=>{const[e,t]=s.useState(()=>new z),[r,n]=s.useState(),{context:a}=s.useContext($),l=s.useRef(null),u=s.useRef(),c=s.useCallback(e=>{if(l.current=e,u.current=e?a.createBean(new D):a.destroyBean(u.current),!e)return;const r={toggleCss:(e,r)=>t(t=>t.setClass(e,r)),setHeightAndMinHeight:e=>n(e)};u.current.setComp(r,e,e)},[]),i=s.useMemo(()=>"ag-header "+e.toString(),[e]),d=s.useMemo(()=>({height:r,minHeight:r}),[r]);return o.createElement("div",{ref:c,className:i,style:d,role:"presentation"},o.createElement(xe,{pinned:"left"}),o.createElement(xe,{pinned:null}),o.createElement(xe,{pinned:"right"}))}),De=(e,t)=>{s.useEffect(()=>{const r=t.current;if(r){const t=r.parentElement;if(t){const n=document.createComment(e);return t.insertBefore(n,r),()=>{t.removeChild(n)}}}},[e])},Ie=class{constructor(e,t){this.cellEditorParams=e,this.refreshProps=t,this.instanceCreated=new y(e=>{this.resolveInstanceCreated=e}),this.onValueChange=e=>this.updateValue(e),this.value=e.value}getProps(){return r(r({},this.cellEditorParams),{},{initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange})}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){ue(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){var t;this.componentInstance=e,null===(t=this.resolveInstanceCreated)||void 0===t||t.call(this),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached"]}updateValue(e){this.value=e,this.refreshProps()}},Be=s.memo(e=>{const[t,r]=s.useState(),n=s.useContext($),{context:a,popupSvc:u,localeSvc:c,gos:i,editSvc:d}=n,{editDetails:p,cellCtrl:h,eParentCell:m}=e;return(e=>{const t=s.useRef(e),r=s.useRef(),n=s.useRef(!1),o=s.useRef(!1),[,a]=s.useState(0);n.current&&(o.current=!0),s.useEffect(()=>(n.current||(r.current=t.current(),n.current=!0),a(e=>e+1),()=>{var e;o.current&&(null===(e=r.current)||void 0===e||e.call(r))}),[])})(()=>{var t,n;const{compDetails:s}=p,o=i.get("stopEditingWhenCellsLoseFocus"),l=a.createBean(d.createPopupEditorWrapper(s.params)),f=l.getGui();if(e.jsChildComp){const t=e.jsChildComp.getGui();t&&f.appendChild(t)}const{column:g,rowNode:C}=h,v={column:g,rowNode:C,type:"popupCellEditor",eventSource:m,ePopup:f,position:p.popupPosition,keepWithinBounds:!0},y=null==u?void 0:u.positionPopupByComponent.bind(u,v),w=V(c),S=null==u?void 0:u.addPopup({modal:o,eChild:f,closeOnEsc:!0,closedCallback:()=>{h.onPopupEditorClosed()},anchorToElement:m,positionCallback:y,ariaLabel:w("ariaLabelCellEditor","Cell Editor")}),b=S?S.hideFunc:void 0;return r(l),null===(t=e.jsChildComp)||void 0===t||null===(n=t.afterGuiAttached)||void 0===n||n.call(t),()=>{null==b||b(),a.destroyBean(l)}}),s.useLayoutEffect(()=>()=>{h.isCellFocused()&&null!=t&&t.getGui().contains(H(n))&&m.focus({preventScroll:!0})},[t]),o.createElement(o.Fragment,null,t&&e.wrappedContent&&l.createPortal(e.wrappedContent,t.getGui()))}),Oe=(e,t,r,n,o,a)=>{const{context:l}=s.useContext($),u=s.useCallback(()=>{const e=o.current;if(!e)return;const t=e.getGui();t&&t.parentElement&&t.parentElement.removeChild(t),l.destroyBean(e),o.current=void 0},[]);s.useEffect(()=>{const n=null!=e,s=(null==e?void 0:e.compDetails)&&!e.compDetails.componentFromFramework;if(!(n&&s&&!(t&&null==r)))return void u();const l=e.compDetails;if(o.current){const t=o.current,r=!!(null!=t.refresh&&0==e.force)&&t.refresh(l.params);if(!0===r||void 0===r)return;u()}l.newAgStackInstance().then(e=>{if(!e)return;const n=e.getGui();if(!n)return;(t?r:a.current).appendChild(n),o.current=e})},[e,t,n]),s.useEffect(()=>u,[])},Ge=(e,t,n)=>{const s=e.compProxy;return o.createElement(o.Fragment,null,s?((e,t,n)=>{const{compProxy:s}=e;n(s);const a=s.getProps(),l=Q(t);return o.createElement(ne.Provider,{value:{setMethods:e=>s.setMethods(e)}},l?o.createElement(t,r({},a)):o.createElement(t,r(r({},a),{},{ref:e=>s.setRef(e)})))})(e,t,n):o.createElement(t,r(r({},e.compDetails.params),{},{ref:n})))},Te=s.memo(({cellCtrl:e,printLayout:t,editingRow:n})=>{const a=s.useContext($),{context:l}=a,{column:{colIdSanitised:u},instanceId:c}=e,i=s.useRef(),[d,p]=s.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[h,m]=s.useState(),[f,g]=s.useState(1),[C,v]=s.useState(),[y,w]=s.useState(!1),[S,b]=s.useState(!1),[R,P]=s.useState(!1),[k,M]=s.useState(),F=s.useMemo(()=>e.isForceWrapper(),[e]),x=s.useMemo(()=>e.getCellAriaRole(),[e]),A=s.useRef(null),D=s.useRef(null),I=s.useRef(null),B=s.useRef(),O=s.useRef(),G=s.useRef(),T=s.useRef([]),N=s.useRef(),[W,j]=s.useState(0),H=s.useCallback(e=>{N.current=e,j(e=>e+1)},[]),V=F||null!=d&&(y||R||S),q=s.useCallback(t=>{if(O.current=t,t){const r=t.isCancelBeforeStart&&t.isCancelBeforeStart();setTimeout(()=>{r?(e.stopEditing(!0),e.focusCell(!0)):e.cellEditorAttached()})}},[e]),K=s.useRef();K.current||(K.current=new E(()=>A.current)),Oe(d,V,N.current,W,B,A);const _=s.useRef();s.useLayoutEffect(()=>{var e;const t=_.current,r=d;if(_.current=d,null==t||null==t.compDetails||null==r||null==r.compDetails)return;const n=t.compDetails,s=r.compDetails;if(n.componentClass!=s.componentClass)return;if(null==(null===(e=I.current)||void 0===e?void 0:e.refresh))return;1!=I.current.refresh(s.params)&&g(e=>e+1)},[d]),s.useLayoutEffect(()=>{if(!(h&&!h.compDetails.componentFromFramework))return;const e=h.compDetails,t=!0===h.popup,r=e.newAgStackInstance();return r.then(e=>{if(!e)return;const r=e.getGui();if(q(e),!t){const t=(F?G:A).current;null==t||t.appendChild(r),e.afterGuiAttached&&e.afterGuiAttached()}M(e)}),()=>{r.then(e=>{var t;const r=e.getGui();l.destroyBean(e),q(void 0),M(void 0),null==r||null===(t=r.parentElement)||void 0===t||t.removeChild(r)})}},[h]);const z=s.useCallback(t=>{if(G.current=t,!t)return T.current.forEach(e=>e()),void(T.current=[]);const r=e=>{if(e){const r=e.getGui();t.insertAdjacentElement("afterbegin",r),T.current.push(()=>{l.destroyBean(e),L(r)})}return e};if(y){r(e.createSelectionCheckbox())}R&&r(e.createDndSource()),S&&r(e.createRowDragComp())},[e,l,R,S,y]),Y=s.useCallback(()=>{var r;const s=!e.isCellSpanning()||D.current,o=A.current;if(i.current=o?l.createBean(new U):l.destroyBean(i.current),!o||!s||!e)return;const a={toggleCss:(e,t)=>K.current.toggleCss(e,t),setUserStyles:e=>v(e),getFocusableElement:()=>A.current,setIncludeSelection:e=>w(e),setIncludeRowDrag:e=>b(e),setIncludeDndSource:e=>P(e),getCellEditor:()=>O.current||null,getCellRenderer:()=>{var e;return null!==(e=I.current)&&void 0!==e?e:B.current},getParentOfValue:()=>{var e,t;return null!==(e=null!==(t=N.current)&&void 0!==t?t:G.current)&&void 0!==e?e:A.current},setRenderDetails:(e,t,r)=>{p(n=>(null==n?void 0:n.compDetails)!==e||(null==n?void 0:n.value)!==t||(null==n?void 0:n.force)!==r?{value:t,compDetails:e,force:r}:n)},setEditDetails:(t,r,n,s)=>{if(t){let e;s?e=new Ie(t.params,()=>g(e=>e+1)):t.componentFromFramework&&Ee(),m({compDetails:t,popup:r,popupPosition:n,compProxy:e}),r||p(void 0)}else{e.hasBrowserFocus()&&a.getFocusableElement().focus({preventScroll:!0}),m(e=>{null!=e&&e.compProxy&&(O.current=void 0)})}}},u=G.current||void 0;e.setComp(a,o,null!==(r=D.current)&&void 0!==r?r:void 0,u,t,n,i.current)},[]),Z=s.useCallback(e=>{A.current=e,Y()},[]),J=s.useCallback(e=>{D.current=e,Y()},[]),X=s.useMemo(()=>{var e;return!!((null==d||null===(e=d.compDetails)||void 0===e?void 0:e.componentFromFramework)&&Q(d.compDetails.componentClass))},[d]);s.useLayoutEffect(()=>{A.current&&(K.current.toggleCss("ag-cell-value",!V),K.current.toggleCss("ag-cell-inline-editing",!!h&&!h.popup),K.current.toggleCss("ag-cell-popup-editing",!!h&&!!h.popup),K.current.toggleCss("ag-cell-not-inline-editing",!h||!!h.popup),e.setInlineEditingCss())});const ee=()=>o.createElement(o.Fragment,null,null!=d&&((e,t,n,s,a,l,u)=>{const{compDetails:c,value:i}=e,d=!c,p=c&&c.componentFromFramework,h=c&&c.componentClass,m=null!=i&&i.toString?i.toString():i,f=()=>o.createElement(o.Fragment,null,d&&o.createElement(o.Fragment,null,m),p&&!l&&o.createElement(h,r(r({},c.params),{},{key:t,ref:s})),p&&l&&o.createElement(h,r(r({},c.params),{},{key:t})));return o.createElement(o.Fragment,null,a?o.createElement("span",{role:"presentation",id:`cell-${n}`,className:"ag-cell-value",ref:u},f()):f())})(d,f,c,I,V,X,H),null!=h&&((e,t,r,n,s)=>{const a=e.compDetails,l=a.componentClass,u=a.componentFromFramework&&!e.popup,c=a.componentFromFramework&&e.popup,i=!a.componentFromFramework&&e.popup;return o.createElement(o.Fragment,null,u&&Ge(e,l,t),c&&o.createElement(Be,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:Ge(e,l,t)}),i&&s&&o.createElement(Be,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:s}))})(h,q,A.current,e,k)),te=()=>o.createElement("div",{ref:Z,style:C,role:x,"col-id":u},V?o.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:z},ee()):ee());return e.isCellSpanning()?o.createElement("div",{ref:J,className:"ag-spanned-cell-wrapper",role:"presentation"},te()):te()}),Ne=s.memo(({rowCtrl:e,containerType:t})=>{const{context:n,gos:a}=s.useContext($),l=s.useRef(),u=s.useRef(e.getDomOrder()),c=e.isFullWidth(),i=e.rowNode.displayed,[d,p]=s.useState(()=>i?e.rowNode.getRowIndexString():null),[h,m]=s.useState(()=>e.rowId),[f,g]=s.useState(()=>e.businessKey),[C,v]=s.useState(()=>e.rowStyles),y=s.useRef(null),w=s.useRef(null),[S,b]=s.useState(()=>null),[R,P]=s.useState(),[k,M]=s.useState(()=>i?e.getInitialRowTop(t):void 0),[F,x]=s.useState(()=>i?e.getInitialTransform(t):void 0),A=s.useRef(null),D=s.useRef(),I=s.useRef(!1),[B,O]=s.useState(0);s.useEffect(()=>{var t;if(I.current||!R||B>10)return;const r=null===(t=A.current)||void 0===t?void 0:t.firstChild;r?(e.setupDetailRowAutoHeight(r),I.current=!0):O(e=>e+1)},[R,B]);const G=s.useRef();G.current||(G.current=new E(()=>A.current));const T=s.useCallback(s=>{if(A.current=s,l.current=s?n.createBean(new U):n.destroyBean(l.current),!s)return void e.unsetComp(t);if(!e.isAlive())return;const o={setTop:M,setTransform:x,toggleCss:(e,t)=>G.current.toggleCss(e,t),setDomOrder:e=>u.current=e,setRowIndex:p,setRowId:m,setRowBusinessKey:g,setUserStyles:v,setCellCtrls:(e,t)=>{w.current=y.current,y.current=e;const r=ee(w.current,e,u.current);r!==w.current&&X(t,()=>b(r))},showFullWidth:e=>P(e),getFullWidthCellRenderer:()=>D.current,refreshFullWidth:e=>H.current?(P(t=>r(r({},t),{},{params:e()})),!0):!(!D.current||!D.current.refresh)&&D.current.refresh(e())};e.setComp(o,s,t,l.current)},[]);s.useLayoutEffect(()=>q(R,n,A.current,D),[R]);const N=s.useMemo(()=>{const e={top:k,transform:F};return Object.assign(e,C),e},[k,F,C]),W=c&&(null==R?void 0:R.componentFromFramework),j=!c&&null!=S,L=s.useMemo(()=>!!((null==R?void 0:R.componentFromFramework)&&Q(R.componentClass)),[R]),H=s.useRef(!1);s.useEffect(()=>{H.current=L&&!!R&&!!a.get("reactiveCustomComponents")},[L,R]);return o.createElement("div",{ref:T,role:"row",style:N,"row-index":d,"row-id":h,"row-business-key":f},j&&(null==S?void 0:S.map(t=>o.createElement(Te,{cellCtrl:t,editingRow:e.editing,printLayout:e.printLayout,key:t.instanceId}))),W&&(()=>{const e=R.componentClass;return o.createElement(o.Fragment,null,L?o.createElement(e,r({},R.params)):o.createElement(e,r(r({},R.params),{},{ref:D})))})())}),Ue=s.memo(({name:e})=>{const{context:t,gos:r}=s.useContext($),n=s.useMemo(()=>B(e),[e]),a=s.useRef(null),l=s.useRef(null),u=s.useRef(null),c=s.useRef([]),i=s.useRef([]),[d,p]=s.useState(()=>[]),h=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,m=s.useRef([]),f=s.useRef([]),[g,C]=s.useState(()=>[]),v=s.useRef(!1),y=s.useRef(),w=s.useMemo(()=>_("ag-viewport",O(e)),[e]),S=s.useMemo(()=>_(G(e)),[e]),b=s.useMemo(()=>_("ag-spanning-container",T(e)),[e]),E="center"===n.type||h;De(" AG Row Container "+e+" ",E?a:l);const R=s.useCallback(()=>{const e=!E||null!=a.current,t=null!=l.current,r=!h||null!=u.current;return e&&t&&r},[]),P=s.useCallback(()=>null==a.current&&null==l.current&&null==u.current,[]),k=s.useCallback(()=>{if(P()&&(y.current=t.destroyBean(y.current)),R()){var r;const n=e=>{const t=ee(i.current,c.current,v.current);t!==i.current&&(i.current=t,X(e,()=>p(t)))},s=e=>{const t=ee(f.current,m.current,v.current);t!==f.current&&(f.current=t,X(e,()=>C(t)))},o={setHorizontalScroll:e=>{a.current&&(a.current.scrollLeft=e)},setViewportHeight:e=>{a.current&&(a.current.style.height=e)},setRowCtrls:({rowCtrls:e,useFlushSync:t})=>{const r=!!t&&c.current.length>0&&e.length>0;c.current=e,n(r)},setSpannedRowCtrls:(e,t)=>{const r=!!t&&m.current.length>0&&e.length>0;m.current=e,s(r)},setDomOrder:e=>{v.current!=e&&(v.current=e,n(!1))},setContainerWidth:e=>{l.current&&(l.current.style.width=e)},setOffsetTop:e=>{l.current&&(l.current.style.transform=`translateY(${e})`)}};y.current=t.createBean(new N(e)),y.current.setComp(o,l.current,null!==(r=u.current)&&void 0!==r?r:void 0,a.current)}},[R,P]),M=s.useCallback(e=>{l.current=e,k()},[k]),F=s.useCallback(e=>{u.current=e,k()},[k]),x=s.useCallback(e=>{a.current=e,k()},[k]),A=()=>o.createElement("div",{className:S,ref:M,role:"rowgroup"},d.map(e=>o.createElement(Ne,{rowCtrl:e,containerType:n.type,key:e.instanceId})));if(!E)return A();return o.createElement("div",{className:w,ref:x,role:"presentation"},A(),h&&o.createElement("div",{className:b,ref:F,role:"rowgroup"},g.map(e=>o.createElement(Ne,{rowCtrl:e,containerType:n.type,key:e.instanceId}))))}),We=s.memo(()=>{const e=s.useContext($),{context:t,overlays:r}=e,[n,a]=s.useState(""),[l,u]=s.useState(0),[c,i]=s.useState(0),[d,p]=s.useState("0px"),[h,m]=s.useState("0px"),[f,g]=s.useState("100%"),[v,y]=s.useState("0px"),[w,S]=s.useState("0px"),[b,P]=s.useState("100%"),[A,D]=s.useState(!0),[I,B]=s.useState(!0),[O,G]=s.useState(null),[T,N]=s.useState(""),[U,W]=s.useState(null),[j,L]=s.useState("ag-layout-normal"),H=s.useRef();H.current||(H.current=new E(()=>V.current));const V=s.useRef(null),q=s.useRef(null),K=s.useRef(null),z=s.useRef(null),Q=s.useRef(null),Y=s.useRef(null),Z=s.useRef(null),J=s.useRef([]),X=s.useRef([]);De(" AG Grid Body ",V),De(" AG Pinned Top ",q),De(" AG Sticky Top ",K),De(" AG Middle ",Y),De(" AG Pinned Bottom ",Z);const ee=s.useCallback(n=>{if(V.current=n,!n)return J.current=t.destroyBeans(J.current),X.current.forEach(e=>e()),void(X.current=[]);if(!t)return;const s=(e,t)=>{e.appendChild(t),X.current.push(()=>e.removeChild(t))},o=(e,r,n)=>{s(e,document.createComment(n)),s(e,(e=>{const r=t.createBean(new e);return J.current.push(r),r})(r).getGui())};o(n,F," AG Fake Horizontal Scroll ");const l=null==r?void 0:r.getOverlayWrapperCompClass();l&&o(n,l," AG Overlay Wrapper "),Q.current&&o(Q.current,x," AG Fake Vertical Scroll ");const c={setRowAnimationCssOnBodyViewport:a,setColumnCount:e=>{V.current&&M(V.current,e)},setRowCount:e=>{V.current&&k(V.current,e)},setTopHeight:u,setBottomHeight:i,setStickyTopHeight:p,setStickyTopTop:m,setStickyTopWidth:g,setTopInvisible:D,setBottomInvisible:B,setColumnMovingCss:(e,t)=>H.current.toggleCss(e,t),updateLayoutClasses:L,setAlwaysVerticalScrollClass:G,setPinnedTopBottomOverflowY:N,setCellSelectableCss:(e,t)=>W(t?e:null),setBodyViewportWidth:e=>{Y.current&&(Y.current.style.width=e)},registerBodyViewportResizeListener:t=>{if(Y.current){const r=C(e,Y.current,t);X.current.push(()=>r())}},setStickyBottomHeight:y,setStickyBottomBottom:S,setStickyBottomWidth:P,setGridRootRole:e=>n.setAttribute("role",e)},d=t.createBean(new R);J.current.push(d),d.setComp(c,n,Y.current,q.current,Z.current,K.current,z.current)},[]),te=s.useMemo(()=>_("ag-root","ag-unselectable",j),[j]),re=s.useMemo(()=>_("ag-body-viewport",n,j,O,U),[n,j,O,U]),ne=s.useMemo(()=>_("ag-body",j),[j]),se=s.useMemo(()=>_("ag-floating-top",A?"ag-invisible":null,U),[U,A]),oe=s.useMemo(()=>_("ag-sticky-top",U),[U]),ae=s.useMemo(()=>_("ag-sticky-bottom","0px"===v?"ag-invisible":null,U),[U,v]),le=s.useMemo(()=>_("ag-floating-bottom",I?"ag-invisible":null,U),[U,I]),ue=s.useMemo(()=>({height:l,minHeight:l,overflowY:T}),[l,T]),ce=s.useMemo(()=>({height:d,top:h,width:f}),[d,h,f]),ie=s.useMemo(()=>({height:v,bottom:w,width:b}),[v,w,b]),de=s.useMemo(()=>({height:c,minHeight:c,overflowY:T}),[c,T]),pe=e=>o.createElement(Ue,{name:e,key:`${e}-container`}),he=({section:e,children:t,className:r,style:n})=>o.createElement("div",{ref:e,className:r,role:"presentation",style:n},t.map(pe));return o.createElement("div",{ref:ee,className:te},o.createElement(Ae,null),he({section:q,className:se,style:ue,children:["topLeft","topCenter","topRight","topFullWidth"]}),o.createElement("div",{className:ne,ref:Q,role:"presentation"},he({section:Y,className:re,children:["left","center","right","fullWidth"]})),he({section:K,className:oe,style:ce,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),he({section:z,className:ae,style:ie,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),he({section:Z,className:le,style:de,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))}),je=s.forwardRef((e,t)=>{const{children:r,eFocusableElement:n,onTabKeyDown:a,gridCtrl:l,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:c}=e,{context:i}=s.useContext($),d=s.useRef(null),p=s.useRef(null),h=s.useRef(),m=e=>{const t=null==e?void 0:parseInt(e,10).toString();[d,p].forEach(e=>{var r,n;void 0===t?null===(r=e.current)||void 0===r||r.removeAttribute("tabindex"):null===(n=e.current)||void 0===n||n.setAttribute("tabindex",t)})};s.useImperativeHandle(t,()=>({forceFocusOutOfContainer(e){var t;null===(t=h.current)||void 0===t||t.forceFocusOutOfContainer(e)}}));const f=s.useCallback(()=>{const e=d.current,t=p.current;if(e||t){if(e&&t){const r={setTabIndex:m};h.current=i.createBean(new P({comp:r,eTopGuard:e,eBottomGuard:t,eFocusableElement:n,onTabKeyDown:a,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:e=>l.focusInnerElement(e),isEmpty:c}))}}else h.current=i.destroyBean(h.current)},[]),g=s.useCallback(e=>{d.current=e,f()},[f]),C=s.useCallback(e=>{p.current=e,f()},[f]),v=e=>{const t="top"===e?A.TAB_GUARD_TOP:A.TAB_GUARD_BOTTOM;return o.createElement("div",{className:`${A.TAB_GUARD} ${t}`,role:"presentation",ref:"top"===e?g:C})};return o.createElement(o.Fragment,null,v("top"),r,v("bottom"))}),Le=s.memo(je),He=s.memo(({context:e})=>{const[t,r]=s.useState(""),[n,a]=s.useState(""),[l,u]=s.useState(null),[c,i]=s.useState(null),[d,p]=s.useState(!1),[h,m]=s.useState(),f=s.useRef(),g=s.useRef(null),C=s.useRef(),[v,y]=s.useState(null),S=s.useRef(()=>{}),b=s.useRef(),E=s.useRef([]),R=s.useCallback(()=>{},[]),P=s.useMemo(()=>e.isDestroyed()?null:e.getBeans(),[e]);De(" AG Grid ",g);const k=s.useCallback(t=>{if(g.current=t,f.current=t?e.createBean(new w):e.destroyBean(f.current),!t||e.isDestroyed())return;const n=f.current;S.current=n.focusInnerElement.bind(n);const s={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:e=>{var t,r;e||null===(t=b.current)||void 0===t||!t.isDisplayed()?null===(r=C.current)||void 0===r||r.forceFocusOutOfContainer(e):b.current.forceFocusOutOfContainer(e)},updateLayoutClasses:a,getFocusableContainers:()=>{var e;const t=[],r=null===(e=g.current)||void 0===e?void 0:e.querySelector(".ag-root");return r&&t.push({getGui:()=>r}),E.current.forEach(e=>{e.isDisplayed()&&t.push(e)}),t},setCursor:u,setUserSelect:i};n.setComp(s,t,t),p(!0)},[]);s.useEffect(()=>{const t=f.current,r=g.current;if(!(h&&P&&t&&v&&r))return;const n=[],{watermarkSelector:s,paginationSelector:o,sideBarSelector:a,statusBarSelector:l,gridHeaderDropZonesSelector:u}=t.getOptionalSelectors(),c=[];if(u){const t=e.createBean(new u.component),s=t.getGui();r.insertAdjacentElement("afterbegin",s),c.push(s),n.push(t)}if(a){const t=e.createBean(new a.component),r=t.getGui(),s=v.querySelector(".ag-tab-guard-bottom");s&&(s.insertAdjacentElement("beforebegin",r),c.push(r)),n.push(t),E.current.push(t)}const i=t=>{const s=e.createBean(new t),o=s.getGui();return r.insertAdjacentElement("beforeend",o),c.push(o),n.push(s),s};if(l&&i(l.component),o){const e=i(o.component);b.current=e,E.current.push(e)}return s&&i(s.component),()=>{e.destroyBeans(n),c.forEach(e=>{var t;null===(t=e.parentElement)||void 0===t||t.removeChild(e)})}},[h,v,P]);const M=s.useMemo(()=>_("ag-root-wrapper",t,n),[t,n]),F=s.useMemo(()=>_("ag-root-wrapper-body","ag-focus-managed",n),[n]),x=s.useMemo(()=>({userSelect:null!=c?c:"",WebkitUserSelect:null!=c?c:"",cursor:null!=l?l:""}),[c,l]),A=s.useCallback(e=>{C.current=e,m(null!==e)},[]),D=s.useCallback(()=>{var e;return!(null!==(e=f.current)&&void 0!==e&&e.isFocusable())},[]);return o.createElement("div",{ref:k,className:M,style:x,role:"presentation"},o.createElement("div",{className:F,ref:y,role:"presentation"},d&&v&&P&&o.createElement($.Provider,{value:P},o.createElement(Le,{ref:A,eFocusableElement:v,onTabKeyDown:R,gridCtrl:f.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:D},o.createElement(We,null)))))}),Ve=class extends m{wireBeans(e){this.ctrlsSvc=e.ctrlsSvc}areHeaderCellsRendered(){return this.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(e=>e.areCellsRendered()))}},$e={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},qe=r({gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0},$e),Ke=new Set(Object.keys(qe)),_e=new Set(Object.keys($e)),ze=e=>{var t,n;const a=s.useRef(),l=s.useRef(null),p=s.useRef(null),h=s.useRef([]),m=s.useRef([]),g=s.useRef(e),C=s.useRef(),v=s.useRef(),y=s.useRef(!1),[w,S]=s.useState(void 0),[,b]=s.useState(0),E=s.useCallback(t=>{var r,n,s;if(l.current=t,!t)return h.current.forEach(e=>e()),void(h.current.length=0);const o=e.modules||[];p.current||(p.current=new Re(()=>b(e=>e+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),h.current.push(()=>{var e;null===(e=p.current)||void 0===e||e.destroy(),p.current=null}));const d=u(e.gridOptions,e,Object.keys(e).filter(e=>!Ke.has(e))),f=new Ze(()=>{if(y.current){const e=()=>{var e;return null!==(e=C.current)&&void 0!==e&&e.shouldQueueUpdates()?void 0:m.current.shift()};let t=e();for(;t;)t(),t=e()}});C.current=f;const g=new Ve,w={providedBeanInstances:{frameworkCompWrapper:new Qe(p.current,null===(r=null!==(n=d.reactiveCustomComponents)&&void 0!==n?n:c("reactiveCustomComponents"))||void 0===r||r),renderStatus:g},modules:o,frameworkOverrides:f,setThemeOnGridDiv:!0},E=new i;null!==(s=d.gridId)&&void 0!==s||(d.gridId=v.current),a.current=E.create(t,d,t=>{S(t),t.createBean(g),h.current.push(()=>{t.destroy()}),t.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{h.current.push(e)}},()=>{if(t.isDestroyed())return;const r=a.current;var n;r&&(null===(n=e.passGridApi)||void 0===n||n.call(e,r))})},e=>{e.getBean("ctrlsSvc").whenReady({addDestroyFunc:e=>{h.current.push(e)}},()=>{m.current.forEach(e=>e()),m.current.length=0,y.current=!0})},w),h.current.push(()=>{a.current=void 0}),a.current&&(v.current=a.current.getGridId())},[]),R=s.useMemo(()=>r({height:"100%"},e.containerStyle||{}),[e.containerStyle]),P=s.useCallback(e=>{var t;!y.current||null!==(t=C.current)&&void 0!==t&&t.shouldQueueUpdates()?m.current.push(e):e()},[]);return s.useEffect(()=>{const t=function(e,t){const r={};return Object.keys(t).forEach(n=>{if(Ke.has(n))return void(_e.has(n)&&f(274,{prop:n}));const s=t[n];e[n]!==s&&(r[n]=s)}),r}(g.current,e);g.current=e,P(()=>{a.current&&d(t,a.current)})},[e]),o.createElement("div",{style:R,className:e.className,ref:E},w&&!w.isDestroyed()?o.createElement(He,{context:w}):null,null!==(t=null===(n=p.current)||void 0===n?void 0:n.getPortals())&&void 0!==t?t:null)};var Qe=class extends h{constructor(e,t){super(),this.parent=e,this.reactiveCustomComponents=t}createWrapper(e,t){if(this.reactiveCustomComponents){const r=(e=>{switch(e){case"filter":return he;case"floatingFilterComponent":return ge;case"dateComponent":return de;case"dragAndDropImageComponent":return pe;case"loadingOverlayComponent":return ve;case"noRowsOverlayComponent":return we;case"statusPanel":return Se;case"toolPanel":return be;case"menuItem":return ye;case"cellRenderer":return ie;case"innerHeaderComponent":return Ce}})(t.name);if(r)return new r(e,this.parent,t)}else switch(t.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Ee()}const r=!t.cellRenderer&&"toolPanel"!==t.name;return new le(e,this.parent,t,r)}},Ye=s.forwardRef((e,t)=>{const n=s.useContext($),{registry:a,context:l,gos:u,rowModel:c}=n,[i,d]=s.useState(()=>new z),[p,h]=s.useState(()=>new z),[m,v]=s.useState(),[y,w]=s.useState(),E=s.useRef(),R=s.useRef(null),P=s.useRef(),k=s.useMemo(()=>{var t;return g(e.api.getGridId(),null!==(t=null==m?void 0:m.rowModelType)&&void 0!==t?t:"clientSide")},[e]),M=s.useMemo(()=>i.toString()+" ag-details-row",[i]),F=s.useMemo(()=>p.toString()+" ag-details-grid",[p]);t&&s.useImperativeHandle(t,()=>({refresh(){var e,t;return null!==(e=null===(t=E.current)||void 0===t?void 0:t.refresh())&&void 0!==e&&e}})),e.template&&f(230);const x=s.useCallback(t=>{var r;if(R.current=t,!t)return E.current=l.destroyBean(E.current),void(null===(r=P.current)||void 0===r||r.call(P));const s={toggleCss:(e,t)=>d(r=>r.setClass(e,t)),toggleDetailGridCss:(e,t)=>h(r=>r.setClass(e,t)),setDetailGrid:e=>v(e),setRowData:e=>w(e),getGui:()=>R.current},o=a.createDynamicBean("detailCellRendererCtrl",!0);if(o&&(l.createBean(o),o.init(s,e),E.current=o,u.get("detailRowAutoHeight"))){const r=()=>{if(null==R.current)return;const t=R.current.clientHeight;if(null!=t&&t>0){setTimeout(()=>{e.node.setRowHeight(t),(S(u)||b(u))&&c.onRowHeightChanged()},0)}};P.current=C(n,t,r),r()}},[]),A=s.useCallback(e=>{var t;null===(t=E.current)||void 0===t||t.registerDetailWithMaster(e)},[]);return o.createElement("div",{className:M,ref:x},m&&o.createElement(ze,r(r({className:F},m),{},{modules:k,rowData:y,passGridApi:A})))}),Ze=class extends p{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:re,agGroupRowRenderer:re,agDetailCellRenderer:Ye},this.wrapIncoming=(e,t)=>{return"ensureVisible"===t?(r=e,J||setTimeout(()=>J=!1,0),J=!0,r()):e();var r}}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const t=e.prototype;return!(t&&"getGui"in t)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return"19"===Y}};t("A",class extends s.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e,this.apiListeners.forEach(t=>t(e))}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return o.createElement(ze,r(r({},this.props),{},{passGridApi:this.setGridApi}))}})}}})}();
