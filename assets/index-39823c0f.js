import{_ as eo,u as fa,a as C,j as c,B as Yn,b as da,I as no,c as pa,P as Jn,d as ma,e as qn,f as Xn,L as va,g as se,h as _e,i as to,F as ee,T as ao,k as ro,l as Zn,m as oo,n as io,o as so,A as lo,M as ya,q as uo,r as ba,s as Sa,t as wa,v as de,w as Oa,x as Qn,y as P,z as _a,C as xa,D as co,E as ho,G as go,H as fo,S as po,J as Ge,K as mo,N as vo,O as yo,Q as bo,R as So,U as wo,V as Oo,W as _o,X as Pe,Y as xo,Z as zo,$ as Ho,a0 as Eo,a1 as H,a2 as To,a3 as Ro,a4 as za,a5 as No,a6 as k,a7 as Po,a8 as jo,a9 as Ao,aa as ko,ab as Lo}from"./chakra-c9623454.js";import{e as Mo,f as ue,_ as te,a as Ha,r as O,b as Ea,B as Io,h as Fo,i as Tn,N as Do,j as Bo,k as Co,l as $o,m as Uo}from"./react-5680e458.js";function Mf(){import.meta.url,import("_").catch(()=>1);async function*e(){}}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(r){if(r.ep)return;r.ep=!0;const o=t(r);fetch(r.href,o)}})();const Ta=e=>new Promise(n=>{setTimeout(n,e,`Timeout after ${e/1e3} seconds`)});var ce;(function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"})(ce||(ce={}));var Mn;(function(e){e.GITHUB="GitHub",e.GITLAB="GitLab",e.BITBUCKET="Bitbucket",e.LOCALHOST="localhost",e.UNKNOWN="unknown"})(Mn||(Mn={}));var Ra=globalThis&&globalThis.__awaiter||function(e,n,t,a){function r(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(h){try{f(a.next(h))}catch(g){i(g)}}function l(h){try{f(a.throw(h))}catch(g){i(g)}}function f(h){h.done?o(h.value):r(h.value).then(s,l)}f((a=a.apply(e,n||[])).next())})};let et,nt,tt,at,rt;const Na=()=>{et=!1,nt="rmg-unknown",tt="unknown",at=ce.PRD,rt=Mn.UNKNOWN},Go=()=>Ra(void 0,void 0,void 0,function*(){const e=window.location.pathname.split("/")[1],n=e?`/${e}/info.json`:"/info.json",t=yield fetch(n);if(t.ok){const a=yield t.json();nt=a.component,tt=a.version,at=a.environment,rt=a.instance}else throw new Error(`Failed to fetch config from ${n}`)}),Vo=()=>Ra(void 0,void 0,void 0,function*(){try{console.log("[rmg-runtime] Loading config...");const e=yield Promise.race([Go(),Ta(10*1e3)]);e?console.error("[rmg-runtime] Failed to load config.",e):(et=!0,console.log("[rmg-runtime] Config loaded!"))}catch(e){console.error("[rmg-runtime] Failed to load config.",e)}}),Wo=()=>et,Ko=()=>nt,Yo=()=>tt,Jo=()=>at,qo=()=>rt;Na();const U={loadWithTimeout:Vo,isInitialised:Wo,getComponent:Ko,getVersion:Yo,getEnvironment:Jo,getInstance:qo,_resetConfig:Na};window.dataLayer=window.dataLayer||[];const Xo=()=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e)};function In(...e){if(U.getEnvironment()!==ce.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",e)}const Zo=(e,n)=>{In("event",e,n)},Qo=()=>{Xo(),In("js",new Date),In("config","G-2HP8Y4MRRQ",{appName:U.getComponent(),version:U.getVersion(),environment:U.getEnvironment(),instance:U.getInstance()})},Ve={init:Qo,customEvent:Zo},ei="rmg-runtime-channel",Ue={};let je;try{je=new BroadcastChannel(ei),je.onmessage=e=>{var n;const{event:t,data:a,frameId:r}=e.data;(n=Ue[t])===null||n===void 0||n.forEach(o=>o(a,r))}}catch(e){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",e)}const ni=(e,n,t)=>{var a;t&&console.log(`[rmg-runtime] Broadcasting event ${e} with data`,n),je==null||je.postMessage({event:e,data:n,frameId:(a=window.frameElement)===null||a===void 0?void 0:a.id})},ti=(e,n)=>{var t;e in Ue?(t=Ue[e])===null||t===void 0||t.push(n):Ue[e]=[n]},B={postEvent:ni,onMessage:ti},Fn=()=>!window.frameElement,ai=()=>{var e;return!!(!((e=window.frameElement)===null||e===void 0)&&e.closest(".show-menu"))},ri=()=>{if(!Fn()){const n=document.createElement("style");n.textContent="body{padding: 0;}",document.head.appendChild(n)}const e=document.createElement("style");e.textContent=".rmg-window__header{margin-left: 40px;}",!Fn()&&!ai()&&document.head.appendChild(e),B.onMessage("TOGGLE_NAV_MENU",n=>{if(n)try{document.head.removeChild(e)}catch(t){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",t)}else document.head.appendChild(e)})},oi=(e,n)=>{B.postEvent("OPEN_APP",{appId:e,url:n})},ii=e=>{B.postEvent("CLOSE_APP",e)},si=e=>{B.postEvent("UPDATE_URL",e)},li=e=>{B.onMessage("OPEN_APP",e)},ui=e=>{B.onMessage("CLOSE_APP",e)},ci=e=>{B.onMessage("UPDATE_URL",e)},hi=e=>{B.postEvent("TOGGLE_NAV_MENU",e,!0)},Z={isStandaloneWindow:Fn,injectUITools:ri,openApp:oi,onAppOpen:li,closeApp:ii,onAppClose:ui,updateUrl:si,onUrlUpdate:ci,toggleNavMenu:hi},Pa="rmg-runtime__language",ja="rmg-runtime__colourMode",We="rmg-runtime__allowAnalytics",Aa=["en","zh-Hans","zh-Hant","ko"],gi=e=>{Aa.includes(e)&&(B.postEvent("SET_LANGUAGE",e),window.localStorage.setItem(Pa,e))},fi=()=>{const e=window.localStorage.getItem(Pa);return e&&Aa.includes(e)?e:"en"},di=e=>{B.onMessage("SET_LANGUAGE",e)},ka=["light","dark","system"],pi=e=>{ka.includes(e)&&(B.postEvent("SET_COLOUR_MODE",e,!0),window.localStorage.setItem(ja,e))},mi=()=>{const e=window.localStorage.getItem(ja);return e&&ka.includes(e)?e:"system"},vi=e=>{B.onMessage("SET_COLOUR_MODE",e)},yi=()=>window.localStorage.getItem(We)!==null,La=()=>window.localStorage.getItem(We)==="true",bi=e=>{const n=La();return e?(n||(window.localStorage.setItem(We,e.toString()),Ve.init()),{refreshRequired:!1}):n?(window.localStorage.setItem(We,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}},V={setLanguage:gi,getLanguage:fi,onLanguageChange:di,setColourMode:pi,getColourMode:mi,onColourModeChange:vi,isAnalyticsQADone:yi,isAllowAnalytics:La,allowAnalytics:bi},Si=new Date().getTime();function wi(){const e=U.getComponent(),n=window.localStorage.getItem(e+"__startTime");return n===null?new Date().getTime()-Si:new Date().getTime()-Number(n)}const Oi={getMsSinceStartUp:wi},Ma=()=>{const e=U.getComponent();if(e==="rmg-unknown")throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return e==="railmapgen.github.io"?"rmg-home":e},_i=()=>{const e=Ma(),n={};let t=0;for(;t<window.localStorage.length;){const a=window.localStorage.key(t);if(a!=null&&a.startsWith(e+"__")){const r=window.localStorage.getItem(a);r&&(n[a]=r)}t++}return n},xi=()=>{const e=Ma();let n=0;for(;n<window.localStorage.length;){const t=window.localStorage.key(n);t!=null&&t.startsWith(e+"__")?(window.localStorage.removeItem(t),console.log(`[rmg-runtime] Removed item ${t}`)):n++}},bt={getStorageForCurrentApp:_i,clearStorageForCurrentApp:xi};function J(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function St(e,n){for(var t=0;t<n.length;t++){var a=n[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,Mo(a.key),a)}}function q(e,n,t){return n&&St(e.prototype,n),t&&St(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function he(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),n&&eo(e,n)}function Me(e,n){if(n&&(ue(n)==="object"||typeof n=="function"))return n;if(n!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ne(e)}function Ia(e){if(Array.isArray(e))return e}function zi(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wt(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,a=new Array(n);t<n;t++)a[t]=e[t];return a}function Fa(e,n){if(e){if(typeof e=="string")return wt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wt(e,n)}}function Da(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hi(e){return Ia(e)||zi(e)||Fa(e)||Da()}function Ot(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function _t(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ot(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ot(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Ei={type:"logger",log:function(n){this.output("log",n)},warn:function(n){this.output("warn",n)},error:function(n){this.output("error",n)},output:function(n,t){console&&console[n]&&console[n].apply(console,t)}},Ti=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J(this,e),this.init(n,t)}return q(e,[{key:"init",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=t||Ei,this.options=a,this.debug=a.debug}},{key:"setDebug",value:function(t){this.debug=t}},{key:"log",value:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return this.forward(a,"log","",!0)}},{key:"warn",value:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return this.forward(a,"warn","",!0)}},{key:"error",value:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return this.forward(a,"error","")}},{key:"deprecate",value:function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(t,a,r,o){return o&&!this.debug?null:(typeof t[0]=="string"&&(t[0]="".concat(r).concat(this.prefix," ").concat(t[0])),this.logger[a](t))}},{key:"create",value:function(t){return new e(this.logger,_t(_t({},{prefix:"".concat(this.prefix,":").concat(t,":")}),this.options))}},{key:"clone",value:function(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new e(this.logger,t)}}]),e}(),Q=new Ti,ge=function(){function e(){J(this,e),this.observers={}}return q(e,[{key:"on",value:function(t,a){var r=this;return t.split(" ").forEach(function(o){r.observers[o]=r.observers[o]||[],r.observers[o].push(a)}),this}},{key:"off",value:function(t,a){if(this.observers[t]){if(!a){delete this.observers[t];return}this.observers[t]=this.observers[t].filter(function(r){return r!==a})}}},{key:"emit",value:function(t){for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];if(this.observers[t]){var i=[].concat(this.observers[t]);i.forEach(function(l){l.apply(void 0,r)})}if(this.observers["*"]){var s=[].concat(this.observers["*"]);s.forEach(function(l){l.apply(l,[t].concat(r))})}}}]),e}();function Ne(){var e,n,t=new Promise(function(a,r){e=a,n=r});return t.resolve=e,t.reject=n,t}function xt(e){return e==null?"":""+e}function Ri(e,n,t){e.forEach(function(a){n[a]&&(t[a]=n[a])})}function ot(e,n,t){function a(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function r(){return!e||typeof e=="string"}for(var o=typeof n!="string"?[].concat(n):n.split(".");o.length>1;){if(r())return{};var i=a(o.shift());!e[i]&&t&&(e[i]=new t),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={}}return r()?{}:{obj:e,k:a(o.shift())}}function zt(e,n,t){var a=ot(e,n,Object),r=a.obj,o=a.k;r[o]=t}function Ni(e,n,t,a){var r=ot(e,n,Object),o=r.obj,i=r.k;o[i]=o[i]||[],a&&(o[i]=o[i].concat(t)),a||o[i].push(t)}function Ke(e,n){var t=ot(e,n),a=t.obj,r=t.k;if(a)return a[r]}function Pi(e,n,t){var a=Ke(e,t);return a!==void 0?a:Ke(n,t)}function Ba(e,n,t){for(var a in n)a!=="__proto__"&&a!=="constructor"&&(a in e?typeof e[a]=="string"||e[a]instanceof String||typeof n[a]=="string"||n[a]instanceof String?t&&(e[a]=n[a]):Ba(e[a],n[a],t):e[a]=n[a]);return e}function ye(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var ji={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function Ai(e){return typeof e=="string"?e.replace(/[&<>"'\/]/g,function(n){return ji[n]}):e}var ln=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ki=[" ",",","?","!",";"];function Li(e,n,t){n=n||"",t=t||"";var a=ki.filter(function(s){return n.indexOf(s)<0&&t.indexOf(s)<0});if(a.length===0)return!0;var r=new RegExp("(".concat(a.map(function(s){return s==="?"?"\\?":s}).join("|"),")")),o=!r.test(e);if(!o){var i=e.indexOf(t);i>0&&!r.test(e.substring(0,i))&&(o=!0)}return o}function Ye(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(e){if(e[n])return e[n];for(var a=n.split(t),r=e,o=0;o<a.length;++o){if(!r||typeof r[a[o]]=="string"&&o+1<a.length)return;if(r[a[o]]===void 0){for(var i=2,s=a.slice(o,o+i).join(t),l=r[s];l===void 0&&a.length>o+i;)i++,s=a.slice(o,o+i).join(t),l=r[s];if(l===void 0)return;if(l===null)return null;if(n.endsWith(s)){if(typeof l=="string")return l;if(s&&typeof l[s]=="string")return l[s]}var f=a.slice(o+i).join(t);return f?Ye(l,f,t):void 0}r=r[a[o]]}return r}}function Ht(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Ce(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Ht(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ht(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Mi(e){var n=Ii();return function(){var a=ne(e),r;if(n){var o=ne(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Me(this,r)}}function Ii(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Fi=function(e){sn(t,e);var n=Mi(t);function t(a){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return J(this,t),r=n.call(this),ln&&ge.call(he(r)),r.data=a||{},r.options=o,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.options.ignoreJSONStructure===void 0&&(r.options.ignoreJSONStructure=!0),r}return q(t,[{key:"addNamespaces",value:function(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}},{key:"removeNamespaces",value:function(r){var o=this.options.ns.indexOf(r);o>-1&&this.options.ns.splice(o,1)}},{key:"getResource",value:function(r,o,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,f=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[r,o];i&&typeof i!="string"&&(h=h.concat(i)),i&&typeof i=="string"&&(h=h.concat(l?i.split(l):i)),r.indexOf(".")>-1&&(h=r.split("."));var g=Ke(this.data,h);return g||!f||typeof i!="string"?g:Ye(this.data&&this.data[r]&&this.data[r][o],i,l)}},{key:"addResource",value:function(r,o,i,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=this.options.keySeparator;f===void 0&&(f=".");var h=[r,o];i&&(h=h.concat(f?i.split(f):i)),r.indexOf(".")>-1&&(h=r.split("."),s=o,o=h[1]),this.addNamespaces(o),zt(this.data,h,s),l.silent||this.emit("added",r,o,i,s)}},{key:"addResources",value:function(r,o,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var l in i)(typeof i[l]=="string"||Object.prototype.toString.apply(i[l])==="[object Array]")&&this.addResource(r,o,l,i[l],{silent:!0});s.silent||this.emit("added",r,o,i)}},{key:"addResourceBundle",value:function(r,o,i,s,l){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[r,o];r.indexOf(".")>-1&&(h=r.split("."),s=i,i=o,o=h[1]),this.addNamespaces(o);var g=Ke(this.data,h)||{};s?Ba(g,i,l):g=Ce(Ce({},g),i),zt(this.data,h,g),f.silent||this.emit("added",r,o,i)}},{key:"removeResourceBundle",value:function(r,o){this.hasResourceBundle(r,o)&&delete this.data[r][o],this.removeNamespaces(o),this.emit("removed",r,o)}},{key:"hasResourceBundle",value:function(r,o){return this.getResource(r,o)!==void 0}},{key:"getResourceBundle",value:function(r,o){return o||(o=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Ce(Ce({},{}),this.getResource(r,o)):this.getResource(r,o)}},{key:"getDataByLanguage",value:function(r){return this.data[r]}},{key:"hasLanguageSomeTranslations",value:function(r){var o=this.getDataByLanguage(r),i=o&&Object.keys(o)||[];return!!i.find(function(s){return o[s]&&Object.keys(o[s]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),t}(ge),Ca={processors:{},addPostProcessor:function(n){this.processors[n.name]=n},handle:function(n,t,a,r,o){var i=this;return n.forEach(function(s){i.processors[s]&&(t=i.processors[s].process(t,a,r,o))}),t}};function Et(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Et(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Et(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Di(e){var n=Bi();return function(){var a=ne(e),r;if(n){var o=ne(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Me(this,r)}}function Bi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}var Tt={},Rt=function(e){sn(t,e);var n=Di(t);function t(a){var r,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return J(this,t),r=n.call(this),ln&&ge.call(he(r)),Ri(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],a,he(r)),r.options=o,r.options.keySeparator===void 0&&(r.options.keySeparator="."),r.logger=Q.create("translator"),r}return q(t,[{key:"changeLanguage",value:function(r){r&&(this.language=r)}},{key:"exists",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;var i=this.resolve(r,o);return i&&i.res!==void 0}},{key:"extractFromKey",value:function(r,o){var i=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");var s=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,l=o.ns||this.options.defaultNS||[],f=i&&r.indexOf(i)>-1,h=!this.options.userDefinedKeySeparator&&!o.keySeparator&&!this.options.userDefinedNsSeparator&&!o.nsSeparator&&!Li(r,i,s);if(f&&!h){var g=r.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:r,namespaces:l};var p=r.split(i);(i!==s||i===s&&this.options.ns.indexOf(p[0])>-1)&&(l=p.shift()),r=p.join(s)}return typeof l=="string"&&(l=[l]),{key:r,namespaces:l}}},{key:"translate",value:function(r,o,i){var s=this;if(ue(o)!=="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),ue(o)==="object"&&(o=L({},o)),o||(o={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);var l=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,f=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,h=this.extractFromKey(r[r.length-1],o),g=h.key,p=h.namespaces,m=p[p.length-1],y=o.lng||this.language,w=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y&&y.toLowerCase()==="cimode"){if(w){var S=o.nsSeparator||this.options.nsSeparator;return l?{res:"".concat(m).concat(S).concat(g),usedKey:g,exactUsedKey:g,usedLng:y,usedNS:m}:"".concat(m).concat(S).concat(g)}return l?{res:g,usedKey:g,exactUsedKey:g,usedLng:y,usedNS:m}:g}var v=this.resolve(r,o),b=v&&v.res,_=v&&v.usedKey||g,x=v&&v.exactUsedKey||g,E=Object.prototype.toString.apply(b),G=["[object Number]","[object Function]","[object RegExp]"],$=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,I=typeof b!="string"&&typeof b!="boolean"&&typeof b!="number";if(A&&b&&I&&G.indexOf(E)<0&&!(typeof $=="string"&&E==="[object Array]")){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var N=this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,b,L(L({},o),{},{ns:p})):"key '".concat(g," (").concat(this.language,")' returned an object instead of string.");return l?(v.res=N,v):N}if(f){var pe=E==="[object Array]",Fe=pe?[]:{},qr=pe?x:_;for(var me in b)if(Object.prototype.hasOwnProperty.call(b,me)){var ft="".concat(qr).concat(f).concat(me);Fe[me]=this.translate(ft,L(L({},o),{joinArrays:!1,ns:p})),Fe[me]===ft&&(Fe[me]=b[me])}b=Fe}}else if(A&&typeof $=="string"&&E==="[object Array]")b=b.join($),b&&(b=this.extendTranslation(b,r,o,i));else{var De=!1,He=!1,dt=o.count!==void 0&&typeof o.count!="string",xn=t.hasDefaultValue(o),Xr=dt?this.pluralResolver.getSuffix(y,o.count,o):"",Ee=o["defaultValue".concat(Xr)]||o.defaultValue;!this.isValidLookup(b)&&xn&&(De=!0,b=Ee),this.isValidLookup(b)||(He=!0,b=g);var Zr=o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Qr=Zr&&He?void 0:b,Te=xn&&Ee!==b&&this.options.updateMissing;if(He||De||Te){if(this.logger.log(Te?"updateKey":"missingKey",y,m,g,Te?Ee:b),f){var pt=this.resolve(g,L(L({},o),{},{keySeparator:!1}));pt&&pt.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var Re=[],Be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Be&&Be[0])for(var zn=0;zn<Be.length;zn++)Re.push(Be[zn]);else this.options.saveMissingTo==="all"?Re=this.languageUtils.toResolveHierarchy(o.lng||this.language):Re.push(o.lng||this.language);var mt=function(ve,En,vt){var yt=xn&&vt!==b?vt:Qr;s.options.missingKeyHandler?s.options.missingKeyHandler(ve,m,En,yt,Te,o):s.backendConnector&&s.backendConnector.saveMissing&&s.backendConnector.saveMissing(ve,m,En,yt,Te,o),s.emit("missingKey",ve,m,En,b)};this.options.saveMissing&&(this.options.saveMissingPlurals&&dt?Re.forEach(function(Hn){s.pluralResolver.getSuffixes(Hn,o).forEach(function(ve){mt([Hn],g+ve,o["defaultValue".concat(ve)]||Ee)})}):mt(Re,g,Ee))}b=this.extendTranslation(b,r,o,v,i),He&&b===g&&this.options.appendNamespaceToMissingKey&&(b="".concat(m,":").concat(g)),(He||De)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?b=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(m,":").concat(g):g,De?b:void 0):b=this.options.parseMissingKeyHandler(b))}return l?(v.res=b,v):b}},{key:"extendTranslation",value:function(r,o,i,s,l){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,L(L({},this.options.interpolation.defaultVariables),i),s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init(L(L({},i),{interpolation:L(L({},this.options.interpolation),i.interpolation)}));var h=typeof r=="string"&&(i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),g;if(h){var p=r.match(this.interpolator.nestingRegexp);g=p&&p.length}var m=i.replace&&typeof i.replace!="string"?i.replace:i;if(this.options.interpolation.defaultVariables&&(m=L(L({},this.options.interpolation.defaultVariables),m)),r=this.interpolator.interpolate(r,m,i.lng||this.language,i),h){var y=r.match(this.interpolator.nestingRegexp),w=y&&y.length;g<w&&(i.nest=!1)}!i.lng&&this.options.compatibilityAPI!=="v1"&&s&&s.res&&(i.lng=s.usedLng),i.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var b=arguments.length,_=new Array(b),x=0;x<b;x++)_[x]=arguments[x];return l&&l[0]===_[0]&&!i.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(_[0]," in key: ").concat(o[0])),null):f.translate.apply(f,_.concat([o]))},i)),i.interpolation&&this.interpolator.reset()}var S=i.postProcess||this.options.postProcess,v=typeof S=="string"?[S]:S;return r!=null&&v&&v.length&&i.applyPostProcessor!==!1&&(r=Ca.handle(v,r,o,this.options&&this.options.postProcessPassResolved?L({i18nResolved:s},i):i,this)),r}},{key:"resolve",value:function(r){var o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s,l,f,h,g;return typeof r=="string"&&(r=[r]),r.forEach(function(p){if(!o.isValidLookup(s)){var m=o.extractFromKey(p,i),y=m.key;l=y;var w=m.namespaces;o.options.fallbackNS&&(w=w.concat(o.options.fallbackNS));var S=i.count!==void 0&&typeof i.count!="string",v=S&&!i.ordinal&&i.count===0&&o.pluralResolver.shouldUseIntlApi(),b=i.context!==void 0&&(typeof i.context=="string"||typeof i.context=="number")&&i.context!=="",_=i.lngs?i.lngs:o.languageUtils.toResolveHierarchy(i.lng||o.language,i.fallbackLng);w.forEach(function(x){o.isValidLookup(s)||(g=x,!Tt["".concat(_[0],"-").concat(x)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(g)&&(Tt["".concat(_[0],"-").concat(x)]=!0,o.logger.warn('key "'.concat(l,'" for languages "').concat(_.join(", "),`" won't get resolved as namespace "`).concat(g,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),_.forEach(function(E){if(!o.isValidLookup(s)){h=E;var G=[y];if(o.i18nFormat&&o.i18nFormat.addLookupKeys)o.i18nFormat.addLookupKeys(G,y,E,x,i);else{var $;S&&($=o.pluralResolver.getSuffix(E,i.count,i));var A="".concat(o.options.pluralSeparator,"zero");if(S&&(G.push(y+$),v&&G.push(y+A)),b){var I="".concat(y).concat(o.options.contextSeparator).concat(i.context);G.push(I),S&&(G.push(I+$),v&&G.push(I+A))}}for(var N;N=G.pop();)o.isValidLookup(s)||(f=N,s=o.getResource(E,x,N,i))}}))})}}),{res:s,usedKey:l,exactUsedKey:f,usedLng:h,usedNS:g}}},{key:"isValidLookup",value:function(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}},{key:"getResource",value:function(r,o,i){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,o,i,s):this.resourceStore.getResource(r,o,i,s)}}],[{key:"hasDefaultValue",value:function(r){var o="defaultValue";for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&o===i.substring(0,o.length)&&r[i]!==void 0)return!0;return!1}}]),t}(ge);function Rn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var Nt=function(){function e(n){J(this,e),this.options=n,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Q.create("languageUtils")}return q(e,[{key:"getScriptPartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return null;var a=t.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}},{key:"getLanguagePartFromCode",value:function(t){if(!t||t.indexOf("-")<0)return t;var a=t.split("-");return this.formatLanguageCode(a[0])}},{key:"formatLanguageCode",value:function(t){if(typeof t=="string"&&t.indexOf("-")>-1){var a=["hans","hant","latn","cyrl","cans","mong","arab"],r=t.split("-");return this.options.lowerCaseLng?r=r.map(function(o){return o.toLowerCase()}):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),a.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rn(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),a.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rn(r[1].toLowerCase())),a.indexOf(r[2].toLowerCase())>-1&&(r[2]=Rn(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function(t){var a=this;if(!t)return null;var r;return t.forEach(function(o){if(!r){var i=a.formatLanguageCode(o);(!a.options.supportedLngs||a.isSupportedCode(i))&&(r=i)}}),!r&&this.options.supportedLngs&&t.forEach(function(o){if(!r){var i=a.getLanguagePartFromCode(o);if(a.isSupportedCode(i))return r=i;r=a.options.supportedLngs.find(function(s){if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&s.indexOf(i)===0)return s})}}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}},{key:"getFallbackCodes",value:function(t,a){if(!t)return[];if(typeof t=="function"&&(t=t(a)),typeof t=="string"&&(t=[t]),Object.prototype.toString.apply(t)==="[object Array]")return t;if(!a)return t.default||[];var r=t[a];return r||(r=t[this.getScriptPartFromCode(a)]),r||(r=t[this.formatLanguageCode(a)]),r||(r=t[this.getLanguagePartFromCode(a)]),r||(r=t.default),r||[]}},{key:"toResolveHierarchy",value:function(t,a){var r=this,o=this.getFallbackCodes(a||this.options.fallbackLng||[],t),i=[],s=function(f){f&&(r.isSupportedCode(f)?i.push(f):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof t=="string"&&t.indexOf("-")>-1?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(t))):typeof t=="string"&&s(this.formatLanguageCode(t)),o.forEach(function(l){i.indexOf(l)<0&&s(r.formatLanguageCode(l))}),i}}]),e}(),Ci=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],$i={1:function(n){return+(n>1)},2:function(n){return+(n!=1)},3:function(n){return 0},4:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},5:function(n){return n==0?0:n==1?1:n==2?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},6:function(n){return n==1?0:n>=2&&n<=4?1:2},7:function(n){return n==1?0:n%10>=2&&n%10<=4&&(n%100<10||n%100>=20)?1:2},8:function(n){return n==1?0:n==2?1:n!=8&&n!=11?2:3},9:function(n){return+(n>=2)},10:function(n){return n==1?0:n==2?1:n<7?2:n<11?3:4},11:function(n){return n==1||n==11?0:n==2||n==12?1:n>2&&n<20?2:3},12:function(n){return+(n%10!=1||n%100==11)},13:function(n){return+(n!==0)},14:function(n){return n==1?0:n==2?1:n==3?2:3},15:function(n){return n%10==1&&n%100!=11?0:n%10>=2&&(n%100<10||n%100>=20)?1:2},16:function(n){return n%10==1&&n%100!=11?0:n!==0?1:2},17:function(n){return n==1||n%10==1&&n%100!=11?0:1},18:function(n){return n==0?0:n==1?1:2},19:function(n){return n==1?0:n==0||n%100>1&&n%100<11?1:n%100>10&&n%100<20?2:3},20:function(n){return n==1?0:n==0||n%100>0&&n%100<20?1:2},21:function(n){return n%100==1?1:n%100==2?2:n%100==3||n%100==4?3:0},22:function(n){return n==1?0:n==2?1:(n<0||n>10)&&n%10==0?2:3}},Ui=["v1","v2","v3"],Pt={zero:0,one:1,two:2,few:3,many:4,other:5};function Gi(){var e={};return Ci.forEach(function(n){n.lngs.forEach(function(t){e[t]={numbers:n.nr,plurals:$i[n.fc]}})}),e}var Vi=function(){function e(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};J(this,e),this.languageUtils=n,this.options=t,this.logger=Q.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Gi()}return q(e,[{key:"addRule",value:function(t,a){this.rules[t]=a}},{key:"getRule",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(t,{type:a.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(t,a);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(t,r).map(function(o){return"".concat(a).concat(o)})}},{key:"getSuffixes",value:function(t){var a=this,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.getRule(t,r);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort(function(i,s){return Pt[i]-Pt[s]}).map(function(i){return"".concat(a.options.prepend).concat(i)}):o.numbers.map(function(i){return a.getSuffix(t,i,r)}):[]}},{key:"getSuffix",value:function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=this.getRule(t,r);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(o.select(a)):this.getSuffixRetroCompatible(o,a):(this.logger.warn("no plural rule found for: ".concat(t)),"")}},{key:"getSuffixRetroCompatible",value:function(t,a){var r=this,o=t.noAbs?t.plurals(a):t.plurals(Math.abs(a)),i=t.numbers[o];this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));var s=function(){return r.options.prepend&&i.toString()?r.options.prepend+i.toString():i.toString()};return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):s():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1?s():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}},{key:"shouldUseIntlApi",value:function(){return!Ui.includes(this.options.compatibilityJSON)}}]),e}();function jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?jt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function At(e,n,t){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=Pi(e,n,t);return!o&&r&&typeof t=="string"&&(o=Ye(e,t,a),o===void 0&&(o=Ye(n,t,a))),o}var Wi=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J(this,e),this.logger=Q.create("interpolator"),this.options=n,this.format=n.interpolation&&n.interpolation.format||function(t){return t},this.init(n)}return q(e,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};t.interpolation||(t.interpolation={escapeValue:!0});var a=t.interpolation;this.escape=a.escape!==void 0?a.escape:Ai,this.escapeValue=a.escapeValue!==void 0?a.escapeValue:!0,this.useRawValueToEscape=a.useRawValueToEscape!==void 0?a.useRawValueToEscape:!1,this.prefix=a.prefix?ye(a.prefix):a.prefixEscaped||"{{",this.suffix=a.suffix?ye(a.suffix):a.suffixEscaped||"}}",this.formatSeparator=a.formatSeparator?a.formatSeparator:a.formatSeparator||",",this.unescapePrefix=a.unescapeSuffix?"":a.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":a.unescapeSuffix||"",this.nestingPrefix=a.nestingPrefix?ye(a.nestingPrefix):a.nestingPrefixEscaped||ye("$t("),this.nestingSuffix=a.nestingSuffix?ye(a.nestingSuffix):a.nestingSuffixEscaped||ye(")"),this.nestingOptionsSeparator=a.nestingOptionsSeparator?a.nestingOptionsSeparator:a.nestingOptionsSeparator||",",this.maxReplaces=a.maxReplaces?a.maxReplaces:1e3,this.alwaysFormat=a.alwaysFormat!==void 0?a.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var a="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(a,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(t,a,r,o){var i=this,s,l,f,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function g(S){return S.replace(/\$/g,"$$$$")}var p=function(v){if(v.indexOf(i.formatSeparator)<0){var b=At(a,h,v,i.options.keySeparator,i.options.ignoreJSONStructure);return i.alwaysFormat?i.format(b,void 0,r,K(K(K({},o),a),{},{interpolationkey:v})):b}var _=v.split(i.formatSeparator),x=_.shift().trim(),E=_.join(i.formatSeparator).trim();return i.format(At(a,h,x,i.options.keySeparator,i.options.ignoreJSONStructure),E,r,K(K(K({},o),a),{},{interpolationkey:x}))};this.resetRegExp();var m=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,y=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,w=[{regex:this.regexpUnescape,safeValue:function(v){return g(v)}},{regex:this.regexp,safeValue:function(v){return i.escapeValue?g(i.escape(v)):g(v)}}];return w.forEach(function(S){for(f=0;s=S.regex.exec(t);){var v=s[1].trim();if(l=p(v),l===void 0)if(typeof m=="function"){var b=m(t,s,o);l=typeof b=="string"?b:""}else if(o&&Object.prototype.hasOwnProperty.call(o,v))l="";else if(y){l=s[0];continue}else i.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(t)),l="";else typeof l!="string"&&!i.useRawValueToEscape&&(l=xt(l));var _=S.safeValue(l);if(t=t.replace(s[0],_),y?(S.regex.lastIndex+=l.length,S.regex.lastIndex-=s[0].length):S.regex.lastIndex=0,f++,f>=i.maxReplaces)break}}),t}},{key:"nest",value:function(t,a){var r=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,l;function f(m,y){var w=this.nestingOptionsSeparator;if(m.indexOf(w)<0)return m;var S=m.split(new RegExp("".concat(w,"[ ]*{"))),v="{".concat(S[1]);m=S[0],v=this.interpolate(v,l);var b=v.match(/'/g),_=v.match(/"/g);(b&&b.length%2===0&&!_||_.length%2!==0)&&(v=v.replace(/'/g,'"'));try{l=JSON.parse(v),y&&(l=K(K({},y),l))}catch(x){return this.logger.warn("failed parsing options string in nesting for key ".concat(m),x),"".concat(m).concat(w).concat(v)}return delete l.defaultValue,m}for(;i=this.nestingRegexp.exec(t);){var h=[];l=K({},o),l=l.replace&&typeof l.replace!="string"?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;var g=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){var p=i[1].split(this.formatSeparator).map(function(m){return m.trim()});i[1]=p.shift(),h=p,g=!0}if(s=a(f.call(this,i[1].trim(),l),l),s&&i[0]===t&&typeof s!="string")return s;typeof s!="string"&&(s=xt(s)),s||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(t)),s=""),g&&(s=h.reduce(function(m,y){return r.format(m,y,o.lng,K(K({},o),{},{interpolationkey:i[1].trim()}))},s.trim())),t=t.replace(i[0],s),this.regexp.lastIndex=0}return t}}]),e}();function kt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function ae(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?kt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Ki(e){var n=e.toLowerCase().trim(),t={};if(e.indexOf("(")>-1){var a=e.split("(");n=a[0].toLowerCase().trim();var r=a[1].substring(0,a[1].length-1);if(n==="currency"&&r.indexOf(":")<0)t.currency||(t.currency=r.trim());else if(n==="relativetime"&&r.indexOf(":")<0)t.range||(t.range=r.trim());else{var o=r.split(";");o.forEach(function(i){if(i){var s=i.split(":"),l=Hi(s),f=l[0],h=l.slice(1),g=h.join(":").trim().replace(/^'+|'+$/g,"");t[f.trim()]||(t[f.trim()]=g),g==="false"&&(t[f.trim()]=!1),g==="true"&&(t[f.trim()]=!0),isNaN(g)||(t[f.trim()]=parseInt(g,10))}})}}return{formatName:n,formatOptions:t}}function be(e){var n={};return function(a,r,o){var i=r+JSON.stringify(o),s=n[i];return s||(s=e(r,o),n[i]=s),s(a)}}var Yi=function(){function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};J(this,e),this.logger=Q.create("formatter"),this.options=n,this.formats={number:be(function(t,a){var r=new Intl.NumberFormat(t,ae({},a));return function(o){return r.format(o)}}),currency:be(function(t,a){var r=new Intl.NumberFormat(t,ae(ae({},a),{},{style:"currency"}));return function(o){return r.format(o)}}),datetime:be(function(t,a){var r=new Intl.DateTimeFormat(t,ae({},a));return function(o){return r.format(o)}}),relativetime:be(function(t,a){var r=new Intl.RelativeTimeFormat(t,ae({},a));return function(o){return r.format(o,a.range||"day")}}),list:be(function(t,a){var r=new Intl.ListFormat(t,ae({},a));return function(o){return r.format(o)}})},this.init(n)}return q(e,[{key:"init",value:function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},r=a.interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}},{key:"add",value:function(t,a){this.formats[t.toLowerCase().trim()]=a}},{key:"addCached",value:function(t,a){this.formats[t.toLowerCase().trim()]=be(a)}},{key:"format",value:function(t,a,r){var o=this,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=a.split(this.formatSeparator),l=s.reduce(function(f,h){var g=Ki(h),p=g.formatName,m=g.formatOptions;if(o.formats[p]){var y=f;try{var w=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},S=w.locale||w.lng||i.locale||i.lng||r;y=o.formats[p](f,S,ae(ae(ae({},m),i),w))}catch(v){o.logger.warn(v)}return y}else o.logger.warn("there was no format function for ".concat(p));return f},t);return l}}]),e}();function Lt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Mt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Lt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Ji(e){var n=qi();return function(){var a=ne(e),r;if(n){var o=ne(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Me(this,r)}}function qi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function Xi(e,n){e.pending[n]!==void 0&&(delete e.pending[n],e.pendingCount--)}var Zi=function(e){sn(t,e);var n=Ji(t);function t(a,r,o){var i,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return J(this,t),i=n.call(this),ln&&ge.call(he(i)),i.backend=a,i.store=r,i.services=o,i.languageUtils=o.languageUtils,i.options=s,i.logger=Q.create("backendConnector"),i.waitingReads=[],i.maxParallelReads=s.maxParallelReads||10,i.readingCalls=0,i.maxRetries=s.maxRetries>=0?s.maxRetries:5,i.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,i.state={},i.queue=[],i.backend&&i.backend.init&&i.backend.init(o,s.backend,s),i}return q(t,[{key:"queueLoad",value:function(r,o,i,s){var l=this,f={},h={},g={},p={};return r.forEach(function(m){var y=!0;o.forEach(function(w){var S="".concat(m,"|").concat(w);!i.reload&&l.store.hasResourceBundle(m,w)?l.state[S]=2:l.state[S]<0||(l.state[S]===1?h[S]===void 0&&(h[S]=!0):(l.state[S]=1,y=!1,h[S]===void 0&&(h[S]=!0),f[S]===void 0&&(f[S]=!0),p[w]===void 0&&(p[w]=!0)))}),y||(g[m]=!0)}),(Object.keys(f).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(f),pending:Object.keys(h),toLoadLanguages:Object.keys(g),toLoadNamespaces:Object.keys(p)}}},{key:"loaded",value:function(r,o,i){var s=r.split("|"),l=s[0],f=s[1];o&&this.emit("failedLoading",l,f,o),i&&this.store.addResourceBundle(l,f,i),this.state[r]=o?-1:2;var h={};this.queue.forEach(function(g){Ni(g.loaded,[l],f),Xi(g,r),o&&g.errors.push(o),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(function(p){h[p]||(h[p]={});var m=g.loaded[p];m.length&&m.forEach(function(y){h[p][y]===void 0&&(h[p][y]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(g){return!g.done})}},{key:"read",value:function(r,o,i){var s=this,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!r.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:o,fcName:i,tried:l,wait:f,callback:h});return}this.readingCalls++;var g=function(w,S){if(s.readingCalls--,s.waitingReads.length>0){var v=s.waitingReads.shift();s.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(w&&S&&l<s.maxRetries){setTimeout(function(){s.read.call(s,r,o,i,l+1,f*2,h)},f);return}h(w,S)},p=this.backend[i].bind(this.backend);if(p.length===2){try{var m=p(r,o);m&&typeof m.then=="function"?m.then(function(y){return g(null,y)}).catch(g):g(null,m)}catch(y){g(y)}return}return p(r,o,g)}},{key:"prepareLoading",value:function(r,o){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),l&&l();typeof r=="string"&&(r=this.languageUtils.toResolveHierarchy(r)),typeof o=="string"&&(o=[o]);var f=this.queueLoad(r,o,s,l);if(!f.toLoad.length)return f.pending.length||l(),null;f.toLoad.forEach(function(h){i.loadOne(h)})}},{key:"load",value:function(r,o,i){this.prepareLoading(r,o,{},i)}},{key:"reload",value:function(r,o,i){this.prepareLoading(r,o,{reload:!0},i)}},{key:"loadOne",value:function(r){var o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",s=r.split("|"),l=s[0],f=s[1];this.read(l,f,"read",void 0,void 0,function(h,g){h&&o.logger.warn("".concat(i,"loading namespace ").concat(f," for language ").concat(l," failed"),h),!h&&g&&o.logger.log("".concat(i,"loaded namespace ").concat(f," for language ").concat(l),g),o.loaded(r,h,g)})}},{key:"saveMissing",value:function(r,o,i,s,l){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(o)){this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(o,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend&&this.backend.create){var g=Mt(Mt({},f),{},{isUpdate:l}),p=this.backend.create.bind(this.backend);if(p.length<6)try{var m;p.length===5?m=p(r,o,i,s,g):m=p(r,o,i,s),m&&typeof m.then=="function"?m.then(function(y){return h(null,y)}).catch(h):h(null,m)}catch(y){h(y)}else p(r,o,i,s,h,g)}!r||!r[0]||this.store.addResource(r[0],o,i,s)}}}]),t}(ge);function It(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(n){var t={};if(ue(n[1])==="object"&&(t=n[1]),typeof n[1]=="string"&&(t.defaultValue=n[1]),typeof n[2]=="string"&&(t.tDescription=n[2]),ue(n[2])==="object"||ue(n[3])==="object"){var a=n[3]||n[2];Object.keys(a).forEach(function(r){t[r]=a[r]})}return t},interpolation:{escapeValue:!0,format:function(n,t,a,r){return n},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function Ft(e){return typeof e.ns=="string"&&(e.ns=[e.ns]),typeof e.fallbackLng=="string"&&(e.fallbackLng=[e.fallbackLng]),typeof e.fallbackNS=="string"&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function Dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Dt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function Qi(e){var n=es();return function(){var a=ne(e),r;if(n){var o=ne(this).constructor;r=Reflect.construct(a,arguments,o)}else r=a.apply(this,arguments);return Me(this,r)}}function es(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function $e(){}function ns(e){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));n.forEach(function(t){typeof e[t]=="function"&&(e[t]=e[t].bind(e))})}var Je=function(e){sn(t,e);var n=Qi(t);function t(){var a,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;if(J(this,t),a=n.call(this),ln&&ge.call(he(a)),a.options=Ft(r),a.services={},a.logger=Q,a.modules={external:[]},ns(he(a)),o&&!a.isInitialized&&!r.isClone){if(!a.options.initImmediate)return a.init(r,o),Me(a,he(a));setTimeout(function(){a.init(r,o)},0)}return a}return q(t,[{key:"init",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(i=o,o={}),!o.defaultNS&&o.defaultNS!==!1&&o.ns&&(typeof o.ns=="string"?o.defaultNS=o.ns:o.ns.indexOf("translation")<0&&(o.defaultNS=o.ns[0]));var s=It();this.options=X(X(X({},s),this.options),Ft(o)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=X(X({},s.interpolation),this.options.interpolation)),o.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=o.keySeparator),o.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=o.nsSeparator);function l(v){return v?typeof v=="function"?new v:v:null}if(!this.options.isClone){this.modules.logger?Q.init(l(this.modules.logger),this.options):Q.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=Yi);var h=new Nt(this.options);this.store=new Fi(this.options.resources,this.options);var g=this.services;g.logger=Q,g.resourceStore=this.store,g.languageUtils=h,g.pluralResolver=new Vi(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=l(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Wi(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Zi(l(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(v){for(var b=arguments.length,_=new Array(b>1?b-1:0),x=1;x<b;x++)_[x-1]=arguments[x];r.emit.apply(r,[v].concat(_))}),this.modules.languageDetector&&(g.languageDetector=l(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=l(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new Rt(this.services,this.options),this.translator.on("*",function(v){for(var b=arguments.length,_=new Array(b>1?b-1:0),x=1;x<b;x++)_[x-1]=arguments[x];r.emit.apply(r,[v].concat(_))}),this.modules.external.forEach(function(v){v.init&&v.init(r)})}if(this.format=this.options.interpolation.format,i||(i=$e),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var m=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];m.forEach(function(v){r[v]=function(){var b;return(b=r.store)[v].apply(b,arguments)}});var y=["addResource","addResources","addResourceBundle","removeResourceBundle"];y.forEach(function(v){r[v]=function(){var b;return(b=r.store)[v].apply(b,arguments),r}});var w=Ne(),S=function(){var b=function(x,E){r.isInitialized&&!r.initializedStoreOnce&&r.logger.warn("init: i18next is already initialized. You should call init just once!"),r.isInitialized=!0,r.options.isClone||r.logger.log("initialized",r.options),r.emit("initialized",r.options),w.resolve(E),i(x,E)};if(r.languages&&r.options.compatibilityAPI!=="v1"&&!r.isInitialized)return b(null,r.t.bind(r));r.changeLanguage(r.options.lng,b)};return this.options.resources||!this.options.initImmediate?S():setTimeout(S,0),w}},{key:"loadResources",value:function(r){var o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e,s=i,l=typeof r=="string"?r:this.language;if(typeof r=="function"&&(s=r),!this.options.resources||this.options.partialBundledLanguages){if(l&&l.toLowerCase()==="cimode")return s();var f=[],h=function(m){if(m){var y=o.services.languageUtils.toResolveHierarchy(m);y.forEach(function(w){f.indexOf(w)<0&&f.push(w)})}};if(l)h(l);else{var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.forEach(function(p){return h(p)})}this.options.preload&&this.options.preload.forEach(function(p){return h(p)}),this.services.backendConnector.load(f,this.options.ns,function(p){!p&&!o.resolvedLanguage&&o.language&&o.setResolvedLanguage(o.language),s(p)})}else s(null)}},{key:"reloadResources",value:function(r,o,i){var s=Ne();return r||(r=this.languages),o||(o=this.options.ns),i||(i=$e),this.services.backendConnector.reload(r,o,function(l){s.resolve(),i(l)}),s}},{key:"use",value:function(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&Ca.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}},{key:"setResolvedLanguage",value:function(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(var o=0;o<this.languages.length;o++){var i=this.languages[o];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}}},{key:"changeLanguage",value:function(r,o){var i=this;this.isLanguageChangingTo=r;var s=Ne();this.emit("languageChanging",r);var l=function(p){i.language=p,i.languages=i.services.languageUtils.toResolveHierarchy(p),i.resolvedLanguage=void 0,i.setResolvedLanguage(p)},f=function(p,m){m?(l(m),i.translator.changeLanguage(m),i.isLanguageChangingTo=void 0,i.emit("languageChanged",m),i.logger.log("languageChanged",m)):i.isLanguageChangingTo=void 0,s.resolve(function(){return i.t.apply(i,arguments)}),o&&o(p,function(){return i.t.apply(i,arguments)})},h=function(p){!r&&!p&&i.services.languageDetector&&(p=[]);var m=typeof p=="string"?p:i.services.languageUtils.getBestMatchFromCodes(p);m&&(i.language||l(m),i.translator.language||i.translator.changeLanguage(m),i.services.languageDetector&&i.services.languageDetector.cacheUserLanguage&&i.services.languageDetector.cacheUserLanguage(m)),i.loadResources(m,function(y){f(y,m)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(r),s}},{key:"getFixedT",value:function(r,o,i){var s=this,l=function f(h,g){var p;if(ue(g)!=="object"){for(var m=arguments.length,y=new Array(m>2?m-2:0),w=2;w<m;w++)y[w-2]=arguments[w];p=s.options.overloadTranslationOptionHandler([h,g].concat(y))}else p=X({},g);p.lng=p.lng||f.lng,p.lngs=p.lngs||f.lngs,p.ns=p.ns||f.ns,p.keyPrefix=p.keyPrefix||i||f.keyPrefix;var S=s.options.keySeparator||".",v;return p.keyPrefix&&Array.isArray(h)?v=h.map(function(b){return"".concat(p.keyPrefix).concat(S).concat(b)}):v=p.keyPrefix?"".concat(p.keyPrefix).concat(S).concat(h):h,s.t(v,p)};return typeof r=="string"?l.lng=r:l.lngs=r,l.ns=o,l.keyPrefix=i,l}},{key:"t",value:function(){var r;return this.translator&&(r=this.translator).translate.apply(r,arguments)}},{key:"exists",value:function(){var r;return this.translator&&(r=this.translator).exists.apply(r,arguments)}},{key:"setDefaultNamespace",value:function(r){this.options.defaultNS=r}},{key:"hasLoadedNamespace",value:function(r){var o=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var s=this.resolvedLanguage||this.languages[0],l=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;var h=function(m,y){var w=o.services.backendConnector.state["".concat(m,"|").concat(y)];return w===-1||w===2};if(i.precheck){var g=i.precheck(this,h);if(g!==void 0)return g}return!!(this.hasResourceBundle(s,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(s,r)&&(!l||h(f,r)))}},{key:"loadNamespaces",value:function(r,o){var i=this,s=Ne();return this.options.ns?(typeof r=="string"&&(r=[r]),r.forEach(function(l){i.options.ns.indexOf(l)<0&&i.options.ns.push(l)}),this.loadResources(function(l){s.resolve(),o&&o(l)}),s):(o&&o(),Promise.resolve())}},{key:"loadLanguages",value:function(r,o){var i=Ne();typeof r=="string"&&(r=[r]);var s=this.options.preload||[],l=r.filter(function(f){return s.indexOf(f)<0});return l.length?(this.options.preload=s.concat(l),this.loadResources(function(f){i.resolve(),o&&o(f)}),i):(o&&o(),Promise.resolve())}},{key:"dir",value:function(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";var o=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services&&this.services.languageUtils||new Nt(It());return o.indexOf(i.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var r=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$e,s=X(X(X({},this.options),o),{isClone:!0}),l=new t(s);(o.debug!==void 0||o.prefix!==void 0)&&(l.logger=l.logger.clone(o));var f=["store","services","language"];return f.forEach(function(h){l[h]=r[h]}),l.services=X({},this.services),l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l.translator=new Rt(l.services,l.options),l.translator.on("*",function(h){for(var g=arguments.length,p=new Array(g>1?g-1:0),m=1;m<g;m++)p[m-1]=arguments[m];l.emit.apply(l,[h].concat(p))}),l.init(s,i),l.translator.options=l.options,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),t}(ge);te(Je,"createInstance",function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new Je(e,n)});var j=Je.createInstance();j.createInstance=Je.createInstance;j.createInstance;j.dir;j.init;j.loadResources;j.reloadResources;j.use;j.changeLanguage;j.getFixedT;j.t;j.exists;j.setDefaultNamespace;j.hasLoadedNamespace;j.loadNamespaces;j.loadLanguages;let Se;const ts=()=>Se,as=e=>{V.onLanguageChange(n=>e.changeLanguage(n))};class rs{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(n){return j.use(n),this}withAppName(n){return this._appName=n,this}withLng(n){return this._lng=n,this}withDefaultResource(n){return Object.entries(n).forEach(([t,a])=>{this._defaultResources[t]=a}),this}withResource(n,t){return this._resources[n]=t,this}combineResource(){const n={};return Object.entries(this._defaultResources).forEach(([t,a])=>{n[t]={translation:a}}),Object.entries(this._resources).forEach(([t,a])=>{t in n?n[t].translation=Object.assign(Object.assign({},n[t].translation),a):n[t]={translation:a}}),n}build(){return Se=j.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","en"],"zh-HK":["zh-Hant","en"],"zh-TW":["zh-Hant","en"],"zh-Hant":["zh-HK","zh-TW","en"],default:["en"]},resources:this.combineResource()},(n,t)=>{var a;if(n){console.error("[rmg-runtime] unexpected error occurs while initialising i18n",n);return}document.title=t(this._appName),document.documentElement.lang=(a=this._lng)!==null&&a!==void 0?a:"en"}),Se.on("languageChanged",n=>{document.title=Se.t(this._appName),document.documentElement.lang=n}),as(Se),Se}}var $a=globalThis&&globalThis.__awaiter||function(e,n,t,a){function r(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(h){try{f(a.next(h))}catch(g){i(g)}}function l(h){try{f(a.throw(h))}catch(g){i(g)}}function f(h){h.done?o(h.value):r(h.value).then(s,l)}f((a=a.apply(e,n||[])).next())})};let Ua=!1;const os=()=>$a(void 0,void 0,void 0,function*(){yield U.loadWithTimeout(),V.isAnalyticsQADone()?V.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),Ve.init()):Z.isStandaloneWindow()&&U.getComponent()!=="rmg-home"&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),Ve.init()),Ua=!0}),is=()=>$a(void 0,void 0,void 0,function*(){let e=0;for(;e<=10&&!Ua;)yield Ta(1e3),e+=1}),R={ready:is,getAppName:U.getComponent,getAppVersion:U.getVersion,getEnv:U.getEnvironment,getInstance:U.getInstance,event:Ve.customEvent,isStandaloneWindow:Z.isStandaloneWindow,injectUITools:Z.injectUITools,openApp:Z.openApp,onAppOpen:Z.onAppOpen,closeApp:Z.closeApp,onAppClose:Z.onAppClose,updateUrl:Z.updateUrl,onUrlUpdate:Z.onUrlUpdate,toggleNavMenu:Z.toggleNavMenu,postEvent:B.postEvent,onMessage:B.onMessage,setLanguage:V.setLanguage,getLanguage:V.getLanguage,onLanguageChange:V.onLanguageChange,setColourMode:V.setColourMode,getColourMode:V.getColourMode,onColourModeChange:V.onColourModeChange,isAnalyticsQADone:V.isAnalyticsQADone,isAllowAnalytics:V.isAllowAnalytics,allowAnalytics:V.allowAnalytics,getStorageForCurrentApp:bt.getStorageForCurrentApp,clearStorageForCurrentApp:bt.clearStorageForCurrentApp,getMsSinceStartUp:Oi.getMsSinceStartUp,I18nBuilder:rs,getI18nInstance:ts};os().then();window.rmgRuntime=R;var Ga,Bt=Ha;Ga=Bt.createRoot,Bt.hydrateRoot;function ss(){if(console&&console.warn){for(var e,n=arguments.length,t=new Array(n),a=0;a<n;a++)t[a]=arguments[a];typeof t[0]=="string"&&(t[0]="react-i18next:: ".concat(t[0])),(e=console).warn.apply(e,t)}}var Ct={};function Dn(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];typeof n[0]=="string"&&Ct[n[0]]||(typeof n[0]=="string"&&(Ct[n[0]]=new Date),ss.apply(void 0,n))}var Va=function(n,t){return function(){if(n.isInitialized)t();else{var a=function r(){setTimeout(function(){n.off("initialized",r)},0),t()};n.on("initialized",a)}}};function $t(e,n,t){e.loadNamespaces(n,Va(e,t))}function Ut(e,n,t,a){typeof t=="string"&&(t=[t]),t.forEach(function(r){e.options.ns.indexOf(r)<0&&e.options.ns.push(r)}),e.loadLanguages(n,Va(e,a))}function ls(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=n.languages[0],r=n.options?n.options.fallbackLng:!1,o=n.languages[n.languages.length-1];if(a.toLowerCase()==="cimode")return!0;var i=function(l,f){var h=n.services.backendConnector.state["".concat(l,"|").concat(f)];return h===-1||h===2};return t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,e)?!1:!!(n.hasResourceBundle(a,e)||!n.services.backendConnector.backend||n.options.resources&&!n.options.partialBundledLanguages||i(a,e)&&(!r||i(o,e)))}function us(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!n.languages||!n.languages.length)return Dn("i18n.languages were undefined or empty",n.languages),!0;var a=n.options.ignoreJSONStructure!==void 0;return a?n.hasLoadedNamespace(e,{lng:t.lng,precheck:function(o,i){if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!i(o.isLanguageChangingTo,e))return!1}}):ls(e,n,t)}var cs=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,hs={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},gs=function(n){return hs[n]},fs=function(n){return n.replace(cs,gs)};function Gt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Vt(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Gt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Bn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:fs};function ds(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Bn=Vt(Vt({},Bn),e)}function ps(){return Bn}var Wa;function ms(e){Wa=e}function vs(){return Wa}var ys={type:"3rdParty",init:function(n){ds(n.options.react),ms(n)}},Ka=O.createContext(),bs=function(){function e(){J(this,e),this.usedNamespaces={}}return q(e,[{key:"addUsedNamespaces",value:function(t){var a=this;t.forEach(function(r){a.usedNamespaces[r]||(a.usedNamespaces[r]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),e}();function Ss(e,n){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var a,r,o,i,s=[],l=!0,f=!1;try{if(o=(t=t.call(e)).next,n===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(a=o.call(t)).done)&&(s.push(a.value),s.length!==n);l=!0);}catch(h){f=!0,r=h}finally{try{if(!l&&t.return!=null&&(i=t.return(),Object(i)!==i))return}finally{if(f)throw r}}return s}}function ws(e,n){return Ia(e)||Ss(e,n)||Fa(e,n)||Da()}function Wt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,a)}return t}function Nn(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?Wt(Object(t),!0).forEach(function(a){te(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wt(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}var Os=function(n,t){var a=O.useRef();return O.useEffect(function(){a.current=t?a.current:n},[n,t]),a.current};function Ya(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=n.i18n,a=O.useContext(Ka)||{},r=a.i18n,o=a.defaultNS,i=t||r||vs();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new bs),!i){Dn("You will need to pass in an i18next instance by using initReactI18next");var s=function(I,N){return typeof N=="string"?N:N&&ue(N)==="object"&&typeof N.defaultValue=="string"?N.defaultValue:Array.isArray(I)?I[I.length-1]:I},l=[s,{},!1];return l.t=s,l.i18n={},l.ready=!1,l}i.options.react&&i.options.react.wait!==void 0&&Dn("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var f=Nn(Nn(Nn({},ps()),i.options.react),n),h=f.useSuspense,g=f.keyPrefix,p=e||o||i.options&&i.options.defaultNS;p=typeof p=="string"?[p]:p||["translation"],i.reportNamespaces.addUsedNamespaces&&i.reportNamespaces.addUsedNamespaces(p);var m=(i.isInitialized||i.initializedStoreOnce)&&p.every(function(A){return us(A,i,f)});function y(){return i.getFixedT(n.lng||null,f.nsMode==="fallback"?p:p[0],g)}var w=O.useState(y),S=ws(w,2),v=S[0],b=S[1],_=p.join();n.lng&&(_="".concat(n.lng).concat(_));var x=Os(_),E=O.useRef(!0);O.useEffect(function(){var A=f.bindI18n,I=f.bindI18nStore;E.current=!0,!m&&!h&&(n.lng?Ut(i,n.lng,p,function(){E.current&&b(y)}):$t(i,p,function(){E.current&&b(y)})),m&&x&&x!==_&&E.current&&b(y);function N(){E.current&&b(y)}return A&&i&&i.on(A,N),I&&i&&i.store.on(I,N),function(){E.current=!1,A&&i&&A.split(" ").forEach(function(pe){return i.off(pe,N)}),I&&i&&I.split(" ").forEach(function(pe){return i.store.off(pe,N)})}},[i,_]);var G=O.useRef(!0);O.useEffect(function(){E.current&&!G.current&&b(y),G.current=!1},[i,g]);var $=[v,i,m];if($.t=v,$.i18n=i,$.ready=m,m||!m&&!h)return $;throw new Promise(function(A){n.lng?Ut(i,n.lng,p,function(){return A()}):$t(i,p,function(){return A()})})}function _s(e){var n=e.i18n,t=e.defaultNS,a=e.children,r=O.useMemo(function(){return{i18n:n,defaultNS:t}},[n,t]);return O.createElement(Ka.Provider,{value:r},a)}const xs="",zs="",Hs="",Es="",Ts="",Rs="",Ns="",Ps="",js="",As="",ks="/Language",Ls="",Ms="",Is="",Fs="",Ds="",Bs="",Cs="",$s="",Us="",Gs="",Vs="",Ws="",Ks="",Ys={Action:xs,Apps:zs,"Back to list":"","Background colour":"",Black:Hs,Cancel:Es,City:Ts,Components:Rs,"Configuration file":"",Confirm:Ns,Continue:Ps,"Country/Region":"/",Copy:js,Edit:As,"Foreground colour":"","Go back":"",Language:ks,Justification:Ls,Name:Ms,Next:Is,Open:Fs,Palette:Ds,"Please select...":"...",Previous:Bs,"Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:Cs,Reset:$s,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:Us,Submit:Gs,Translate:Vs,Upload:Ws,White:Ks},Js="",qs="",Xs="",Zs="",Qs="",el="",nl="",tl="",al="",rl="",ol="/Language",il="",sl="",ll="",ul="",cl="",hl="",gl="",fl="",dl="",pl="",ml="",vl="",yl="",bl={Action:Js,Apps:qs,"Back to list":"","Background colour":"",Black:Xs,Cancel:Zs,City:Qs,Components:el,"Configuration file":"",Confirm:nl,Continue:tl,Copy:al,"Country/Region":"/",Edit:rl,"Foreground colour":"","Go back":"",Language:ol,Justification:il,Name:sl,Next:ll,Open:ul,Palette:cl,"Please select...":"...",Previous:hl,"Rail Map Generator":"","Rail Map Painter":"","Rail Map Toolkit":"",Remove:gl,Reset:fl,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":"",Settings:dl,Submit:pl,Translate:ml,Upload:vl,White:yl},Sl="",wl="",Ol="",_l="",xl="",zl="",Hl="",El="",Tl="",Rl="/Language",Nl="",Pl="",jl="",Al="",kl="",Ll="",Ml="",Il="",Fl="",Dl="",Bl="",Cl="",$l="",Ul={Action:Sl,Apps:wl,"Back to list":" ","Background colour":"",Black:Ol,Cancel:_l,City:xl,Components:zl,"Configuration file":"  ",Confirm:Hl,Copy:El,"Country/Region":"/",Edit:Tl,"Foreground colour":"","Go back":"",Language:Rl,Justification:Nl,Name:Pl,Next:jl,Open:Al,Palette:kl,"Please select...":"",Previous:Ll,"Rail Map Generator":"  ","Rail Map Painter":"  ","Rail Map Toolkit":" ",Remove:Ml,Reset:Il,"RMG Templates":"RMG ","RMP Gallery":"RMP ","Seed Project":" ",Settings:Fl,Submit:Dl,Translate:Bl,Upload:Cl,White:$l};var Gl=["en","zh-Hans","zh-Hant"],Vl={ar:{ar:"",en:"Arabic",ko:"","zh-Hans":"","zh-Hant":""},az:{az:"Azrbaycanca",en:"Azerbaijani",ko:"","zh-Hans":"","zh-Hant":""},ca:{ca:"Catal",en:"Catalan",ko:"","zh-Hans":"","zh-Hant":""},da:{da:"Dansk",en:"Danish",ko:"","zh-Hans":"","zh-Hant":""},de:{de:"Deutsch",en:"German",ko:"","zh-Hans":"","zh-Hant":""},el:{el:"",en:"Greek",ko:"","zh-Hans":"","zh-Hant":""},en:{en:"English",ko:"","zh-Hans":"","zh-Hant":""},es:{en:"Spanish",es:"Espaol",ko:"","zh-Hans":"","zh-Hant":""},fa:{en:"Persian",fa:"",ko:"","zh-Hans":"","zh-Hant":""},fr:{en:"French",fr:"Franais",ko:"","zh-Hans":"","zh-Hant":""},ga:{en:"Irish",ga:"Gaeilge",ko:"","zh-Hans":"","zh-Hant":""},gd:{en:"Scottish Gaelic",gd:"Gidhlig",ko:" ","zh-Hans":"","zh-Hant":""},hi:{en:"Hindi",hi:"",ko:"","zh-Hans":"","zh-Hant":""},hu:{en:"Hungarian",hu:"Magyar",ko:"","zh-Hans":"","zh-Hant":""},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"","zh-Hans":"","zh-Hant":""},it:{en:"Italian",it:"Italiano",ko:"","zh-Hans":"","zh-Hant":""},ja:{en:"Japanese",ja:"",ko:"","zh-Hans":"","zh-Hant":""},kk:{en:"Kazakh",kk:"",ko:"","zh-Hans":"","zh-Hant":""},ko:{en:"Korean",ko:"","zh-Hans":"","zh-Hant":""},ms:{en:"Malay",ko:"",ms:"Bahasa Melayu","zh-Hans":"","zh-Hant":""},no:{en:"Norwegian",ko:"",no:"Norsk","zh-Hans":"","zh-Hant":""},pl:{en:"Polish",ko:"",pl:"Polski","zh-Hans":"","zh-Hant":""},pt:{en:"Portuguese",ko:"",pt:"Portugus","zh-Hans":"","zh-Hant":""},ro:{en:"Romanian",ko:"",ro:"Romn","zh-Hans":"","zh-Hant":""},ru:{en:"Russian",ko:"",ru:"","zh-Hans":"","zh-Hant":""},sv:{en:"Swedish",ko:"",sv:"Svenska","zh-Hans":"","zh-Hant":""},th:{en:"Thai",ko:"",th:"","zh-Hans":"","zh-Hant":""},tr:{en:"Turkish",ko:"",tr:"Trke","zh-Hans":"","zh-Hant":""},uk:{en:"Ukrainian",ko:"",uk:"","zh-Hans":"","zh-Hant":""},ur:{en:"Urdo",ko:"",ur:"","zh-Hans":"","zh-Hant":""},uz:{en:"Uzbek",ko:"",uz:"Ozbekcha","zh-Hans":"","zh-Hant":""},vi:{en:"Vietnamese",ko:"",vi:"Ting Vit","zh-Hans":"","zh-Hant":""},"zh-Hans":{en:"Simplified Chinese",ko:" ","zh-Hans":"","zh-Hant":""},"zh-Hant":{en:"Traditional Chinese",ko:" ","zh-Hans":"","zh-Hant":""}},Wl={en:{},"zh-Hans":Ys,"zh-Hant":bl,ko:Ul};const Kl={editStyle:"Edit style"},Yl={downloads:"Downloads",configFile:"Configuration file",images:"Images"},Jl={invalidType:"Invalid file type! Only file in JSON format is accepted.",unknownError:"Unknown error occurred while parsing the uploaded file! Please try again."},ql={title:"Download images",canvas:"Canvas",transparent:"Transparent background",showBorder:"Display border",scale:"Scale",format:"Format",pleaseSelect:"Please select...",png:"PNG",svg:"SVG (Web use)",downloadOne:"Download current station",downloadAll:"Download all stations"},Xl={title:"Select a template"},Zl={main:"Main line",branch:"Branch",external:"External line",addStation:"Add station",editLine:"Edit line section"},Ql={num:"Station code",zhName:"Chinese name",enName:"English name",interchange:"Interchanges",coline:"Tracks sharing"},eu={header:"Edit style",layout:{title:"Layout",canvasHeight:"Canvas height",destinationWidth:"Destination width",runinWidth:"Running-in width",railmapWidth:"Rail map width",indoorWidth:"Indoor width",verticalPosition:"Vertical position",branchSpacing:"Branch spacing",branchSpacingLoop:"Vertical padding",padding:"Rail map padding",directionGzX:"Direction horizontal position",directionGzY:"Direction vertical position"},design:{title:"Design",zhLineName:"Chinese line name",enLineName:"English line name",lineNum:"Line code",direction:"Train direction",left:"Left",right:"Right",platformNum:"Platform number",psdNum:"Platform door number",panelType:"Panel type",gz1:"Line 1",gz28:"Line 2/8 (Panasonic)",gz2otis:"Line 2/8 (Otis)",gz3:"Line 3",gz1421:"2017 style",gz6:"2010 style",gzgf:"2016 style",gz4:"Line 4",gz5:"Line 5",sh:"Default",sh2020:"2020 (Beta)",nameDisplay:"Display station names",alternatively:"Alternatively",onOneSide:"Same side",flip:"Flip position",legacyDestination:"Display line name on direction sign",overrideTerminal:"Override terminal",terminalZhName:"Terminal Chinese name",terminalEnName:"Terminal English name"},note:{title:"Notes",add:"Add note",zhNote:"Chinese note",enNote:"English note",positionX:"Horizontal position",positionY:"Vertical position",border:"Display border",remove:"Remove note"},loop:{title:"Loop",isLoop:"Treat as loop line",isBank:"Display loop as a parallelogram in Rail map",leftRightFactor:"Left and right factor",bottomFactor:"Bottom factor"}},nu={header:"Edit line section",branch:{title:"Branch"},coline:{title:"Tracks sharing",add:"Add sharing track"},action:{title:"Actions",autoNum:"Auto numbering stations",reverse:"Rotate entire line",flip:"Flip entire line"}},tu={info:{title:"Station info",num:"Station code",zhName:"Chinese name",enName:"English name",zhSecondary:"Chinese secondary",enSecondary:"English secondary"},interchange:{title:"Interchanges",within:"Within-station interchange",outStation:"Out-of-station interchange",outSystem:"Out-of-system interchange",addGroup:"Add interchange group",noInterchanges:"No interchanges",zhName:"Chinese name",enName:"English name",add:"Add interchange",copy:"Copy interchange",remove:"Remove interchange"},branch:{type:"Type",through:"Through",nonThrough:"Non-through",firstStation:"First station",position:"Position",upper:"Upper",lower:"Lower"},more:{title:"More settings",service:"Train services",local:"Local",express:"Express",direct:"Direct",facility:"Nearby facility",none:"None",pivot:"Pivot station on loop line",oneLine:"Display Chinese and English in one line",intPadding:"Padding between station name and interchange box",intPaddingApplyGlobal:"Apply current padding to all stations",apply:"Apply"},footer:{current:"Set as current",remove:"Remove"}},au={title:"Select a colour",example:"Example",palette:"From palette",custom:"Customise",city:"City theme",line:"Line theme",bg:"Background colour",fg:"Foreground colour",white:"White",black:"Black",seeAll:"See full library in "},ru={title:"Add station",where:"Target location",main:"Main line",branch:"Branch",external:"External line",preposition:"Preposition",before:"Before",after:"After",pivot:"Pivot station",pleaseSelect:"Please select...",error:"Failed to add station. Please check your selections and try again."},ou={title:"Create a new branch or external line",where:"Target location",new:"Create a new branch",ext:"Create an external line",from:"Between",to:"and",pleaseSelect:"Please select...",position:"Position",upper:"Upper",lower:"Lower"},iu={title:"Station auto numbering",where:"Target location",main:"Main line",branch:"Branch",external:"External line",from:"Starting index",maxLength:"Number of digits",sort:"Sorting",asc:"Ascending",desc:"Descending"},su={all:"All",destination:"Destination",runin:"Running-in",railmap:"Rail map",indoor:"Indoor"},lu={mtr:"MTR",gzmtr:"Guangzhou Metro",shmetro:"Shanghai Metro"},uu={HeaderActions:Kl,DownloadActions:Yl,OpenActions:Jl,DownloadModal:ql,TemplateModal:Xl,GridTabs:Zl,StationAgGrid:Ql,StyleSidePanel:eu,BranchSidePanel:nu,StationSidePanel:tu,ColourModal:au,AddStationModal:ru,NewBranchModal:ou,AutoNumModal:iu,CanvasType:su,RmgStyle:lu},cu={editStyle:""},hu={downloads:"",configFile:"",images:""},gu={invalidType:"JSON",unknownError:""},fu={title:"",canvas:"",transparent:"",showBorder:"",scale:"",format:"",pleaseSelect:"...",png:"PNG",svg:"SVG",downloadOne:"",downloadAll:""},du={title:""},pu={main:"",branch:"",external:"",addStation:"",editLine:""},mu={num:"",interchange:"",coline:""},vu={header:"",layout:{title:"",canvasHeight:"",destinationWidth:"",runinWidth:"",railmapWidth:"",indoorWidth:"",verticalPosition:"",branchSpacing:"",branchSpacingLoop:"",padding:"",directionGzX:"",directionGzY:""},design:{title:"",zhLineName:"",enLineName:"",lineNum:"",direction:"",left:"",right:"",platformNum:"",psdNum:"",panelType:"",gz1:"1",gz28:"2/8",gz2otis:"2/8",gz3:"3",gz1421:"2017",gz6:"2010",gzgf:"2016",gz4:"4",gz5:"5",sh:"",sh2020:"2020",nameDisplay:"",alternatively:"",onOneSide:"",flip:"",legacyDestination:"",overrideTerminal:"",terminalZhName:"",terminalEnName:""},note:{title:"",add:"",zhNote:"",enNote:"",positionX:"",positionY:"",border:"",remove:""},loop:{title:"",isLoop:"",isBank:"",leftRightFactor:"",bottomFactor:""}},yu={header:"",branch:{title:""},coline:{title:"",add:""},action:{title:"",autoNum:"",reverse:"",flip:""}},bu={info:{title:"",num:"",zhSecondary:"",enSecondary:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",add:"",copy:"",remove:""},branch:{type:"",through:"",nonThrough:"",firstStation:"",position:"",upper:"",lower:""},more:{title:"",service:"",local:"",express:"",direct:"",facility:"",pivot:"",oneLine:"",intPadding:"",intPaddingApplyGlobal:"",apply:""},footer:{current:"",remove:""}},Su={title:"",example:"",palette:"",custom:"",city:"",line:"",bg:"",fg:"",white:"",black:"",seeAll:""},wu={title:"",where:"",main:"",branch:"",external:"",preposition:"",before:"",after:"",pivot:"",pleaseSelect:"...",error:""},Ou={title:"",where:"",new:"",ext:"",from:"",to:"",pleaseSelect:"...",position:"",upper:"",lower:""},_u={title:"",where:"",main:"",branch:"",external:"",from:"",maxLength:"",sort:"",asc:"",desc:""},xu="",zu="",Hu="",Eu="",Tu="",Ru="",Nu="",Pu="",ju="",Au="",ku="",Lu="",Mu="",Iu="",Fu={all:"",destination:"",runin:"",railmap:"",indoor:""},Du={mtr:"",gzmtr:"",shmetro:""},Bu={HeaderActions:cu,DownloadActions:hu,OpenActions:gu,DownloadModal:fu,TemplateModal:du,GridTabs:pu,StationAgGrid:mu,StyleSidePanel:vu,BranchSidePanel:yu,StationSidePanel:bu,ColourModal:Su,AddStationModal:wu,NewBranchModal:Ou,AutoNumModal:_u,Airport:xu,"All projects":"","Are you sure to remove station? You cannot undo this action.":"","Blank project":"","Branch left end":"","Branch on the left":"","Branch on the right":"","Branch right end":"","Branch spacing":"",Branches:zu,by:Hu,"Canvas scale":"","Chinese name":"",Close:Eu,Colour:Tu,"Connect to main line":"","day ago":"","days ago":"","Disconnect from main line":"","Disneyland resort":"","Don't show me again":"","Edit project info":"","Empty template":"","English name":"","Help and support":"","High speed rail":"","hour ago":"","hours ago":"",Import:Ru,"Import project":"","Just now":"","Last modified":"",Manage:Nu,"minute ago":"","minutes ago":"","National rail":"","Ngong Ping 360":"360","No branches found":"",None:Pu,"now and enjoy an even better rail map design experience!":"","Open selected":"","Open template":"","Paid area":"",Project:ju,"Project selected is invalid or corrupted.":"","Project name":"",Reload:Au,"Remove project":"","Remove station":"","Saved projects":"","Select canvas":"",Style:ku,"Station Chinese name":"","Station English name":"","Station name":"","Target station":"","Terms and conditions":"","Text on the left":"","Text on the right":"","Try out":"","Unable to connect to main line.":"","Unable to disconnect from main line.":"","Unable to remove this station.":"",Unknown:Lu,View:Mu,Visit:Iu,"Visit GitHub":"GitHub","You have reached the maximum number of projects.":"",CanvasType:Fu,RmgStyle:Du},Cu={editStyle:""},$u={downloads:"",configFile:"",images:""},Uu={invalidType:"JSON",unknownError:""},Gu={title:"",canvas:"",transparent:"",showBorder:"",scale:"",format:"",pleaseSelect:"...",png:"PNG",svg:"SVG",downloadOne:"",downloadAll:""},Vu={title:""},Wu={main:"",branch:"",external:"",addStation:"",editLine:""},Ku={num:"",interchange:"",coline:""},Yu={header:"",layout:{title:"",canvasHeight:"",destinationWidth:"",runinWidth:"",railmapWidth:"",indoorWidth:"",verticalPosition:"",branchSpacing:"",branchSpacingLoop:"",padding:"",directionGzX:"",directionGzY:""},design:{title:"",zhLineName:"",enLineName:"",lineNum:"",direction:"",left:"",right:"",platformNum:"",psdNum:"",panelType:"",gz1:"1",gz28:"2/8",gz2otis:"2/8",gz3:"3",gz1421:"2017",gz6:"2010",gzgf:"2016",gz4:"4",gz5:"5",sh:"",sh2020:"2020",nameDisplay:"",alternatively:"",onOneSide:"",flip:"",legacyDestination:"",overrideTerminal:"",terminalZhName:"",terminalEnName:""},note:{title:"",add:"",zhNote:"",enNote:"",positionX:"",positionY:"",border:"",remove:""},loop:{title:"",isLoop:"",isBank:"",leftRightFactor:"",bottomFactor:""}},Ju={header:"",branch:{title:""},coline:{title:"",add:""},action:{title:"",autoNum:"",reverse:"",flip:""}},qu={info:{title:"",num:"",zhSecondary:"",enSecondary:""},interchange:{title:"",within:"",outStation:"",outSystem:"",addGroup:"",noInterchanges:"",add:"",copy:"",remove:""},branch:{type:"",through:"",nonThrough:"",firstStation:"",position:"",upper:"",lower:""},more:{title:"",service:"",local:"",express:"",direct:"",facility:"",none:"",pivot:"",oneLine:"",intPadding:"",intPaddingApplyGlobal:"",apply:""},footer:{current:"",remove:""}},Xu={title:"",example:"",palette:"",custom:"",city:"",line:"",bg:"",fg:"",white:"",black:"",seeAll:""},Zu={title:"",where:"",main:"",branch:"",external:"",preposition:"",before:"",after:"",pivot:"",pleaseSelect:"...",error:""},Qu={title:"",where:"",new:"",ext:"",from:"",to:"",pleaseSelect:"...",position:"",upper:"",lower:""},ec={title:"",where:"",main:"",branch:"",external:"",from:"",maxLength:"",sort:"",asc:"",desc:""},nc="",tc="",ac="",rc="",oc="",ic="",sc="",lc="",uc="",cc="",hc="",gc="",fc="",dc="",pc={all:"",destination:"",runin:"",railmap:"",indoor:""},mc={mtr:"",gzmtr:"",shmetro:""},vc={HeaderActions:Cu,DownloadActions:$u,OpenActions:Uu,DownloadModal:Gu,TemplateModal:Vu,GridTabs:Wu,StationAgGrid:Ku,StyleSidePanel:Yu,BranchSidePanel:Ju,StationSidePanel:qu,ColourModal:Xu,AddStationModal:Zu,NewBranchModal:Qu,AutoNumModal:ec,Airport:nc,"All projects":"","Are you sure to remove station? You cannot undo this action.":"","Blank project":"","Branch left end":"","Branch on the left":"","Branch on the right":"","Branch right end":"","Branch spacing":"",Branches:tc,by:ac,"Canvas scale":"","Chinese name":"",Close:rc,Colour:oc,"Connect to main line":"","day ago":"","days ago":"","Disconnect from main line":"","Disneyland resort":"","Don't show me again":"","Edit project info":"","Empty template":"","English name":"","Help and support":"","High speed rail":"","hour ago":"","hours ago":"",Import:ic,"Import project":"","Just now":"","Last modified":"",Manage:sc,"minute ago":"","minutes ago":"","National rail":"","Ngong Ping 360":"360","No branches found":"",None:lc,"now and enjoy an even better rail map design experience!":"","Open selected":"","Open template":"","Paid area":"",Project:uc,"Project selected is invalid or corrupted.":"","Project name":"",Reload:cc,"Remove project":"","Remove station":"","Saved projects":"","Select canvas":"",Style:hc,"Station Chinese name":"","Station English name":"","Station name":"","Target station":"","Terms and conditions":"","Text on the left":"","Text on the right":"","Try out":"","Unable to connect to main line.":"","Unable to disconnect from main line.":"","Unable to remove this station.":"",Unknown:gc,View:fc,Visit:dc,"Visit GitHub":"GitHub","You have reached the maximum number of projects.":"",CanvasType:pc,RmgStyle:mc},yc={editStyle:" "},bc={downloads:"",configFile:" ",images:""},Sc={invalidType:"  ! JSON   .",unknownError:"     !   ."},wc={title:" ",canvas:"",transparent:" ",showBorder:" ",scale:"/  ",format:" ",pleaseSelect:"",png:"PNG ",svg:"SVG ",downloadOne:"  ",downloadAll:"  "},Oc={title:" "},_c={main:"",branch:"",external:" ",addStation:" ",editLine:"  "},xc={num:" ",interchange:"",coline:""},zc={header:" ",layout:{title:"",canvasHeight:" ",destinationWidth:"  ",runinWidth:"  ",railmapWidth:"  ",indoorWidth:"  ",verticalPosition:"  ",branchSpacing:" ",branchSpacingLoop:" ",padding:" ",directionGzX:"   ",directionGzY:"   "},design:{title:"",zhLineName:"  ",enLineName:"  ",lineNum:" ",direction:" ",left:"",right:"",platformNum:" ",psdNum:"  ",panelType:"   ",gz1:"1",gz28:"2/8",gz2otis:"2/8",gz3:"3",gz1421:"2017 ",gz6:"2010 ",gzgf:"2016 ",gz4:"4",gz5:"5",sh:"",sh2020:"2020 ",nameDisplay:"  ",alternatively:" ",onOneSide:" ",flip:" ",legacyDestination:"   ",overrideTerminal:"  ",terminalZhName:"  ",terminalEnName:"  "},note:{title:"",add:" ",zhNote:" ",enNote:" ",positionX:"  ",positionY:"  ",border:" ",remove:" "},loop:{title:"",isLoop:" ",isBank:"    ",leftRightFactor:" ",bottomFactor:" "}},Hc={header:"  ",branch:{title:""},coline:{title:"",add:" "},action:{title:"",autoNum:"   ",reverse:"  ",flip:"  "}},Ec={info:{title:" ",num:" ",zhSecondary:" 2",enSecondary:" 2"},interchange:{title:"",within:"  ",outStation:"  ",outSystem:"",addGroup:"  ",noInterchanges:"",add:" ",copy:" ",remove:" "},branch:{type:"",through:"( )",nonThrough:"( )",firstStation:"  ",position:"",upper:"",lower:""},more:{title:" ",service:" ",local:"",express:"",direct:"",facility:" ",pivot:"  ",oneLine:"      ",intPadding:"    ",intPaddingApplyGlobal:"    ",apply:""},footer:{current:"  ",remove:""}},Tc={title:" ",example:"",palette:" ",custom:" ",city:" ",line:" ",bg:"",fg:"",white:"",black:"",seeAll:""},Rc={title:" ",where:" ",main:"",branch:"",external:" ",preposition:" ",before:"",after:"",pivot:"",pleaseSelect:"",error:"  ,     ."},Nc={title:"    ",where:" ",new:" ",ext:"  ",from:"",to:"",pleaseSelect:"",position:"",upper:"",lower:""},Pc={title:"   ",where:" ",main:"",branch:"",external:" ",from:" ",maxLength:" ",sort:" ",asc:"",desc:""},jc="",Ac="",kc=" ",Lc="",Mc="",Ic="",Fc="",Dc="",Bc=" ",Cc="",$c={all:"",destination:" ",runin:"  ",railmap:"  ",indoor:" "},Uc={mtr:" ",gzmtr:" ",shmetro:" "},Gc={HeaderActions:yc,DownloadActions:bc,OpenActions:Sc,DownloadModal:wc,TemplateModal:Oc,GridTabs:_c,StationAgGrid:xc,StyleSidePanel:zc,BranchSidePanel:Hc,StationSidePanel:Ec,ColourModal:Tc,AddStationModal:Rc,NewBranchModal:Nc,AutoNumModal:Pc,Airport:jc,"All projects":" ","Are you sure to remove station? You cannot undo this action.":"  ?     .","Blank project":" ","Branch left end":" ","Branch on the left":" ","Branch on the right":" ","Branch right end":" ","Branch spacing":" ",Branches:Ac,by:kc,"Canvas scale":"   ","Chinese name":" ",Colour:Lc,"Connect to main line":"  ","day ago":" ","days ago":" ","Disconnect from main line":" ","Disneyland resort":"","Edit project info":"  ","Empty template":" ","English name":" ","Help and support":" ","High speed rail":" ","hour ago":" ","hours ago":" ","Import project":" ","Just now":"","Last modified":" ","minute ago":" ","minutes ago":" ","National rail":" ","No branches found":"  .",None:Mc,"Open selected":"  ","Open template":" ","Paid area":"",Project:Ic,"Project selected is invalid or corrupted.":"   .","Project name":" ","Remove project":" ","Remove station":" ","Saved projects":" ","Select canvas":" ",Style:Fc,"Station Chinese name":"  ","Station English name":"  ","Station name":" ","Target station":" ","Terms and conditions":"  ","Text on the left":"   ","Text on the right":"   ","Unable to connect to main line.":"    .","Unable to disconnect from main line.":"   .","Unable to remove this station.":"    .",Unknown:Dc,View:Bc,Visit:Cc,"Visit GitHub":"GitHub ","You have reached the maximum number of projects.":"   .",CanvasType:$c,RmgStyle:Uc},Ja=new R.I18nBuilder().use(ys).withAppName("Rail Map Generator").withLng(R.getLanguage()).withDefaultResource(Wl).withResource("en",uu).withResource("zh-Hans",Bu).withResource("zh-Hant",vc).withResource("ko",Gc).build(),Df=e=>{var n,t;return(t=(n=Ja.languages.map(a=>e[a]).find(a=>a!==void 0))!=null?n:e.en)!=null?t:"(Translation Error)"},Vc="modulepreload",Wc=function(e){return"/rmg/"+e},Kt={},qa=function(n,t,a){if(!t||t.length===0)return n();const r=document.getElementsByTagName("link");return Promise.all(t.map(o=>{if(o=Wc(o),o in Kt)return;Kt[o]=!0;const i=o.endsWith(".css"),s=i?'[rel="stylesheet"]':"";if(!!a)for(let h=r.length-1;h>=0;h--){const g=r[h];if(g.href===o&&(!i||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${s}`))return;const f=document.createElement("link");if(f.rel=i?"stylesheet":Vc,i||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),i)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>n())};var Xa=function(){if(typeof Map<"u")return Map;function e(n,t){var a=-1;return n.some(function(r,o){return r[0]===t?(a=o,!0):!1}),a}return function(){function n(){this.__entries__=[]}return Object.defineProperty(n.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),n.prototype.get=function(t){var a=e(this.__entries__,t),r=this.__entries__[a];return r&&r[1]},n.prototype.set=function(t,a){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=a:this.__entries__.push([t,a])},n.prototype.delete=function(t){var a=this.__entries__,r=e(a,t);~r&&a.splice(r,1)},n.prototype.has=function(t){return!!~e(this.__entries__,t)},n.prototype.clear=function(){this.__entries__.splice(0)},n.prototype.forEach=function(t,a){a===void 0&&(a=null);for(var r=0,o=this.__entries__;r<o.length;r++){var i=o[r];t.call(a,i[1],i[0])}},n}()}(),Cn=typeof window<"u"&&typeof document<"u"&&window.document===document,qe=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Kc=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(qe):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),Yc=2;function Jc(e,n){var t=!1,a=!1,r=0;function o(){t&&(t=!1,e()),a&&s()}function i(){Kc(o)}function s(){var l=Date.now();if(t){if(l-r<Yc)return;a=!0}else t=!0,a=!1,setTimeout(i,n);r=l}return s}var qc=20,Xc=["top","right","bottom","left","width","height","size","weight"],Zc=typeof MutationObserver<"u",Qc=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Jc(this.refresh.bind(this),qc)}return e.prototype.addObserver=function(n){~this.observers_.indexOf(n)||this.observers_.push(n),this.connected_||this.connect_()},e.prototype.removeObserver=function(n){var t=this.observers_,a=t.indexOf(n);~a&&t.splice(a,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var n=this.updateObservers_();n&&this.refresh()},e.prototype.updateObservers_=function(){var n=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return n.forEach(function(t){return t.broadcastActive()}),n.length>0},e.prototype.connect_=function(){!Cn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Zc?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!Cn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(n){var t=n.propertyName,a=t===void 0?"":t,r=Xc.some(function(o){return!!~a.indexOf(o)});r&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Za=function(e,n){for(var t=0,a=Object.keys(n);t<a.length;t++){var r=a[t];Object.defineProperty(e,r,{value:n[r],enumerable:!1,writable:!1,configurable:!0})}return e},xe=function(e){var n=e&&e.ownerDocument&&e.ownerDocument.defaultView;return n||qe},Qa=un(0,0,0,0);function Xe(e){return parseFloat(e)||0}function Yt(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return n.reduce(function(a,r){var o=e["border-"+r+"-width"];return a+Xe(o)},0)}function eh(e){for(var n=["top","right","bottom","left"],t={},a=0,r=n;a<r.length;a++){var o=r[a],i=e["padding-"+o];t[o]=Xe(i)}return t}function nh(e){var n=e.getBBox();return un(0,0,n.width,n.height)}function th(e){var n=e.clientWidth,t=e.clientHeight;if(!n&&!t)return Qa;var a=xe(e).getComputedStyle(e),r=eh(a),o=r.left+r.right,i=r.top+r.bottom,s=Xe(a.width),l=Xe(a.height);if(a.boxSizing==="border-box"&&(Math.round(s+o)!==n&&(s-=Yt(a,"left","right")+o),Math.round(l+i)!==t&&(l-=Yt(a,"top","bottom")+i)),!rh(e)){var f=Math.round(s+o)-n,h=Math.round(l+i)-t;Math.abs(f)!==1&&(s-=f),Math.abs(h)!==1&&(l-=h)}return un(r.left,r.top,s,l)}var ah=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof xe(e).SVGGraphicsElement}:function(e){return e instanceof xe(e).SVGElement&&typeof e.getBBox=="function"}}();function rh(e){return e===xe(e).document.documentElement}function oh(e){return Cn?ah(e)?nh(e):th(e):Qa}function ih(e){var n=e.x,t=e.y,a=e.width,r=e.height,o=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(o.prototype);return Za(i,{x:n,y:t,width:a,height:r,top:t,right:n+a,bottom:r+t,left:n}),i}function un(e,n,t,a){return{x:e,y:n,width:t,height:a}}var sh=function(){function e(n){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=un(0,0,0,0),this.target=n}return e.prototype.isActive=function(){var n=oh(this.target);return this.contentRect_=n,n.width!==this.broadcastWidth||n.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var n=this.contentRect_;return this.broadcastWidth=n.width,this.broadcastHeight=n.height,n},e}(),lh=function(){function e(n,t){var a=ih(t);Za(this,{target:n,contentRect:a})}return e}(),uh=function(){function e(n,t,a){if(this.activeObservations_=[],this.observations_=new Xa,typeof n!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=n,this.controller_=t,this.callbackCtx_=a}return e.prototype.observe=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof xe(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)||(t.set(n,new sh(n)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(n){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(n instanceof xe(n).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(n)&&(t.delete(n),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var n=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&n.activeObservations_.push(t)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var n=this.callbackCtx_,t=this.activeObservations_.map(function(a){return new lh(a.target,a.broadcastRect())});this.callback_.call(n,t,n),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),er=typeof WeakMap<"u"?new WeakMap:new Xa,nr=function(){function e(n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Qc.getInstance(),a=new uh(n,t,this);er.set(this,a)}return e}();["observe","unobserve","disconnect"].forEach(function(e){nr.prototype[e]=function(){var n;return(n=er.get(this))[e].apply(n,arguments)}});var ch=function(){return typeof qe.ResizeObserver<"u"?qe.ResizeObserver:nr}();window.ResizeObserver||(window.ResizeObserver=ch);var $n=globalThis&&globalThis.__assign||function(){return $n=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$n.apply(this,arguments)},Bf=function(e){var n=e.children,t=fa().colorMode,a=C("RmgAgGrid");return c.jsx(Yn,$n({className:t==="light"?"ag-theme-alpine":"ag-theme-alpine-dark",sx:a},{children:n}))},Jt=globalThis&&globalThis.__assign||function(){return Jt=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)};globalThis&&globalThis.__rest;var Ze=globalThis&&globalThis.__assign||function(){return Ze=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)},hh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},gh=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},fh=function(e,n){var t=e.validator,a=e.onDebouncedChange,r=e.delay,o=e.optionList,i=e.defaultValue;e.onChange;var s=hh(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=O.useRef(null),f=da(l,n),h=O.useRef("datalist-"+new Date().valueOf()),g=gh(O.useState(!1),2),p=g[0],m=g[1],y=O.useRef();O.useEffect(function(){l.current&&(l.current.value=(i==null?void 0:i.toString())||"")},[i]);var w=function(v){var b=v.target.value;window.clearTimeout(y.current),t&&m(!t(b)),y.current=window.setTimeout(function(){a==null||a(b),y.current=void 0},r!=null?r:500)},S=function(v){var b=v.target.value;y.current!==void 0&&(window.clearTimeout(y.current),t&&m(!t(b)),a==null||a(b),y.current=void 0)};return c.jsxs(c.Fragment,{children:[c.jsx(no,Ze({ref:f,list:h.current,variant:"flushed",size:"sm",h:6,onChange:w,onBlur:S,isInvalid:p},s)),o&&c.jsx("datalist",Ze({id:h.current},{children:o==null?void 0:o.map(function(v,b){return c.jsx("option",{children:v},b)})}))]})},tr=O.forwardRef(fh),re=globalThis&&globalThis.__assign||function(){return re=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},re.apply(this,arguments)},qt=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o};function Cf(e){var n=e.data,t=e.displayValue,a=e.displayHandler,r=e.predicate,o=e.defaultValue,i=e.onChange,s=e.isInvalid,l=O.useRef(null),f=qt(O.useState(o?t(o):""),2),h=f[0],g=f[1],p=qt(O.useState(!1),2),m=p[0],y=p[1];pa({ref:l,handler:function(){return y(!1)}}),O.useEffect(function(){g(o?t(o):"")},[JSON.stringify(n),JSON.stringify(o)]);var w=function(S){g(t(S)),y(!1),i==null||i(S)};return c.jsx(Yn,re({ref:l},{children:c.jsxs(Jn,re({placement:"bottom-start",isOpen:m,autoFocus:!1},{children:[c.jsx(ma,{children:c.jsx(tr,{defaultValue:h,onDebouncedChange:function(S){return g(S)},onFocus:function(){return y(!0)},isInvalid:s})}),c.jsx(qn,re({w:"unset",minW:200},{children:c.jsx(Xn,re({p:0},{children:c.jsx(va,re({role:"menu",maxH:270,overflowY:"auto"},{children:n.filter(function(S){return r(S,h)}).map(function(S){return c.jsx(se,re({role:"none"},{children:c.jsx(_e,re({role:"menuitem",size:"sm",variant:"ghost",justifyContent:"flex-start",flexShrink:0,borderRadius:0,w:"100%",onClick:function(){return w(S)}},{children:a?a(S):t(S)}))}),S.id)})}))}))}))]}))}))}var Qe=globalThis&&globalThis.__assign||function(){return Qe=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)},Xt=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},Zt=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,r=n.length,o;a<r;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))};function $f(e){var n=e.selections,t=e.defaultValue,a=e.onChange,r=e.multiSelect,o=Xt(O.useState(t),2),i=o[0],s=o[1];O.useEffect(function(){t.toString()&&s(t)},[t.toString()]);var l=function(f){if(r){var h=i,g=h.includes(f)?h.filter(function(p){return p!==f}):Zt(Zt([],Xt(h),!1),[f],!1);s(g),a==null||a(g)}else s(f),a==null||a(f)};return c.jsx(to,Qe({size:"xs",isAttached:!0,colorScheme:"primary",variant:"outline"},{children:n.map(function(f,h){var g=typeof i=="object"&&i.includes(f.value)||i===f.value,p=h!==n.length-1&&!g?"-px":void 0;return c.jsx(_e,Qe({role:"checkbox","aria-checked":g,variant:g?"solid":"outline",mr:p,isDisabled:f.disabled,onClick:function(){return l(f.value)}},{children:f.label}),f.value.toString())})}))}var Ae=globalThis&&globalThis.__assign||function(){return Ae=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ae.apply(this,arguments)},dh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},Uf=function(e){var n=e.children,t=e.sx,a=dh(e,["children","sx"]),r=C("RmgCard");return c.jsx(ee,Ae({sx:Ae(Ae({},r),t)},a,{children:n}))},Qt=globalThis&&globalThis.__assign||function(){return Qt=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)},Un=globalThis&&globalThis.__assign||function(){return Un=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Un.apply(this,arguments)},ph=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},mh=function(e,n){var t=e.onDebouncedChange,a=e.defaultValue;e.onChange;var r=ph(e,["onDebouncedChange","defaultValue","onChange"]),o=O.useRef(null),i=da(o,n),s=O.useRef();O.useEffect(function(){o.current&&(o.current.value=(a==null?void 0:a.toString())||"")},[a]);var l=function(f){var h=f.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){t==null||t(h)},500)};return c.jsx(ao,Un({ref:i,variant:"flushed",size:"sm",resize:"none",onChange:l},r))},vh=O.forwardRef(mh),ke=globalThis&&globalThis.__assign||function(){return ke=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)},yh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},Gf=function(e){var n=e.primaryText,t=e.secondaryText,a=e.sx,r=yh(e,["primaryText","secondaryText","sx"]),o=C("RmgEnrichedButton");return c.jsxs(_e,ke({sx:ke(ke({},o),a)},r,{children:[c.jsx("span",{children:n}),c.jsx("span",{children:t})]}))},en=globalThis&&globalThis.__assign||function(){return en=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)},bh=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},Sh=function(e){switch(e){case ce.DEV:return"red";case ce.UAT:return"orange";case ce.PRD:return"green"}};function wh(e){var n=e.environment,t=e.version,a=e.popoverHeader,r=e.popoverBody,o=bh(O.useState(!1),2),i=o[0],s=o[1];return c.jsxs(Jn,en({isOpen:i,onOpen:function(){return a&&s(!0)},onClose:function(){return s(!1)}},{children:[c.jsx(ro,{children:c.jsx(Zn,en({ml:1,colorScheme:Sh(n),title:"".concat(n,": ").concat(t),cursor:a?"pointer":"help"},{children:n===ce.PRD?t:n}))}),c.jsxs(qn,{children:[c.jsx(oo,{}),c.jsx(io,{}),c.jsx(so,{children:a}),c.jsx(Xn,{children:r})]})]}))}var Oh=function(e,n,t){var a=new Blob([t],{type:n});_h(e,a)},_h=function(e,n){var t=window.URL.createObjectURL(n),a=document.createElement("a");a.href=t,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(t)},we=globalThis&&globalThis.__assign||function(){return we=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)},xh=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o};function zh(e){var n=e.cancelRef,t=e.isOpen,a=e.onClose,r=xh(O.useState(!1),2),o=r[0],i=r[1],s=function(){i(!0);var l=R.getStorageForCurrentApp(),f=R.getAppName(),h="".concat(f,"_BACKUP_").concat(new Date().toISOString(),".json");Oh(h,"application/json",JSON.stringify(l)),R.clearStorageForCurrentApp(),setTimeout(function(){window.location.reload()},2e3)};return c.jsxs(lo,we({leastDestructiveRef:n,isOpen:t,onClose:a},{children:[c.jsx(ya,{}),c.jsxs(uo,{children:[c.jsx(ba,{children:"Warning "}),c.jsx(Sa,{}),c.jsxs(wa,we({sx:{"& p":{my:1}}},{children:[c.jsx(de,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),c.jsx(de,{children:""}),c.jsx(de,{children:""})]})),c.jsxs(Oa,{children:[c.jsx(_e,we({ref:n,onClick:a},{children:"Cancel"})),c.jsx(_e,we({isLoading:o,colorScheme:"red",ml:3,onClick:s},{children:"Confirm and reload"}))]})]})]}))}var le=globalThis&&globalThis.__assign||function(){return le=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},le.apply(this,arguments)},Hh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},Eh=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o};function Th(e){var n=e.error,t=e.errorInfo,a=e.allowReset,r=e.sx,o=Hh(e,["error","errorInfo","allowReset","sx"]),i=C("RmgErrorBoundary"),s=Qn("primary.500","primary.300"),l=Eh(O.useState(!1),2),f=l[0],h=l[1],g=O.useRef(null),p=function(w){return c.jsx(P,le({color:s,role:"button",onClick:function(){return h(!0)}},{children:w}))},m=R.getAppName(),y=c.jsx(P,le({color:s,href:"https://github.com/railmapgen/".concat(m,"/issues"),isExternal:!0},{children:"GitHub Issue"}));return c.jsxs(_a,le({status:"error",sx:le(le({},i),r)},o,{children:[c.jsx(xa,{}),c.jsx(co,{children:"Something went wrong!"}),c.jsxs(ho,{children:[c.jsxs(de,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",a?c.jsxs(c.Fragment,{children:[" or ",p("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",y," with the details shown below."]}),c.jsxs(de,{children:["",a?c.jsxs(c.Fragment,{children:["",p("")]}):""," ",y,"  Issue "]}),c.jsxs(de,{children:["",a?c.jsxs(c.Fragment,{children:["",p("")]}):""," ",y,"  Issue "]}),c.jsxs(de,le({as:"details"},{children:[n==null?void 0:n.toString(),c.jsx("br",{}),t==null?void 0:t.componentStack]})),a&&c.jsx(zh,{cancelRef:g,isOpen:f,onClose:function(){return h(!1)}})]})]}))}var Rh=globalThis&&globalThis.__extends||function(){var e=function(n,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a[o]=r[o])},e(n,t)};return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(n,t);function a(){this.constructor=n}n.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}}(),nn=globalThis&&globalThis.__assign||function(){return nn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nn.apply(this,arguments)},Nh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},ea=function(e){Rh(n,e);function n(t){var a=e.call(this,t)||this;return a.state={hasError:!1,error:null,errorInfo:null},a}return n.getDerivedStateFromError=function(){return{hasError:!0}},n.prototype.componentDidCatch=function(t,a){this.setState({error:t,errorInfo:a})},n.prototype.render=function(){var t=this.props,a=t.children,r=t.suspenseFallback,o=t.allowReset,i=Nh(t,["children","suspenseFallback","allowReset"]);return this.state.hasError?c.jsx(Th,nn({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},i)):r?c.jsx(O.Suspense,nn({fallback:r},{children:a})):a},n}(Ea.Component),tn=globalThis&&globalThis.__assign||function(){return tn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tn.apply(this,arguments)},Ph=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},jh=function(e){var n=e.label,t=e.children;e.width;var a=e.noLabel,r=e.oneLine,o=e.className,i=Ph(e,["label","children","width","noLabel","oneLine","className"]),s=C("RmgLabel");return c.jsxs(go,tn({className:"".concat(r?"rmg-label__one-line":""," ").concat(o!=null?o:""),"aria-label":n,sx:s},i,{children:[!a&&c.jsx(fo,tn({size:"xs"},{children:n})),t]}))},an=globalThis&&globalThis.__assign||function(){return an=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},an.apply(this,arguments)},Ah=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},kh=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o};function Lh(e){var n=e.defaultValue,t=e.options,a=e.disabledOptions,r=Ah(e,["defaultValue","options","disabledOptions"]),o=O.useRef(null);return O.useEffect(function(){o.current&&(o.current.value=(n==null?void 0:n.toString())||"")},[n]),c.jsx(po,an({ref:o,variant:"flushed",size:"sm",h:6},r,{children:Object.entries(t).map(function(i){var s=kh(i,2),l=s[0],f=s[1];return c.jsx("option",an({value:l,disabled:(a==null?void 0:a.find(function(h){return h.toString()===l}))!==void 0},{children:f}),l)})}))}globalThis&&globalThis.__read;globalThis&&globalThis.__read;var Pn=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},na=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,r=n.length,o;a<r;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},Mh=function(e,n){n===void 0&&(n=500);var t=Pn(O.useState(!0),2),a=t[0],r=t[1],o=O.useRef([]),i=O.useRef(),s=O.useCallback(function(){for(var l=[],f=0;f<arguments.length;f++)l[f]=arguments[f];if(!a){o.current=l;return}r(!1),o.current=[],e.apply(void 0,na([],Pn(l),!1))},[a,e]);return O.useEffect(function(){if(!a)return i.current=window.setTimeout(function(){r(!0),o.current.length&&e.apply(void 0,na([],Pn(o.current),!1))},n),function(){window.clearTimeout(i.current)}},[a,n]),s},rn=globalThis&&globalThis.__assign||function(){return rn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rn.apply(this,arguments)},Ih=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o};function Fh(e){var n=e.defaultValue,t=e.min,a=e.max,r=e.step,o=e.onThrottledChange,i=e.leftIcon,s=e.rightIcon,l=C("RmgThrottledSlider"),f=Ih(O.useState(n!=null?n:0),2),h=f[0],g=f[1],p=Mh(o!=null?o:function(){},500),m=function(){var w=Math.min(h+(r!=null?r:1)*10,a!=null?a:100);o==null||o(w),g(w)},y=function(){var w=Math.max(h-(r!=null?r:1)*10,t!=null?t:0);o==null||o(w),g(w)};return c.jsxs(ee,rn({sx:l},{children:[i&&c.jsx(Ge,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:i,onClick:y}),c.jsxs(mo,rn({value:h,min:t,max:a,step:r,onChange:function(w){p(w),g(w)}},{children:[c.jsx(vo,{children:c.jsx(yo,{})}),c.jsx(bo,{})]})),s&&c.jsx(Ge,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:m})]}))}var on=globalThis&&globalThis.__assign||function(){return on=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},on.apply(this,arguments)};function Vf(e){var n=e.fields,t=e.noLabel,a=e.minW;return c.jsx(ee,on({wrap:"wrap"},{children:n.map(function(r,o){if(r.hidden)return c.jsx(O.Fragment,{},o);var i=r.minW||a,s=i==="full";return c.jsx(jh,on({className:s?"mw-full":"",label:r.label,flex:s?void 0:1,minW:s?void 0:i,noLabel:t,oneLine:r.oneLine},{children:function(l){switch(l.type){case"input":return c.jsx(tr,{placeholder:l.placeholder,defaultValue:l.value,type:l.variant,validator:l.validator,onDebouncedChange:l.onChange,delay:l.debouncedDelay,optionList:l.optionList});case"textarea":return c.jsx(vh,{placeholder:l.placeholder,defaultValue:l.value,onDebouncedChange:l.onChange});case"slider":return c.jsx(Fh,{defaultValue:l.value,min:l.min,max:l.max,step:l.step,onThrottledChange:l.onChange,leftIcon:l.leftIcon,rightIcon:l.rightIcon});case"select":return c.jsx(Lh,{defaultValue:l.value,onChange:function(f){var h,g=f.target.value;return(h=l.onChange)===null||h===void 0?void 0:h.call(l,typeof l.value=="number"?Number(g):g.toString())},options:l.options,disabledOptions:l.disabledOptions,isInvalid:l.isInvalid});case"switch":return c.jsx(So,{isChecked:l.isChecked,isDisabled:l.isDisabled,onChange:function(f){var h,g=f.target.checked;return(h=l.onChange)===null||h===void 0?void 0:h.call(l,g)}});case"custom":return l.component;default:return c.jsx("div",{})}}(r)}),o)})}))}var D=globalThis&&globalThis.__assign||function(){return D=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},D.apply(this,arguments)},cn=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},Dh=function(e){var n=e.sx,t=e.className,a=cn(e,["sx","className"]),r=C("RmgWindow");return c.jsx(ee,D({className:"rmg-window ".concat(t!=null?t:""),sx:D(D({},r),n)},a))},Bh=function(e){var n=e.sx,t=e.className,a=cn(e,["sx","className"]),r=C("RmgWindowHeader");return c.jsx(ee,D({className:"rmg-window__header ".concat(t!=null?t:""),sx:D(D({},r),n)},a))},Wf=function(e){var n=e.sx,t=e.className,a=cn(e,["sx","className"]),r=C("RmgPage");return c.jsx(ee,D({className:"rmg-page ".concat(t!=null?t:""),sx:D(D({},r),n)},a))},Kf=function(e){var n=e.sx,t=e.className,a=cn(e,["sx","className"]),r=C("RmgPageHeader");return c.jsx(ee,D({className:"rmg-page__header ".concat(t!=null?t:""),sx:D(D({},r),n)},a))},Gn=globalThis&&globalThis.__assign||function(){return Gn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)},Ch=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},Yf=function(e){var n=e.name,t=e.fg,a=e.bg,r=e.showShortName,o=e.actions,i=Ch(e,["name","fg","bg","showShortName","actions"]),s=C("RmgLineBadge"),l=function(f){var h,g;return typeof f=="object"?((h=f[0].match(/^[\d\w]+/))===null||h===void 0?void 0:h[0])||f[0]:((g=f.match(/^[\d\w]+/))===null||g===void 0?void 0:g[0])||f};return c.jsxs(Zn,Gn({color:t,bg:a,sx:s},i,{children:[r?l(n):typeof n=="object"?n[0]:n,o]}))},Oe=globalThis&&globalThis.__assign||function(){return Oe=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oe.apply(this,arguments)},$h=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},ta=function(e){var n=e.isIndeterminate,t=e.value,a=e.sx,r=$h(e,["isIndeterminate","value","sx"]),o=Qn("primary.500","primary.300"),i=C("RmgLoader");return c.jsxs(ee,Oe({sx:Oe(Oe({},i),a)},{children:[c.jsx("div",{className:"rmg-loader__backdrop"}),c.jsx(wo,Oe({isIndeterminate:n,value:t,color:o},r))]}))},Y=globalThis&&globalThis.__assign||function(){return Y=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)},jn=globalThis&&globalThis.__read||function(e,n){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var a=t.call(e),r,o=[],i;try{for(;(n===void 0||n-- >0)&&!(r=a.next()).done;)o.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(t=a.return)&&t.call(a)}finally{if(i)throw i.error}}return o},aa=globalThis&&globalThis.__spreadArray||function(e,n,t){if(t||arguments.length===2)for(var a=0,r=n.length,o;a<r;a++)(o||!(a in n))&&(o||(o=Array.prototype.slice.call(n,0,a)),o[a]=n[a]);return e.concat(o||Array.prototype.slice.call(n))},Jf=function(e){var n,t=e.displayValue,a=e.selections,r=e.defaultValue,o=e.onChange,i=C("RmgMultiSelect"),s=jn(O.useState(r),2),l=s[0],f=s[1],h=jn(O.useState(!1),2),g=h[0],p=h[1],m=O.useRef(null),y=O.useRef(null);pa({ref:m,handler:function(){return p(!1)}}),O.useEffect(function(){r.toString()&&f(r)},[r.toString()]);var w=l.filter(function(v){return a.some(function(b){return b.value===v})}).length,S=function(v,b){if(b){if(!l.includes(v.value)){var _=aa(aa([],jn(l),!1),[v.value],!1);f(_),o==null||o(_)}}else{var _=l.filter(function(E){return E!==v.value});f(_),o==null||o(_)}};return c.jsx(Yn,Y({ref:m,sx:i},{children:c.jsxs(Jn,Y({placement:"bottom-start",isOpen:g,autoFocus:!1},{children:[c.jsx(ma,{children:c.jsxs("div",Y({className:"rmg-multi-select__wrapper",role:"combobox","aria-expanded":g,"aria-controls":(n=y.current)===null||n===void 0?void 0:n.id,"aria-label":t,onClick:function(){return p(function(v){return!v})}},{children:[c.jsxs("div",Y({className:"rmg-multi-select__field ".concat(g?"active":"")},{children:[c.jsx("span",{children:t}),c.jsxs(Zn,Y({colorScheme:w?"blue":void 0,role:"status"},{children:[w,"/",a.length]}))]})),c.jsx("div",Y({className:"rmg-multi-select__icon-wrapper"},{children:c.jsx("svg",Y({viewBox:"0 0 24 24"},{children:c.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}))}))]}))}),c.jsx(qn,Y({ref:y},{children:c.jsx(Xn,{children:c.jsx(va,{children:a.map(function(v){return c.jsx(se,{children:c.jsx(Oo,Y({isChecked:l.includes(v.value),isDisabled:v.disabled,onChange:function(b){var _=b.target.checked;return S(v,_)}},{children:v.label}))},v.value.toString())})})})}))]}))}))},oe=globalThis&&globalThis.__assign||function(){return oe=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},oe.apply(this,arguments)},Uh=globalThis&&globalThis.__rest||function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]]);return t},qf=function(e){var n=e.isOpen,t=e.alwaysOverlay,a=e.width,r=e.sx,o=e.children,i=Uh(e,["isOpen","alwaysOverlay","width","sx","children"]),s=C("RmgSidePanel",{width:a!=null?a:320,alwaysOverlay:t});return c.jsx(ee,oe({as:"section",className:n?"show-side-panel":"",sx:oe(oe({},s),r),"data-testid":"side-panel-root"},i,{children:c.jsx(ee,oe({className:"rmg-side-panel__inner"},{children:o}))}))},Xf=function(e){var n=e.onClose,t=e.children;return c.jsxs(_a,oe({className:"rmg-side-panel__header",status:"info",variant:"solid",size:"xs"},{children:[c.jsx(xa,{}),t,c.jsx(_o,{onClick:n})]}))},Zf=function(e){var n=e.children;return c.jsx("div",oe({className:"rmg-side-panel__body"},{children:n}))},Qf=function(e){var n=e.children;return c.jsx("div",oe({className:"rmg-side-panel__footer"},{children:n}))},ra=function(e){return e==="dark"?"primary.300":"primary.500"},An={variants:{flushed:function(e){var n=e.theme,t=e.colorMode;return{field:{_focusVisible:{borderColor:ra(t),boxShadow:"0px 1px 0px 0px ".concat(Pe(n,ra(t)))}}}}}},Gh={defaultProps:{colorScheme:"primary"}},oa={defaultProps:{colorScheme:"primary"}},Vh={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},Wh={baseStyle:function(e){var n=e.colorMode;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:1400,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:1400},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:n==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},Kh={baseStyle:function(e){var n=e.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:n==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},Yh={baseStyle:function(e){var n=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:n==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:n==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Jh={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},qh={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Xh={baseStyle:{m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{display:"flex",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Zh={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Qh={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},ie=function(e){return e==="dark"?"primary.300":"primary.500"},eg={baseStyle:function(e){var n=e.theme,t=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:ie(t),boxShadow:"0px 1px 0px 0px ".concat(Pe(n,ie(t)))},_focus:{borderColor:ie(t),boxShadow:"0px 1px 0px 0px ".concat(Pe(n,ie(t)))},_focusVisible:{borderColor:ie(t),boxShadow:"0px 1px 0px 0px ".concat(Pe(n,ie(t)))},"&.active":{borderColor:ie(t),boxShadow:"0px 1px 0px 0px ".concat(Pe(n,ie(t)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:t==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:t==="dark"?"whiteAlpha.300":"gray.200"}}}}}},ng={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden"}},tg={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},ag={baseStyle:function(e){var n=e.colorMode,t=e.width,a=e.alwaysOverlay;return{height:"100%",position:a?"absolute":{base:"absolute",lg:"relative"},right:a?0:{base:0,lg:"unset"},background:n==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:t},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:t}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},rg={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},og={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden"}},ig={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},sg={Input:An,Checkbox:oa,Select:An,Slider:Gh,Switch:oa,Textarea:An,RmgAgGrid:Vh,RmgAppClip:Wh,RmgCard:Kh,RmgDataTable:Yh,RmgEnrichedButton:Jh,RmgErrorBoundary:qh,RmgLabel:Xh,RmgLineBadge:Zh,RmgLoader:Qh,RmgMultiSelect:eg,RmgPage:ng,RmgPageHeader:tg,RmgSidePanel:ag,RmgThrottledSlider:rg,RmgWindow:og,RmgWindowHeader:ig},Vn=globalThis&&globalThis.__assign||function(){return Vn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vn.apply(this,arguments)},ia="chakra-ui-color-mode",lg=function(){var e=R.getColourMode()==="system";return R.isStandaloneWindow()&&(e?window.localStorage.removeItem(ia):window.localStorage.setItem(ia,R.getColourMode())),{initialColorMode:"system",useSystemColorMode:e}},ug={primary:Vn({},xo.colors.teal)},cg={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},hg=function(){return zo({config:lg(),colors:ug,styles:cg,components:sg})},Wn=globalThis&&globalThis.__assign||function(){return Wn=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++){n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wn.apply(this,arguments)},gg=function(e){var n=e.children;return c.jsx(Ho,Wn({theme:hg()},{children:c.jsx(fg,{children:n})}))},fg=function(e){var n=e.children,t=fa().setColorMode,a=Eo();return O.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",a.config),R.onColourModeChange(function(r){if(r==="system"){var o=window.matchMedia("(prefers-color-scheme: dark)").matches;t(o?"dark":"light")}else t(r)})},[t]),c.jsx(c.Fragment,{children:n})};function ed(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 8l-4 4h3c0 3.31-2.69 6-6 6a5.87 5.87 0 01-2.8-.7l-1.46 1.46A7.93 7.93 0 0012 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46A7.93 7.93 0 0012 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"}}]})(e)}function nd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}}]})(e)}function dg(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}}]})(e)}function td(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 4H5a2 2 0 00-2 2v12a2 2 0 002 2h4v-2H5V8h14v10h-4v2h4c1.1 0 2-.9 2-2V6a2 2 0 00-2-2zm-7 6l-4 4h3v6h2v-6h3l-4-4z"}}]})(e)}function M(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 00-2 2v14a2 2 0 002 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}}]})(e)}function ad(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 00.12-.61l-1.92-3.32a.488.488 0 00-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 00-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 00-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}}]})(e)}function rd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"}}]})(e)}function pg(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12.87 15.07l-2.54-2.51.03-.03A17.52 17.52 0 0014.07 6H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"}}]})(e)}function od(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}},{tag:"path",attr:{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}}]})(e)}function id(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}}]})(e)}function sd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function ld(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"}}]})(e)}function ud(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13H5v-2h14v2z"}}]})(e)}function cd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 2c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6H6zm7 7V3.5L18.5 9H13z"}}]})(e)}function hd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"}}]})(e)}function gd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M5 20h14v-2H5v2zm0-10h4v6h6v-6h4l-7-7-7 7z"}}]})(e)}function fd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}}]})(e)}function dd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 000-1.41l-2.34-2.34a.996.996 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}}]})(e)}function pd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 5H1v16c0 1.1.9 2 2 2h16v-2H3V5zm11 10h2V5h-4v2h2v8zm7-14H7c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zm0 16H7V3h14v14z"}}]})(e)}function md(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10a2.5 2.5 0 002.5-2.5c0-.61-.23-1.2-.64-1.67a.528.528 0 01-.13-.33c0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9zM5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5zm6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5z"}}]})(e)}function vd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 10l5 5 5-5z"}}]})(e)}function yd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M7 14l5-5 5 5z"}}]})(e)}function bd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M14 7l-5 5 5 5V7z"}},{tag:"path",attr:{fill:"none",d:"M24 0v24H0V0h24z"}}]})(e)}function Sd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M10 17l5-5-5-5v10z"}},{tag:"path",attr:{fill:"none",d:"M0 24V0h24v24H0z"}}]})(e)}function wd(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"}}]})(e)}function Od(e){return H({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}}]})(e)}function mg(e){const{isOpen:n,onClose:t}=e,{t:a}=Ya(),r=Qn("primary.500","primary.300");return c.jsxs(To,{isOpen:n,onClose:t,size:"xl",scrollBehavior:"inside",children:[c.jsx(ya,{}),c.jsxs(Ro,{children:[c.jsx(ba,{children:a("Help and support")}),c.jsx(Sa,{}),c.jsxs(wa,{children:[c.jsx(za,{as:"h5",size:"sm",mb:2,children:a("Terms and conditions")}),c.jsxs(No,{children:[c.jsxs(se,{children:["The layout of the elements on the signage or rail map, is designed by"," ",c.jsxs(P,{color:r,href:"https://www.gzmtr.com/",isExternal:!0,children:["Guangzhou Metro Group ",c.jsx(k,{as:M})]}),", ",c.jsxs(P,{color:r,href:"https://www.mtr.com.hk/",isExternal:!0,children:["MTR Corporation ",c.jsx(k,{as:M})]})," or ",c.jsxs(P,{color:r,href:"https://www.shmetro.com/",isExternal:!0,children:["Shanghai Shentong Metro Group ",c.jsx(k,{as:M})]}),", depending on your selection. You shall grant appropriate permit or license from the relevant company above before using the generated images for commercial purposes, if it is required to do so.",c.jsx("br",{}),"",c.jsxs(P,{color:r,href:"https://www.gzmtr.com/",isExternal:!0,children:[" ",c.jsx(k,{as:M})]}),"",c.jsxs(P,{color:r,href:"https://www.mtr.com.hk/",isExternal:!0,children:[" ",c.jsx(k,{as:M})]}),"",c.jsxs(P,{color:r,href:"https://www.shmetro.com/",isExternal:!0,children:[" ",c.jsx(k,{as:M})]}),""]}),c.jsxs(se,{children:["The elements including shapes and lines on the image are drawn by"," ",c.jsxs(P,{color:r,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",c.jsx(k,{as:M})]})," and ",c.jsxs(P,{color:r,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",c.jsx(k,{as:M})]}),", based on the design standards or rules of the companies listed above. You may use them for any purposes, but it is recommended to state the name and the link of software alongside.",c.jsx("br",{}),"",c.jsxs(P,{color:r,href:"https://www.github.com/wongchito",isExternal:!0,children:["Chito Wong ",c.jsx(k,{as:M})]}),"",c.jsxs(P,{color:r,href:"https://www.github.com/thekingofcity",isExternal:!0,children:["thekingofcity ",c.jsx(k,{as:M})]}),""]}),c.jsxs(se,{children:["Due to copyright, licensing and other legal restrictions, Rail Map Generator uses"," ",c.jsxs(P,{color:r,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["GenYoMin provided by ButTaiwan ",c.jsx(k,{as:M})]}),", and Vegur instead of MTRSung and Myriad Pro respectively to display and generate MTR-style signage. You shall grant appropriate permit or license from the manufacturers before using those generated images for commercial purposes.",c.jsx("br",{}),"",c.jsxs(P,{color:r,href:"https://github.com/ButTaiwan/genyo-font",isExternal:!0,children:["ButTaiwan ",c.jsx(k,{as:M})]}),"VegurMyriad Pro"]}),c.jsxs(se,{children:["The exported images in PNG or SVG format may be modified, published, or used for other purposes, under the conditions above.",c.jsx("br",{}),"PNGSVG"]}),c.jsxs(se,{children:["All flag emojis shown on Windows platforms are designed by"," ",c.jsxs(P,{color:r,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",c.jsx(k,{as:M})]})," "," the open-source emoji and icon project. License:",c.jsxs(P,{color:r,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",c.jsx(k,{as:M})]}),c.jsx("br",{}),"WindowsEmoji",c.jsxs(P,{color:r,href:"https://openmoji.org/",isExternal:!0,children:["OpenMoji ",c.jsx(k,{as:M})]}),"",c.jsxs(P,{color:r,href:"https://creativecommons.org/licenses/by-sa/4.0/",isExternal:!0,children:["CC BY-SA 4.0 ",c.jsx(k,{as:M})]})]}),c.jsxs(se,{children:["We reserve the rights, without prior notice, to modify, add, or remove these terms. The Chinese translation is for reference only. In case of any discrepancy between the English version and the Chinese version, the English version shall prevail.",c.jsx("br",{}),""]})]})]}),c.jsx(Oa,{children:c.jsx(_e,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg","_blank"),children:a("Visit GitHub")})})]})]})}function vg(){const{t:e}=Ya(),n=R.getEnv(),t=R.getAppVersion(),a=i=>{R.setLanguage(i),R.getI18nInstance().changeLanguage(i)},[r,o]=O.useState(!1);return c.jsxs(Bh,{children:[c.jsx(za,{as:"h4",size:"md",children:e("Rail Map Generator")}),c.jsx(wh,{environment:n,version:t}),c.jsxs(Po,{ml:"auto",children:[R.isStandaloneWindow()&&c.jsxs(jo,{children:[c.jsx(Ao,{as:Ge,icon:c.jsx(pg,{}),variant:"ghost",size:"sm"}),c.jsx(ko,{children:Gl.map(i=>c.jsx(Lo,{onClick:()=>a(i),children:Vl[i][i]},i))})]}),c.jsx(Ge,{size:"sm",variant:"ghost","aria-label":"Help",icon:c.jsx(dg,{}),onClick:()=>o(!0)})]}),c.jsx(mg,{isOpen:r,onClose:()=>o(!1)})]})}const yg=O.lazy(()=>qa(()=>import("./app-router-b25148d5.js").then(e=>e.a),["assets/app-router-b25148d5.js","assets/chakra-c9623454.js","assets/react-5680e458.js","assets/param-updater-utils-7d806c8d.js"])),bg=O.lazy(()=>qa(()=>import("./app-clip-view-16414cc4.js"),["assets/app-clip-view-16414cc4.js","assets/chakra-c9623454.js","assets/react-5680e458.js","assets/param-updater-utils-7d806c8d.js"]));function Sg(){return c.jsx(Io,{basename:"/rmg/",children:c.jsx(gg,{children:c.jsxs(Dh,{children:[c.jsx(vg,{}),c.jsxs(Fo,{children:[c.jsx(Tn,{path:"/import",element:c.jsx(ea,{suspenseFallback:c.jsx(ta,{isIndeterminate:!0}),children:c.jsx(bg,{})})}),c.jsx(Tn,{path:"/",element:c.jsx(ea,{suspenseFallback:c.jsx(ta,{isIndeterminate:!0}),allowReset:!0,children:c.jsx(yg,{})})}),c.jsx(Tn,{path:"*",element:c.jsx(Do,{to:"/"})})]})]})})})}window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/);function wg(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})}var it=(e=>(e.MTR="mtr",e.GZMTR="gzmtr",e.SHMetro="shmetro",e))(it||{}),hn=(e=>(e.Destination="destination",e.RunIn="runin",e.RailMap="railmap",e.Indoor="indoor",e))(hn||{});const _d={mtr:["destination","railmap"],gzmtr:["runin","railmap"],shmetro:["destination","runin","railmap","indoor"]};var ar=(e=>(e.CLOSE="CLOSE",e.STATION="STATION",e.STYLE="STYLE",e.BRANCH="BRANCH",e))(ar||{}),Le=(e=>(e.left="left",e.right="right",e))(Le||{}),rr=(e=>(e.left="l",e.right="r",e))(rr||{}),Og=(e=>(e.through="through",e.nonThrough="nonthrough",e))(Og||{}),_g=(e=>(e.local="local",e.express="express",e.direct="direct",e))(_g||{});const xd={"":"None",airport:"Airport",hsr:"High speed rail",railway:"National rail",disney:"Disneyland resort",np360:"Ngong Ping 360"};var or=(e=>(e.gz1="gz1",e.gz28="gz28",e.gz2otis="gz2otis",e.gz3="gz3",e.gz4="gz4",e.gz5="gz5",e.gz1421="gz1421",e.gz6="gz6",e.gzgf="gzgf",e))(or||{}),xg=(e=>(e.sh="sh",e.sh2020="sh2020",e))(xg||{}),zg=(e=>(e[e.PASSED=-1]="PASSED",e[e.CURRENT=0]="CURRENT",e[e.FUTURE=1]="FUTURE",e))(zg||{}),Hg=(e=>(e.UP="UP",e.DOWN="DOWN",e.LEFT="LEFT",e.RIGHT="RIGHT",e))(Hg||{}),T=(e=>(e.CANVAS_TO_SHOW="rmg__canvasToShow",e.CANVAS_SCALE="rmg__canvasScale",e.PARAM="rmg__param",e.PARAM_BY_ID="rmg__param:",e.PARAM_REGISTRY="rmg__paramRegistry",e.PARAM_CONFIG_BY_ID="rmg__paramConfig:",e.DO_NOT_SHOW_RMT_MSG="rmg__doNotShowRMTMsg",e))(T||{}),ir=(e=>(e.APP_LOAD="APP_LOAD",e.STYLE_CHANGE="STYLE_CHANGE",e.OPEN_PARAM="OPEN_PARAM",e.NEW_PARAM="NEW_PARAM",e.UPLOAD_PARAM="UPLOAD_PARAM",e.OPEN_TEMPLATE="OPEN_TEMPLATE",e.REMOVE_PARAM="REMOVE_PARAM",e.UPDATE_PARAM_CONFIG="UPDATE_PARAM_CONFIG",e.ADD_STATION="ADD_STATION",e.REMOVE_STATION="REMOVE_STATION",e.ADD_BRANCH="ADD_BRANCH",e.AUTO_NUMBERING="AUTO_NUMBERING",e.REVERSE_STATIONS="REVERSE_STATIONS",e.CONNECT_BRANCH="CONNECT_BRANCH",e.DISCONNECT_BRANCH="DISCONNECT_BRANCH",e.SELECT_COLOUR="SELECT_COLOUR",e.DOWNLOAD_PARAM="DOWNLOAD_PARAM",e.DOWNLOAD_IMAGES="DOWNLOAD_IMAGES",e.APP_CLIP_VIEW_OPENED="APP_CLIP_VIEW_OPENED",e.APP_CLIP_VIEW_CLOSED="APP_CLIP_VIEW_CLOSED",e.APP_CLIP_VIEW_IMPORT="APP_CLIP_VIEW_IMPORT",e))(ir||{});const Eg={rmgStyle:it.MTR,paramConfig:void 0,canvasScale:1,canvasToShow:Object.values(hn),sidePanelMode:ar.CLOSE,selectedStation:"linestart",selectedColine:void 0,selectedBranch:0,isShareTrackEnabled:void 0,globalAlerts:{},isLoading:void 0},sr=Bo({name:"app",initialState:Eg,reducers:{setParamConfig:(e,n)=>{e.paramConfig=n.payload},updateParamModifiedTime:(e,n)=>{e.paramConfig&&(e.paramConfig.lastModified=n.payload)},setCanvasScale:(e,n)=>{e.canvasScale=n.payload},setCanvasToShow:(e,n)=>{e.canvasToShow=n.payload},setSidePanelMode:(e,n)=>{e.sidePanelMode=n.payload},setSelectedStation:(e,n)=>{e.selectedStation=n.payload},setSelectedColine:(e,n)=>{e.selectedColine=n.payload},setSelectedBranch:(e,n)=>{e.selectedBranch=n.payload},setIsShareTrackEnabled:(e,n)=>{e.isShareTrackEnabled=n.payload},setGlobalAlert:(e,n)=>{const{status:t,message:a,url:r,linkedApp:o}=n.payload;e.globalAlerts[t]={message:a,url:r,linkedApp:o}},closeGlobalAlert:(e,n)=>{delete e.globalAlerts[n.payload]},startLoading:e=>{e.isLoading=-1},setLoadingProgress:(e,n)=>{e.isLoading=n.payload},stopLoading:e=>{e.isLoading=void 0}}}),{setParamConfig:zd,updateParamModifiedTime:Tg,setCanvasScale:sa,setCanvasToShow:la,setSidePanelMode:Hd,setSelectedStation:Ed,setSelectedColine:Td,setSelectedBranch:Rd,setIsShareTrackEnabled:Nd,setGlobalAlert:Pd,closeGlobalAlert:jd,startLoading:Ad,setLoadingProgress:kd,stopLoading:Ld}=sr.actions,Rg=sr.reducer;var Kn;(function(e){e.black="#000",e.white="#fff"})(Kn||(Kn={}));var d;(function(e){e.Adelaide="adelaide",e.Almaty="almaty",e.Amsterdam="amsterdam",e.Ankara="ankara",e.Athens="athens",e.Baku="baku",e.Bangkok="bangkok",e.Barcelona="barcelona",e.Beijing="beijing",e.Berlin="berlin",e.Bne="bne",e.Bonn="bonn",e.Boston="boston",e.Brussels="brussels",e.Bucharest="bucharest",e.Budapest="budapest",e.Buenosaires="buenosaires",e.Busan="busan",e.Cairo="cairo",e.Caracas="caracas",e.Cbr="cbr",e.Changchun="changchun",e.Changsha="changsha",e.Changzhou="changzhou",e.Chengdu="chengdu",e.Chennai="chennai",e.Chongqing="chongqing",e.Chuzhou="chuzhou",e.Cochabamba="cochabamba",e.Cologne="cologne",e.Copenhagen="copenhagen",e.Daegu="daegu",e.Dalian="dalian",e.Delhi="delhi",e.Dongguan="dongguan",e.Dortmund="dortmund",e.Dublin="dublin",e.Edinburgh="edinburgh",e.Eskisehir="eskisehir",e.Foshan="foshan",e.Frankfurt="frankfurt",e.Fuzhou="fuzhou",e.Glasgow="glasgow",e.Gothenburg="gothenburg",e.Guadalajara="guadalajara",e.Guangzhou="guangzhou",e.Guiyang="guiyang",e.Hamburg="hamburg",e.Hangzhou="hangzhou",e.Hanoi="hanoi",e.Harbin="harbin",e.Hefei="hefei",e.Hiroshima="hiroshima",e.Hochiminh="hochiminh",e.Hohhot="hohhot",e.Hongkong="hongkong",e.Iashi="iashi",e.Istanbul="istanbul",e.Jakarta="jakarta",e.Jinan="jinan",e.Kansai="kansai",e.Kaohsiung="kaohsiung",e.Kaosiung="kaosiung",e.Kharkiv="kharkiv",e.Klangvalley="klangvalley",e.Kunming="kunming",e.Kyiv="kyiv",e.Lahore="lahore",e.Lanzhou="lanzhou",e.Lille="lille",e.Lima="lima",e.Lisbon="lisbon",e.Littlerockcity="littlerockcity",e.London="london",e.Losangeles="losangeles",e.Lucknow="lucknow",e.Luoyang="luoyang",e.Lyon="lyon",e.Macao="macao",e.Madrid="madrid",e.Manchester="manchester",e.Marseille="marseille",e.Melbourne="melbourne",e.Mexicocity="mexicocity",e.Milan="milan",e.Monterrey="monterrey",e.Montreal="montreal",e.Moscow="moscow",e.Munich="munich",e.Nagpur="nagpur",e.Nanchang="nanchang",e.Nanjing="nanjing",e.Nanning="nanning",e.Nantes="nantes",e.Nantong="nantong",e.Naples="naples",e.Neworleans="neworleans",e.Newtaipei="newtaipei",e.Newyork="newyork",e.Nice="nice",e.Ningbo="ningbo",e.Novosibirsk="novosibirsk",e.Osaka="osaka",e.Oslo="oslo",e.Other="other",e.Ottawa="ottawa",e.Panamacity="panamacity",e.Paris="paris",e.Perth="perth",e.Pyongyang="pyongyang",e.Qingdao="qingdao",e.Rheinruhr="rheinruhr",e.Rio="rio",e.Riyadh="riyadh",e.Rome="rome",e.Rotterdam="rotterdam",e.Saltlakecity="saltlakecity",e.Samara="samara",e.Sanfrancisco="sanfrancisco",e.Sanktpeterburg="sanktpeterburg",e.Santiago="santiago",e.Saopaulo="saopaulo",e.Seoul="seoul",e.Sevilla="sevilla",e.Shanghai="shanghai",e.Shaoxing="shaoxing",e.Shenyang="shenyang",e.Shenzhen="shenzhen",e.Shijiazhuang="shijiazhuang",e.Shiraz="shiraz",e.Singapore="singapore",e.Stlouis="stlouis",e.Stockholm="stockholm",e.Suzhou="suzhou",e.Sydney="sydney",e.Taichung="taichung",e.Taipei="taipei",e.Taiyuan="taiyuan",e.Taoyuan="taoyuan",e.Tashkent="tashkent",e.Tehran="tehran",e.Tianjin="tianjin",e.Tokyo="tokyo",e.Toronto="toronto",e.Turin="turin",e.Tyneandwear="tyneandwear",e.Urumqi="urumqi",e.Vienna="vienna",e.Warsaw="warsaw",e.Washington="washington",e.Wenzhou="wenzhou",e.Wuhan="wuhan",e.Wuxi="wuxi",e.Xiamen="xiamen",e.Xian="xian",e.Xuzhou="xuzhou",e.Yekaterinburg="yekaterinburg",e.Yevpatoria="yevpatoria",e.Yokohama="yokohama",e.Zhengzhou="zhengzhou"})(d||(d={}));var u;(function(e){e.AR="AR",e.AT="AT",e.AU="AU",e.AZ="AZ",e.BE="BE",e.BO="BO",e.BR="BR",e.CA="CA",e.CL="CL",e.CN="CN",e.DE="DE",e.DK="DK",e.EG="EG",e.ES="ES",e.FR="FR",e.GBENG="GBENG",e.GBSCT="GBSCT",e.GR="GR",e.HK="HK",e.HU="HU",e.ID="ID",e.IE="IE",e.IN="IN",e.IR="IR",e.IT="IT",e.JP="JP",e.KP="KP",e.KR="KR",e.KZ="KZ",e.MO="MO",e.MX="MX",e.MY="MY",e.NL="NL",e.NO="NO",e.PA="PA",e.PE="PE",e.PK="PK",e.PL="PL",e.PT="PT",e.RO="RO",e.RU="RU",e.SA="SA",e.SE="SE",e.SG="SG",e.TH="TH",e.TR="TR",e.TW="TW",e.UA="UA",e.UN="UN",e.US="US",e.UZ="UZ",e.VE="VE",e.VN="VN"})(u||(u={}));const Md=[{id:d.Adelaide,country:u.AU,name:{en:"Adelaide","zh-Hans":"","zh-Hant":""}},{id:d.Almaty,country:u.KZ,name:{en:"Almaty","zh-Hans":"","zh-Hant":"",kk:""}},{id:d.Amsterdam,country:u.NL,name:{en:"Amsterdam",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Ankara,country:u.TR,name:{en:"Ankara",tr:"Ankara","zh-Hans":"","zh-Hant":""}},{id:d.Athens,country:u.GR,name:{el:"",en:"Athens","zh-Hans":"","zh-Hant":""}},{id:d.Baku,country:u.AZ,name:{en:"Baku",az:"Bak","zh-Hans":"","zh-Hant":""}},{id:d.Bangkok,country:u.TH,name:{en:"Bangkok","zh-Hans":"","zh-Hant":""}},{id:d.Barcelona,country:u.ES,name:{en:"Barcelona",es:"Barcelona","zh-Hans":"","zh-Hant":""}},{id:d.Beijing,country:u.CN,name:{en:"Beijing","zh-Hans":"","zh-Hant":""}},{id:d.Berlin,country:u.DE,name:{de:"Berlin",en:"Berlin","zh-Hans":"","zh-Hant":""}},{id:d.Bne,country:u.AU,name:{en:"Brisbane",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Bonn,country:u.DE,name:{en:"Bonn",de:"Bonn","zh-Hans":"","zh-Hant":""}},{id:d.Boston,country:u.US,name:{en:"Boston","zh-Hans":"","zh-Hant":""}},{id:d.Brussels,country:u.BE,name:{en:"Brussels",fr:"Bruxelles","zh-Hans":"","zh-Hant":""}},{id:d.Bucharest,country:u.RO,name:{en:"Bucharest",ro:"Bucureti","zh-Hans":"","zh-Hant":""}},{id:d.Budapest,country:u.HU,name:{en:"Budapest",hu:"Budapest","zh-Hans":"","zh-Hant":""}},{id:d.Buenosaires,country:u.AR,name:{es:"Buenos Aires","zh-Hans":"","zh-Hant":"",en:"Buenos Aires"}},{id:d.Busan,country:u.KR,name:{en:"Busan",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Cairo,country:u.EG,name:{en:"Cairo (Greater Cairo Area)",ar:" (  )","zh-Hans":"","zh-Hant":""}},{id:d.Caracas,country:u.VE,name:{en:"Caracas",es:"Caracas","zh-Hans":"","zh-Hant":""}},{id:d.Cbr,country:u.AU,name:{en:"Canberra","zh-Hans":"","zh-Hant":""}},{id:d.Changchun,country:u.CN,name:{en:"Changchun","zh-Hans":"","zh-Hant":""}},{id:d.Changsha,country:u.CN,name:{en:"Changsha","zh-Hans":"","zh-Hant":""}},{id:d.Changzhou,country:u.CN,name:{en:"Changzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Chengdu,country:u.CN,name:{en:"Chengdu","zh-Hans":"","zh-Hant":""}},{id:d.Chennai,country:u.IN,name:{en:"Chennai","zh-Hans":"","zh-Hant":"",hi:""}},{id:d.Chongqing,country:u.CN,name:{en:"Chongqing","zh-Hans":"","zh-Hant":""}},{id:d.Chuzhou,country:u.CN,name:{en:"Chuzhou","zh-Hans":"","zh-Hant":""}},{id:d.Cochabamba,country:u.BO,name:{es:"Cochabamba","zh-Hans":"","zh-Hant":"",en:"Cochabamba"}},{id:d.Cologne,country:u.DE,name:{en:"Cologne",de:"Kln","zh-Hans":"","zh-Hant":""}},{id:d.Copenhagen,country:u.DK,name:{en:"Copenhagen","zh-Hans":"","zh-Hant":""}},{id:d.Daegu,country:u.KR,name:{en:"Daegu",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Dalian,country:u.CN,name:{en:"Dalian","zh-Hans":"","zh-Hant":""}},{id:d.Delhi,country:u.IN,name:{en:"Delhi",hi:"","zh-Hans":"","zh-Hant":""}},{id:d.Dongguan,country:u.CN,name:{en:"Dongguan","zh-Hans":"","zh-Hant":""}},{id:d.Dortmund,country:u.DE,name:{en:"Dortmund",de:"Dortmund","zh-Hans":"","zh-Hant":""}},{id:d.Dublin,country:u.IE,name:{en:"Dublin",ga:"Baile tha Cliath","zh-Hans":"","zh-Hant":""}},{id:d.Edinburgh,country:u.GBSCT,name:{en:"Edinburgh",ga:"Dn ideann","zh-Hans":"","zh-Hant":""}},{id:d.Eskisehir,country:u.TR,name:{en:"Eskiehir",tr:"Eskiehir","zh-Hans":"","zh-Hant":""}},{id:d.Foshan,country:u.CN,name:{en:"Foshan","zh-Hans":"","zh-Hant":""}},{id:d.Frankfurt,country:u.DE,name:{de:"Frankfurt am Main",en:"Frankfurt am Main","zh-Hans":"","zh-Hant":""}},{id:d.Fuzhou,country:u.CN,name:{en:"Fuzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Glasgow,country:u.GBSCT,name:{en:"Glasgow",ga:"Glaschu","zh-Hans":"","zh-Hant":""}},{id:d.Gothenburg,country:u.SE,name:{en:"Gothenburg",es:"Gteborg","zh-Hans":"","zh-Hant":""}},{id:d.Guadalajara,country:u.MX,name:{en:"Guadalajara",es:"Guadalajara","zh-Hans":"","zh-Hant":""}},{id:d.Guangzhou,country:u.CN,name:{en:"Guangzhou","zh-Hans":"","zh-Hant":""}},{id:d.Guiyang,country:u.CN,name:{en:"Guiyang",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Hamburg,country:u.DE,name:{en:"Hamburg",de:"Hamburg","zh-Hans":"","zh-Hant":""}},{id:d.Hangzhou,country:u.CN,name:{en:"Hangzhou","zh-Hans":"","zh-Hant":""}},{id:d.Hanoi,country:u.VN,name:{en:"Hanoi",vi:"H Ni","zh-Hans":"","zh-Hant":""}},{id:d.Harbin,country:u.CN,name:{en:"Harbin","zh-Hans":"","zh-Hant":""}},{id:d.Hefei,country:u.CN,name:{"zh-Hans":"","zh-Hant":"",en:"Hefei"}},{id:d.Hiroshima,country:u.JP,name:{en:"Hiroshima","zh-Hans":"","zh-Hant":"",ja:""}},{id:d.Hochiminh,country:u.VN,name:{en:"Ho Chi Minh City",vi:"Thnh ph H Ch Minh","zh-Hans":"","zh-Hant":""}},{id:d.Hohhot,country:u.CN,name:{en:"Hohhot",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Hongkong,country:u.HK,name:{en:"Hong Kong","zh-Hans":"","zh-Hant":""}},{id:d.Iashi,country:u.RO,name:{en:"Iai",ro:"Iai","zh-Hans":"","zh-Hant":""}},{id:d.Istanbul,country:u.TR,name:{en:"Istanbul",tr:"stanbul","zh-Hans":"","zh-Hant":""}},{id:d.Jakarta,country:u.ID,name:{en:"Jakarta",id:"Jakarta","zh-Hans":"","zh-Hant":""}},{id:d.Jinan,country:u.CN,name:{en:"Jinan","zh-Hans":"","zh-Hant":""}},{id:d.Kansai,country:u.JP,name:{en:"Kansai Area",ja:"","zh-Hans":"","zh-Hant":""}},{id:d.Kaohsiung,country:u.TW,name:{en:"Kaohsiung","zh-Hans":"","zh-Hant":""}},{id:d.Kaosiung,country:u.TW,name:{en:"Kaosiung","zh-Hans":"","zh-Hant":"",ko:""}},{id:d.Kharkiv,country:u.UA,name:{en:"Kharkiv","zh-Hans":"","zh-Hant":""}},{id:d.Klangvalley,country:u.MY,name:{en:"Greater KL/Klang Valley",ms:"Kuala Lumpur Raya/Lembah Klang","zh-Hans":"/","zh-Hant":"/"}},{id:d.Kunming,country:u.CN,name:{en:"Kunming","zh-Hans":"","zh-Hant":""}},{id:d.Kyiv,country:u.UA,name:{en:"Kyiv","zh-Hans":"","zh-Hant":"",uk:""}},{id:d.Lahore,country:u.PK,name:{en:"Lahore",ur:"","zh-Hans":"","zh-Hant":""}},{id:d.Lanzhou,country:u.CN,name:{en:"Lanzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Lille,country:u.FR,name:{en:"Lille","zh-Hans":"","zh-Hant":"",fr:"Lille"}},{id:d.Lima,country:u.PE,name:{en:"Lima",es:"Lima","zh-Hans":"","zh-Hant":""}},{id:d.Lisbon,country:u.PT,name:{en:"Lisbon",pt:"Lisboa","zh-Hans":"","zh-Hant":""}},{id:d.Littlerockcity,country:u.US,name:{en:"Little Rock City","zh-Hans":"","zh-Hant":""}},{id:d.London,country:u.GBENG,name:{en:"London","zh-Hans":"","zh-Hant":""}},{id:d.Losangeles,country:u.US,name:{en:"Los Angeles (South California)","zh-Hans":"","zh-Hant":"",ko:"  ( )"}},{id:d.Lucknow,country:u.IN,name:{en:"Lucknow","zh-Hans":"","zh-Hant":"",hi:""}},{id:d.Luoyang,country:u.CN,name:{en:"Luoyang","zh-Hans":"","zh-Hant":""}},{id:d.Lyon,country:u.FR,name:{en:"Lyon","zh-Hans":"","zh-Hant":""}},{id:d.Macao,country:u.MO,name:{en:"Macao",pt:"Macau","zh-Hans":"","zh-Hant":""}},{id:d.Madrid,country:u.ES,name:{en:"Madrid","zh-Hans":"","zh-Hant":""}},{id:d.Manchester,country:u.GBENG,name:{en:"Manchester","zh-Hans":"","zh-Hant":""}},{id:d.Marseille,country:u.FR,name:{en:"Marseille","zh-Hans":"","zh-Hant":"",fr:"Marseille"}},{id:d.Melbourne,country:u.AU,name:{en:"Melbourne","zh-Hans":"","zh-Hant":""}},{id:d.Mexicocity,country:u.MX,name:{en:"Mexico City","zh-Hans":"","zh-Hant":"",es:"Ciudad de Mxico"}},{id:d.Milan,country:u.IT,name:{en:"Milan",it:"Milano","zh-Hans":"","zh-Hant":""}},{id:d.Monterrey,country:u.MX,name:{es:"Monterrey","zh-Hans":"","zh-Hant":"",en:"Monterrey"}},{id:d.Montreal,country:u.CA,name:{en:"Montreal",fr:"Montral","zh-Hans":"","zh-Hant":""}},{id:d.Moscow,country:u.RU,name:{en:"Moscow","zh-Hans":"","zh-Hant":"",ru:"",fr:"Moscou"}},{id:d.Munich,country:u.DE,name:{de:"Mnchen",en:"Munich","zh-Hans":"","zh-Hant":""}},{id:d.Nagpur,country:u.IN,name:{en:"Nagpur","zh-Hans":"","zh-Hant":"",hi:""}},{id:d.Nanchang,country:u.CN,name:{en:"Nanchang",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Nanjing,country:u.CN,name:{en:"Nanjing","zh-Hans":"","zh-Hant":""}},{id:d.Nanning,country:u.CN,name:{en:"Nanning","zh-Hans":"","zh-Hant":""}},{id:d.Nantes,country:u.FR,name:{en:"Nantes",fr:"Nantes","zh-Hans":"","zh-Hant":""}},{id:d.Nantong,country:u.CN,name:{en:"Nantong",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Naples,country:u.IT,name:{en:"Naples",it:"Napoli","zh-Hans":"","zh-Hant":""}},{id:d.Neworleans,country:u.US,name:{en:"New Orleans","zh-Hans":"","zh-Hant":""}},{id:d.Newtaipei,country:u.TW,name:{en:"New Taipei","zh-Hans":"","zh-Hant":""}},{id:d.Newyork,country:u.US,name:{en:"New York","zh-Hans":"","zh-Hant":""}},{id:d.Nice,country:u.FR,name:{en:"Nice",fr:"Nice","zh-Hans":"","zh-Hant":""}},{id:d.Ningbo,country:u.CN,name:{en:"Ningbo","zh-Hans":"","zh-Hant":""}},{id:d.Novosibirsk,country:u.RU,name:{en:"Novosibirsk","zh-Hans":"","zh-Hant":"",ru:""}},{id:d.Osaka,country:u.JP,name:{en:"Osaka",ja:"","zh-Hans":"","zh-Hant":""}},{id:d.Oslo,country:u.NO,name:{en:"Oslo","zh-Hans":"","zh-Hant":""}},{id:d.Other,country:u.UN,name:{en:"Customise","zh-Hans":"","zh-Hant":""}},{id:d.Ottawa,country:u.CA,name:{en:"Ottawa",fr:"Ottawa","zh-Hans":"","zh-Hant":""}},{id:d.Panamacity,country:u.PA,name:{en:"Panama City","zh-Hans":"","zh-Hant":"",es:"Ciudad de Panam"}},{id:d.Paris,country:u.FR,name:{en:"Paris","zh-Hans":"","zh-Hant":""}},{id:d.Perth,country:u.AU,name:{en:"Perth","zh-Hans":"","zh-Hant":""}},{id:d.Pyongyang,country:u.KP,name:{en:"Pyongyang","zh-Hans":"","zh-Hant":"",ko:""}},{id:d.Qingdao,country:u.CN,name:{en:"Qingdao","zh-Hans":"","zh-Hant":""}},{id:d.Rheinruhr,country:u.DE,name:{de:"Metropolregion Rhein-Ruhr",en:"Rhein-Ruhr Metropolitan Region","zh-Hans":"-","zh-Hant":"-"}},{id:d.Rio,country:u.BR,name:{en:"Rio de Janeiro",pt:"Rio de Janeiro","zh-Hans":"","zh-Hant":""}},{id:d.Riyadh,country:u.SA,name:{en:"Riyadh",ar:"","zh-Hans":"","zh-Hant":""}},{id:d.Rome,country:u.IT,name:{en:"Rome",ko:"","zh-Hans":"","zh-Hant":"",it:"Roma"}},{id:d.Rotterdam,country:u.NL,name:{en:"Rotterdam",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Saltlakecity,country:u.US,name:{en:"Salt Lake City","zh-Hans":"","zh-Hant":""}},{id:d.Samara,country:u.RU,name:{en:"Samara","zh-Hans":"","zh-Hant":"",ru:""}},{id:d.Sanfrancisco,country:u.US,name:{en:"San Francisco","zh-Hans":"","zh-Hant":""}},{id:d.Sanktpeterburg,country:u.RU,name:{en:"Sankt Peterburg",ru:"-","zh-Hans":"","zh-Hant":""}},{id:d.Santiago,country:u.CL,name:{en:"Santiago",es:"Santiago","zh-Hans":"","zh-Hant":" "}},{id:d.Saopaulo,country:u.BR,name:{en:"Sao Paulo",pt:"So Paulo","zh-Hans":"","zh-Hant":""}},{id:d.Seoul,country:u.KR,name:{en:"Seoul (Metropolitan Area)",ko:"()","zh-Hans":"","zh-Hant":""}},{id:d.Sevilla,country:u.ES,name:{es:"Sevilla",en:"Seville"}},{id:d.Shanghai,country:u.CN,name:{en:"Shanghai","zh-Hans":"","zh-Hant":""}},{id:d.Shaoxing,country:u.CN,name:{en:"Shaoxing","zh-Hans":"","zh-Hant":""}},{id:d.Shenyang,country:u.CN,name:{en:"Shenyang","zh-Hans":"","zh-Hant":""}},{id:d.Shenzhen,country:u.CN,name:{en:"Shenzhen","zh-Hans":"","zh-Hant":""}},{id:d.Shijiazhuang,country:u.CN,name:{en:"Shijiazhuang","zh-Hans":""}},{id:d.Shiraz,country:u.IR,name:{en:"Shiraz","zh-Hans":"","zh-Hant":"",fa:""}},{id:d.Singapore,country:u.SG,name:{en:"Singapore","zh-Hans":"","zh-Hant":""}},{id:d.Stlouis,country:u.US,name:{en:"St. Louis","zh-Hans":"","zh-Hant":""}},{id:d.Stockholm,country:u.SE,name:{en:"Stockholm","zh-Hans":"","zh-Hant":""}},{id:d.Suzhou,country:u.CN,name:{en:"Suzhou","zh-Hans":"","zh-Hant":""}},{id:d.Sydney,country:u.AU,name:{en:"Sydney","zh-Hans":"","zh-Hant":""}},{id:d.Taichung,country:u.TW,name:{en:"Taichung","zh-Hans":"","zh-Hant":""}},{id:d.Taipei,country:u.TW,name:{en:"Taipei","zh-Hans":"","zh-Hant":""}},{id:d.Taiyuan,country:u.CN,name:{en:"Taiyuan","zh-Hans":""}},{id:d.Taoyuan,country:u.TW,name:{en:"Taoyuan","zh-Hans":"","zh-Hant":""}},{id:d.Tashkent,country:u.UZ,name:{en:"Tashkent","zh-Hans":"","zh-Hant":""}},{id:d.Tehran,country:u.IR,name:{en:"Tehran",fa:"","zh-Hans":"","zh-Hant":""}},{id:d.Tianjin,country:u.CN,name:{en:"Tianjin","zh-Hans":"","zh-Hant":""}},{id:d.Tokyo,country:u.JP,name:{en:"Tokyo (Greater Tokyo Area)",ja:"","zh-Hans":"","zh-Hant":""}},{id:d.Toronto,country:u.CA,name:{en:"Toronto (Greater Toronto and Hamilton Area)",fr:"Toronto (Rgion du Grand Toronto et de Hamilton)","zh-Hans":"","zh-Hant":""}},{id:d.Turin,country:u.IT,name:{en:"Turin","zh-Hans":"","zh-Hant":"",it:"Torino"}},{id:d.Tyneandwear,country:u.GBENG,name:{en:"Tyne and Wear","zh-Hans":"-","zh-Hant":""}},{id:d.Urumqi,country:u.CN,name:{en:"Urumqi","zh-Hans":"","zh-Hant":""}},{id:d.Vienna,country:u.AT,name:{en:"Vienna",de:"Wien","zh-Hans":"","zh-Hant":""}},{id:d.Warsaw,country:u.PL,name:{en:"Warsaw",pl:"Warszawa","zh-Hans":"","zh-Hant":""}},{id:d.Washington,country:u.US,name:{en:"Washington DC","zh-Hans":"","zh-Hant":""}},{id:d.Wenzhou,country:u.CN,name:{en:"Wenzhou",ko:"","zh-Hans":"","zh-Hant":""}},{id:d.Wuhan,country:u.CN,name:{en:"Wuhan","zh-Hans":"","zh-Hant":""}},{id:d.Wuxi,country:u.CN,name:{en:"Wuxi","zh-Hans":"","zh-Hant":""}},{id:d.Xiamen,country:u.CN,name:{en:"Xiamen","zh-Hans":"","zh-Hant":""}},{id:d.Xian,country:u.CN,name:{en:"Xi'an","zh-Hans":"","zh-Hant":""}},{id:d.Xuzhou,country:u.CN,name:{en:"Xuzhou","zh-Hans":"","zh-Hant":""}},{id:d.Yekaterinburg,country:u.RU,name:{en:"Yekaterinburg","zh-Hans":"","zh-Hant":"",ru:""}},{id:d.Yevpatoria,country:u.UA,name:{en:"Yevpatoria","zh-Hans":"","zh-Hant":""}},{id:d.Yokohama,country:u.JP,name:{en:"Yokohama",ja:"","zh-Hans":"","zh-Hant":""}},{id:d.Zhengzhou,country:u.CN,name:{en:"Zhengzhou","zh-Hans":"","zh-Hant":""}}],Id=[{id:u.AR,name:{es:"Argentina","zh-Hans":"","zh-Hant":"",en:"Argentina"},language:"es",flagEmoji:"",flagSvg:"1F1E6-1F1F7.svg"},{id:u.AT,name:{en:"Austria",de:"sterreich","zh-Hans":"","zh-Hant":""},language:"de",flagEmoji:"",flagSvg:"1F1E6-1F1F9.svg"},{id:u.AU,name:{en:"Australia",ko:"","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1E6-1F1FA.svg"},{id:u.AZ,name:{en:"Azerbaijan",az:"Azrbaycan","zh-Hans":"","zh-Hant":""},language:"az",flagEmoji:"",flagSvg:"1F1E6-1F1FF.svg"},{id:u.BE,name:{en:"Belgium",fr:"Belgique","zh-Hans":"","zh-Hant":""},language:"fr",flagEmoji:"",flagSvg:"1F1E7-1F1EA.svg"},{id:u.BO,name:{en:"Bolivia","zh-Hans":"","zh-Hant":"",es:"Bolivia"},language:"es",flagEmoji:"",flagSvg:"1F1E7-1F1F4.svg"},{id:u.BR,name:{en:"Brazil",pt:"Brasil","zh-Hans":"","zh-Hant":""},language:"pt",flagEmoji:"",flagSvg:"1F1E7-1F1F7.svg"},{id:u.CA,name:{en:"Canada",fr:"Canada","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1E8-1F1E6.svg"},{id:u.CL,name:{en:"Chile",es:"Chile","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1E8-1F1F1.svg"},{id:u.CN,name:{en:"China","zh-Hans":"","zh-Hant":""},language:"zh-Hans",flagEmoji:"",flagSvg:"1F1E8-1F1F3.svg"},{id:u.DE,name:{en:"Germany",de:"Deutsche","zh-Hans":"","zh-Hant":""},language:"de",flagEmoji:"",flagSvg:"1F1E9-1F1EA.svg"},{id:u.DK,name:{en:"Denmark",da:"Danmark","zh-Hans":"","zh-Hant":""},language:"da",flagEmoji:"",flagSvg:"1F1E9-1F1F0.svg"},{id:u.EG,name:{en:"Egypt",ar:"","zh-Hans":"","zh-Hant":""},language:"ar",flagEmoji:"",flagSvg:"1F1EA-1F1EC.svg"},{id:u.ES,name:{en:"Spain",es:"Espaa","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1EA-1F1F8.svg"},{id:u.FR,name:{en:"France",fr:"France","zh-Hans":"","zh-Hant":""},language:"fr",flagEmoji:"",flagSvg:"1F1EB-1F1F7.svg"},{id:u.GBENG,name:{en:"England","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F3F4-E0067-E0062-E0065-E006E-E0067-E007F.svg"},{id:u.GBSCT,name:{en:"Scotland",ga:"Alba","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F3F4-E0067-E0062-E0073-E0063-E0074-E007F.svg"},{id:u.GR,name:{en:"Greece",el:"","zh-Hans":"","zh-Hant":""},language:"el",flagEmoji:"",flagSvg:"1F1EC-1F1F7.svg"},{id:u.HK,name:{en:"Hong Kong","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1ED-1F1F0.svg"},{id:u.HU,name:{en:"Hungary",hu:"Magyarorszg","zh-Hans":"","zh-Hant":""},language:"hu",flagEmoji:"",flagSvg:"1F1ED-1F1FA.svg"},{id:u.ID,name:{en:"Indonesia",id:"Indonesia","zh-Hans":"","zh-Hant":""},language:"id",flagEmoji:"",flagSvg:"1F1EE-1F1E9.svg"},{id:u.IE,name:{en:"Ireland",ga:"ire","zh-Hans":"","zh-Hant":""},language:"ga",flagEmoji:"",flagSvg:"1F1EE-1F1EA.svg"},{id:u.IN,name:{en:"India",hi:"","zh-Hans":"","zh-Hant":""},language:"hi",flagEmoji:"",flagSvg:"1F1EE-1F1F3.svg"},{id:u.IR,name:{en:"Iran",fa:"","zh-Hans":"","zh-Hant":""},language:"fa",flagEmoji:"",flagSvg:"1F1EE-1F1F7.svg"},{id:u.IT,name:{en:"Italy",it:"Italia","zh-Hans":"","zh-Hant":""},language:"it",flagEmoji:"",flagSvg:"1F1EE-1F1F9.svg"},{id:u.JP,name:{en:"Japan",ja:"","zh-Hans":"","zh-Hant":""},language:"ja",flagEmoji:"",flagSvg:"1F1EF-1F1F5.svg"},{id:u.KP,name:{en:"North Korea","zh-Hans":"","zh-Hant":"",ko:""},language:"ko",flagEmoji:"",flagSvg:"1F1F0-1F1F5.svg"},{id:u.KR,name:{en:"South Korea",ko:"","zh-Hans":"","zh-Hant":""},language:"ko",flagEmoji:"",flagSvg:"1F1F0-1F1F7.svg"},{id:u.KZ,name:{en:"Kazakhstan","zh-Hans":"","zh-Hant":"",kk:""},language:"kk",flagEmoji:"",flagSvg:"1F1F0-1F1FF.svg"},{id:u.MO,name:{en:"Macao",pt:"Macau","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1F2-1F1F4.svg"},{id:u.MX,name:{en:"Mexico",es:"Mxico","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1F2-1F1FD.svg"},{id:u.MY,name:{en:"Malaysia",ms:"Malaysia","zh-Hans":"","zh-Hant":""},language:"ms",flagEmoji:"",flagSvg:"1F1F2-1F1FE.svg"},{id:u.NL,name:{en:"Netherlands",ko:"","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1F3-1F1F1.svg",language:void 0},{id:u.NO,name:{en:"Norway",no:"Norge","zh-Hans":"","zh-Hant":""},language:"no",flagEmoji:"",flagSvg:"1F1F3-1F1F4.svg"},{id:u.PA,name:{en:"Panama","zh-Hans":"","zh-Hant":"",es:"Panam"},language:"es",flagEmoji:"",flagSvg:"1F1F5-1F1E6.svg"},{id:u.PE,name:{en:"Peru",es:"Per","zh-Hans":"","zh-Hant":""},language:"es",flagEmoji:"",flagSvg:"1F1F5-1F1EA.svg"},{id:u.PK,name:{en:"Pakistan",ur:"","zh-Hans":"","zh-Hant":""},language:"ur",flagEmoji:"",flagSvg:"1F1F5-1F1F0.svg"},{id:u.PL,name:{en:"Poland",pl:"Polska","zh-Hans":"","zh-Hant":""},language:"pl",flagEmoji:"",flagSvg:"1F1F5-1F1F1.svg"},{id:u.PT,name:{en:"Portugal",pt:"Portugal","zh-Hans":"","zh-Hant":""},language:"pt",flagEmoji:"",flagSvg:"1F1F5-1F1F9.svg"},{id:u.RO,name:{en:"Romania",ro:"Romnia","zh-Hans":"","zh-Hant":""},language:"ro",flagEmoji:"",flagSvg:"1F1F7-1F1F4.svg"},{id:u.RU,name:{en:"Russia",ru:"","zh-Hans":"","zh-Hant":""},language:"ru",flagEmoji:"",flagSvg:"1F1F7-1F1FA.svg"},{id:u.SA,name:{en:"Saudi Arabia",ar:"  ","zh-Hans":"","zh-Hant":""},language:"ar",flagEmoji:"",flagSvg:"1F1F8-1F1E6.svg"},{id:u.SE,name:{en:"Sweden",sv:"Sverige","zh-Hans":"","zh-Hant":""},language:"sv",flagEmoji:"",flagSvg:"1F1F8-1F1EA.svg"},{id:u.SG,name:{en:"Singapore",ms:"Singapura","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1F8-1F1EC.svg"},{id:u.TH,name:{en:"Thailand",th:"","zh-Hans":"","zh-Hant":""},language:"th",flagEmoji:"",flagSvg:"1F1F9-1F1ED.svg"},{id:u.TR,name:{en:"Turkey",tr:"Trkiye","zh-Hans":"","zh-Hant":""},language:"tr",flagEmoji:"",flagSvg:"1F1F9-1F1F7.svg"},{id:u.TW,name:{en:"Taiwan","zh-Hans":"","zh-Hant":""},language:"zh-Hant",flagEmoji:"",flagSvg:"1F1F9-1F1FC.svg"},{id:u.UA,name:{en:"Ukraine",uk:"","zh-Hans":"","zh-Hant":""},language:"uk",flagEmoji:"",flagSvg:"1F1FA-1F1E6.svg"},{id:u.UN,name:{en:"Customise","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1FA-1F1F3.svg",language:void 0},{id:u.US,name:{en:"United States","zh-Hans":"","zh-Hant":""},language:"en",flagEmoji:"",flagSvg:"1F1FA-1F1F8.svg"},{id:u.UZ,name:{en:"Uzbekistan",uz:"O'zbekiston","zh-Hans":"","zh-Hant":""},language:"uz",flagEmoji:"",flagSvg:"1F1FA-1F1FF.svg"},{id:u.VE,name:{en:"Venezuela","zh-Hans":"","zh-Hant":""},flagEmoji:"",flagSvg:"1F1FB-1F1EA.svg",language:void 0},{id:u.VN,name:{en:"Vietnam",vi:"Vit Nam","zh-Hans":"","zh-Hant":""},language:"vi",flagEmoji:"",flagSvg:"1F1FB-1F1F3.svg"}],Ng=e=>{const n=["linestart"],t=[["linestart"]];let a=0;for(;n.length;){let r=n.shift(),o=t[a].slice(-1)[0]||null;for(o&&r!=="linestart"?t[a].push(r):t[a]=[r];r!=="lineend";){o=r;const i=e[o].children;switch(i.length){case 1:r=i[0];break;case 2:{const s=e[o].branch.right[1];e[o].branch.right[0]==="through"?(t.push([r]),n.push(s)):a===0&&(t.push([o]),n.push(s)),r=i.filter(l=>l!==s)[0];break}}if(t[a].push(r),o===e[r].branch.left[1])break}a++}return t},Pg=e=>{const n=["linestart"],t=[["linestart"]];let a=0;for(;n.length;){let r=n.shift(),o=t[a].slice(-1)[0]||null;for(o&&r!=="linestart"?t[a].push(r):t[a]=[r];r!=="lineend";){o=r;const i=e[o].children;switch(i.length){case 1:r=i[0];break;case 2:{const s=e[o].branch.right[1];e[o].branch.right[0]==="through"?(t.push(t[a].slice()),n.push(s)):a===0&&(t.push([o]),n.push(s)),r=i.filter(l=>l!==s)[0];break}}if(t[a].push(r),o===e[r].branch.left[1]&&e[r].branch.left[0]==="nonthrough")break}a++}return t},jg=e=>e.length===1?e[0].slice(1,-1):e.reduce((n,t)=>{const a=n.indexOf(t[t.length-1]);return[...n.slice(0,a),...t.slice(1),...n.slice(a+1)]},["lineend"]).slice(0,-1),lr="SET_DEPS_STR",ur="SET_BRANCHES",cr="SET_ROUTES",hr="SET_TPO",Ag=e=>({type:lr,depsStr:e}),kg=e=>({type:ur,branches:e}),Lg=e=>({type:cr,routes:e}),Mg=e=>({type:hr,tpo:e}),Ig=()=>(e,n)=>{const t=n().param.stn_list,a=Object.entries(t).map(([r,o])=>r+o.parents.toString()+o.children.toString()+JSON.stringify(o.branch)).join("");return e(Ag(a)),a},Fg=()=>(e,n)=>{console.log("Re-calculating branches...");const t=n().param.stn_list,a=Ng(t);return e(kg(a)),a},Dg=()=>(e,n)=>{console.log("Re-calculating routes...");const t=n().param.stn_list;e(Lg(Pg(t)))},st=()=>(e,n)=>{const t=n().helper.depsStr,a=e(Ig());if(t!==a){e(Dg());const r=n().helper.branches,o=e(Fg());r.toString()!==o.toString()&&(console.log("Re-calculating topology ordering..."),e(Mg(jg(o))))}},gr="SET_FULL_PARAM",fr="SET_STYLE",dr="SET_SVG_HEIGHT",pr="SET_SVG_WIDTH",mr="SET_Y_PERCENTAGE",vr="SET_BRANCH_SPACING_PCT",yr="SET_PADDING_PERCENTAGE",br="SET_DIRECTION_INDICATOR_X",Sr="SET_DIRECTION_INDICATOR_Y",wr="SET_THEME",Or="SET_LINE_NAME",_r="SET_DIRECTION",xr="SET_PLATFORM",zr="SET_LINE_NUM",Hr="SET_PSD_NUM",Er="SET_PANEL_TYPE",Tr="SET_NOTES",Rr="SET_NAME_POSITION",Nr="SET_CUSTOMISED_MTR_DESTINATION",Pr="SET_LOOP",jr="SET_LOOP_INFO",Ar="SET_CURRENT_STATION",kr="SET_STATION",Lr="SET_STATIONS_BULK",Mr="SET_COLINE_BULK",Fd=e=>n=>{n({type:gr,fullParam:e}),n(st())},Dd=e=>({type:dr,svgHeight:e}),Bd=(e,n)=>({type:pr,svgWidth:e,canvas:n}),Cd=e=>({type:fr,style:e}),$d=e=>({type:mr,yPercentage:e}),Ud=e=>({type:vr,branchSpacingPct:e}),Gd=e=>({type:yr,paddingPercentage:e}),Vd=e=>({type:br,directionIndicatorX:e}),Wd=e=>({type:Sr,directionIndicatorY:e}),Kd=e=>({type:wr,theme:e}),Yd=e=>({type:Or,lineName:e}),Jd=e=>({type:_r,direction:e}),qd=e=>({type:xr,platform:e}),Xd=e=>({type:zr,lineNum:e}),Zd=e=>({type:Hr,psdNum:e}),Qd=e=>({type:Er,panelType:e}),lt=e=>({type:Tr,notes:e}),ep=()=>(e,n)=>{const t=n().param.notesGZMTR;e(lt(t.concat([["","",10,10,!1]])))},np=(e,n)=>(t,a)=>{const r=a().param.notesGZMTR;t(lt(r.map((o,i)=>i===e?n:o)))},tp=e=>(n,t)=>{const a=t().param.notesGZMTR;n(lt(a.filter((r,o)=>o!==e)))},Ir=e=>({type:Rr,namePosition:e}),ap=e=>(n,t)=>{const a=t().param.namePosMTR;n(Ir({...a,isStagger:e}))},rp=()=>(e,n)=>{const t=n().param.namePosMTR;e(Ir({...t,isFlip:!t.isFlip}))},Fr=e=>({type:Nr,customisedMtrDestination:e}),op=e=>n=>{n(gn({bank:!0,left_and_right_factor:0,bottom_factor:1})),n({type:Pr,loop:e})},gn=e=>({type:jr,loop_info:e}),ip=e=>(n,t)=>{const a=t().param.loop_info;n(gn({...a,bank:e}))},sp=e=>(n,t)=>{const a=t().param.loop_info;n(gn({...a,left_and_right_factor:e}))},lp=e=>(n,t)=>{const a=t().param.loop_info;n(gn({...a,bottom_factor:e}))},up=e=>(n,t)=>{const a=t().param.customiseMTRDest;n(Fr({...a,isLegacy:e}))},cp=e=>(n,t)=>{const a=t().param.customiseMTRDest;n(Fr({...a,terminal:e}))},hp=e=>n=>{n({type:Ar,currentStation:e})},F=(e,n)=>t=>{t({type:kr,stationId:e,station:n}),t(st())},Ie=e=>n=>{n({type:Lr,stations:e}),n(st())},gp=e=>({type:Mr,coline:e}),fp=(e=!1)=>(n,t)=>{const{stn_list:a}=t().param,r=Object.keys(a).reduce((o,i)=>({...o,[i]:(s=>{switch(s){case"linestart":return{...a.lineend,parents:[],children:e?a.lineend.parents:a.lineend.parents.slice().reverse(),branch:{left:[],right:a.lineend.branch.left}};case"lineend":return{...a.linestart,parents:e?a.linestart.children:a.linestart.children.slice().reverse(),children:[],branch:{left:a.linestart.branch.right,right:[]}};default:{const l=a[s].children.map(h=>h==="linestart"?"lineend":h==="lineend"?"linestart":h),f=a[s].parents.map(h=>h==="linestart"?"lineend":h==="lineend"?"linestart":h);return{...a[s],parents:e?l:l.reverse(),children:e?f:f.reverse(),branch:{left:a[s].branch.right,right:a[s].branch.left}}}}})(i)}),{});n(Ie(r))},dp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,name:n}))},pp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,secondaryName:n}))},mp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,num:n}))},vp=(e,n,t)=>(a,r)=>{var s;const o=r().param.stn_list[e],i=o.transfer.groups.map(l=>({...l}));if(i.length>n)i[n]={...i[n],lines:i[n].lines.concat(t)};else{for(let l=i.length;l<n;l++)i[l]={lines:[]};i[n]={lines:[t]}}a(F(e,{...o,transfer:{...o.transfer,groups:[i[0],...(s=i.slice(1))!=null?s:[]]}}))},yp=(e,n,t)=>(a,r)=>{var i;const o=r().param.stn_list[e];if(o.transfer.groups.length>n&&o.transfer.groups[n].lines.length>t){const s=o.transfer.groups.map((l,f)=>f===n?{...l,lines:l.lines.filter((h,g)=>g!==t)}:l);a(F(e,{...o,transfer:{...o.transfer,groups:[s[0],...(i=s.slice(1))!=null?i:[]]}}))}},bp=(e,n,t,a)=>(r,o)=>{var s;const i=o().param.stn_list[e];if(i.transfer.groups.length>n&&i.transfer.groups[n].lines.length>t){const l=i.transfer.groups.map((f,h)=>h===n?{...f,lines:f.lines.map((g,p)=>p===t?a:g)}:f);r(F(e,{...i,transfer:{...i.transfer,groups:[l[0],...(s=l.slice(1))!=null?s:[]]}}))}},Sp=(e,n,t)=>(a,r)=>{var s;const o=r().param.stn_list[e],i=o.transfer.groups.map(l=>({...l}));i.length>n&&(i[n]={...i[n],name:t},a(F(e,{...o,transfer:{...o.transfer,groups:[i[0],...(s=i.slice(1))!=null?s:[]]}})))},wp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,transfer:{...r.transfer,tick_direc:n}}))},Op=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,transfer:{...r.transfer,paid_area:n}}))},_p=(e,n,t)=>(a,r)=>{const o=r().param.stn_list[e];a(F(e,{...o,branch:{...o.branch,[n]:[t,o.branch[n][1]]}}))},xp=(e,n,t)=>(a,r)=>{var s,l,f;const o=r().helper.branches,i={stnId:e,direction:n,first:t};if(n===Le.left){const h=(s=o.slice(1).find(g=>g.slice(-1)[0]===e))==null?void 0:s[0];if(h){const g=o[0][o[0].indexOf(h)+1];a(ua([i,{stnId:h,direction:Le.right,first:g}]))}}else{const h=(f=(l=o.slice(1).find(g=>g[0]===e))==null?void 0:l.slice(-1))==null?void 0:f[0];if(h){const g=o[0][o[0].indexOf(h)-1];a(ua([i,{stnId:h,direction:Le.left,first:g}]))}}},ua=e=>(n,t)=>{const{stn_list:a}=t().param;n(Ie({...a,[e[0].stnId]:{...a[e[0].stnId],branch:{...a[e[0].stnId].branch,[e[0].direction]:[a[e[0].stnId].branch[e[0].direction][0],e[0].first]}},[e[1].stnId]:{...a[e[1].stnId],branch:{...a[e[1].stnId].branch,[e[1].direction]:[a[e[1].stnId].branch[e[1].direction][0],e[1].first]}}}))},zp=(e,n)=>(t,a)=>{var o,i,s;const r=a().helper.branches;if(n===Le.left){const l=(o=r.slice(1).find(f=>f.slice(-1)[0]===e))==null?void 0:o[0];l&&t(ca(e,l))}else{const l=(s=(i=r.slice(1).find(f=>f[0]===e))==null?void 0:i.slice(-1))==null?void 0:s[0];l&&t(ca(l,e))}},ca=(e,n)=>(t,a)=>{const{stn_list:r}=a().param;t(Ie({...r,[e]:{...r[e],parents:r[e].parents.slice().reverse()},[n]:{...r[n],children:r[n].children.slice().reverse()}}))},Hp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,facility:n}))},Ep=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,services:n}))},Tp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,loop_pivot:n}))},Rp=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,one_line:n}))},Np=(e,n)=>(t,a)=>{const r=a().param.stn_list[e];t(F(e,{...r,int_padding:n}))},Pp=e=>(n,t)=>{const r=t().param.stn_list[e].int_padding,o=JSON.parse(JSON.stringify(t().param.stn_list));Object.values(o).forEach(i=>{i.int_padding=r}),n(Ie(o))},jp=(e,n,t=2,a="asc")=>(r,o)=>{var f;const i=o().param.stn_list,l=(f=o().helper.branches[e])==null?void 0:f.slice(1,-1);if(l){const h=l.reduce((g,p,m)=>({...g,[p]:{...i[p],num:(n+m*(a==="desc"?-1:1)).toString().padStart(t,"0")}}),i);r(Ie(h))}},Bg={svgWidth:{destination:100,runin:100,railmap:100,indoor:100},svg_height:100,style:it.MTR,y_pc:50,padding:10,branchSpacingPct:10,direction:rr.left,platform_num:"1",theme:[d.Hongkong,"twl","#E2231A",Kn.white],line_name:["","line"],current_stn_idx:"",stn_list:{},namePosMTR:{isStagger:!0,isFlip:!0},customiseMTRDest:{isLegacy:!1,terminal:!1},line_num:"1",psd_num:"1",info_panel_type:or.gz1,notesGZMTR:[],direction_gz_x:0,direction_gz_y:0,coline:{},loop:!1,loop_info:{bank:!0,left_and_right_factor:1,bottom_factor:1}};function Cg(e=Bg,n){switch(n.type){case gr:return n.fullParam;case fr:return{...e,style:n.style};case dr:return{...e,svg_height:n.svgHeight};case pr:return{...e,svgWidth:{...e.svgWidth,[n.canvas]:n.svgWidth}};case mr:return{...e,y_pc:n.yPercentage};case vr:return{...e,branchSpacingPct:n.branchSpacingPct};case yr:return{...e,padding:n.paddingPercentage};case br:return{...e,direction_gz_x:n.directionIndicatorX};case Sr:return{...e,direction_gz_y:n.directionIndicatorY};case wr:return{...e,theme:n.theme};case Or:return{...e,line_name:n.lineName};case _r:return{...e,direction:n.direction};case xr:return{...e,platform_num:n.platform};case zr:return{...e,line_num:n.lineNum};case Hr:return{...e,psd_num:n.psdNum};case Er:return{...e,info_panel_type:n.panelType};case Tr:return{...e,notesGZMTR:n.notes};case Rr:return{...e,namePosMTR:n.namePosition};case Nr:return{...e,customiseMTRDest:n.customisedMtrDestination};case Ar:return{...e,current_stn_idx:n.currentStation};case kr:return{...e,stn_list:{...e.stn_list,[n.stationId]:n.station}};case Lr:return{...e,stn_list:n.stations};case Mr:return{...e,coline:n.coline};case Pr:return{...e,loop:n.loop};case jr:return{...e,loop_info:n.loop_info};default:return e}}const $g={depsStr:"",branches:[],routes:[],tpo:[]};function Ug(e=$g,n){switch(n.type){case lr:return{...e,depsStr:n.depsStr};case ur:return{...e,branches:n.branches};case cr:return{...e,routes:n.routes};case hr:return{...e,tpo:n.tpo};default:return e}}var Dr={exports:{}},Br={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze=O;function Gg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Vg=typeof Object.is=="function"?Object.is:Gg,Wg=ze.useState,Kg=ze.useEffect,Yg=ze.useLayoutEffect,Jg=ze.useDebugValue;function qg(e,n){var t=n(),a=Wg({inst:{value:t,getSnapshot:n}}),r=a[0].inst,o=a[1];return Yg(function(){r.value=t,r.getSnapshot=n,kn(r)&&o({inst:r})},[e,t,n]),Kg(function(){return kn(r)&&o({inst:r}),e(function(){kn(r)&&o({inst:r})})},[e]),Jg(t),t}function kn(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Vg(e,t)}catch(a){return!0}}function Xg(e,n){return n()}var Zg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Xg:qg;Br.useSyncExternalStore=ze.useSyncExternalStore!==void 0?ze.useSyncExternalStore:Zg;Dr.exports=Br;var Qg=Dr.exports,Cr={exports:{}},$r={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fn=O,ef=Qg;function nf(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var tf=typeof Object.is=="function"?Object.is:nf,af=ef.useSyncExternalStore,rf=fn.useRef,of=fn.useEffect,sf=fn.useMemo,lf=fn.useDebugValue;$r.useSyncExternalStoreWithSelector=function(e,n,t,a,r){var o=rf(null);if(o.current===null){var i={hasValue:!1,value:null};o.current=i}else i=o.current;o=sf(function(){function l(m){if(!f){if(f=!0,h=m,m=a(m),r!==void 0&&i.hasValue){var y=i.value;if(r(y,m))return g=y}return g=m}if(y=g,tf(h,m))return y;var w=a(m);return r!==void 0&&r(y,w)?y:(h=m,g=w)}var f=!1,h,g,p=t===void 0?null:t;return[function(){return l(n())},p===null?void 0:function(){return l(p())}]},[n,t,a,r]);var s=af(e,o[0],o[1]);return of(function(){i.hasValue=!0,i.value=s},[s]),lf(s),s};Cr.exports=$r;var uf=Cr.exports;function cf(e){e()}let Ur=cf;const hf=e=>Ur=e,gf=()=>Ur,fe=O.createContext(null);function Gr(){return O.useContext(fe)}const ff=()=>{throw new Error("uSES not initialized!")};let Vr=ff;const df=e=>{Vr=e},pf=(e,n)=>e===n;function mf(e=fe){const n=e===fe?Gr:()=>O.useContext(e);return function(a,r=pf){const{store:o,subscription:i,getServerState:s}=n(),l=Vr(i.addNestedSub,o.getState,s||o.getState,a,r);return O.useDebugValue(l),l}}const vf=mf();var z={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=Symbol.for("react.element"),ct=Symbol.for("react.portal"),dn=Symbol.for("react.fragment"),pn=Symbol.for("react.strict_mode"),mn=Symbol.for("react.profiler"),vn=Symbol.for("react.provider"),yn=Symbol.for("react.context"),yf=Symbol.for("react.server_context"),bn=Symbol.for("react.forward_ref"),Sn=Symbol.for("react.suspense"),wn=Symbol.for("react.suspense_list"),On=Symbol.for("react.memo"),_n=Symbol.for("react.lazy"),bf=Symbol.for("react.offscreen"),Wr;Wr=Symbol.for("react.module.reference");function W(e){if(typeof e=="object"&&e!==null){var n=e.$$typeof;switch(n){case ut:switch(e=e.type,e){case dn:case mn:case pn:case Sn:case wn:return e;default:switch(e=e&&e.$$typeof,e){case yf:case yn:case bn:case _n:case On:case vn:return e;default:return n}}case ct:return n}}}z.ContextConsumer=yn;z.ContextProvider=vn;z.Element=ut;z.ForwardRef=bn;z.Fragment=dn;z.Lazy=_n;z.Memo=On;z.Portal=ct;z.Profiler=mn;z.StrictMode=pn;z.Suspense=Sn;z.SuspenseList=wn;z.isAsyncMode=function(){return!1};z.isConcurrentMode=function(){return!1};z.isContextConsumer=function(e){return W(e)===yn};z.isContextProvider=function(e){return W(e)===vn};z.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ut};z.isForwardRef=function(e){return W(e)===bn};z.isFragment=function(e){return W(e)===dn};z.isLazy=function(e){return W(e)===_n};z.isMemo=function(e){return W(e)===On};z.isPortal=function(e){return W(e)===ct};z.isProfiler=function(e){return W(e)===mn};z.isStrictMode=function(e){return W(e)===pn};z.isSuspense=function(e){return W(e)===Sn};z.isSuspenseList=function(e){return W(e)===wn};z.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===dn||e===mn||e===pn||e===Sn||e===wn||e===bf||typeof e=="object"&&e!==null&&(e.$$typeof===_n||e.$$typeof===On||e.$$typeof===vn||e.$$typeof===yn||e.$$typeof===bn||e.$$typeof===Wr||e.getModuleId!==void 0)};z.typeOf=W;function Sf(){const e=gf();let n=null,t=null;return{clear(){n=null,t=null},notify(){e(()=>{let a=n;for(;a;)a.callback(),a=a.next})},get(){let a=[],r=n;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0,o=t={callback:a,next:null,prev:t};return o.prev?o.prev.next=o:n=o,function(){!r||n===null||(r=!1,o.next?o.next.prev=o.prev:t=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}const ha={notify(){},get:()=>[]};function wf(e,n){let t,a=ha;function r(g){return l(),a.subscribe(g)}function o(){a.notify()}function i(){h.onStateChange&&h.onStateChange()}function s(){return!!t}function l(){t||(t=n?n.addNestedSub(i):e.subscribe(i),a=Sf())}function f(){t&&(t(),t=void 0,a.clear(),a=ha)}const h={addNestedSub:r,notifyNestedSubs:o,handleChangeWrapper:i,isSubscribed:s,trySubscribe:l,tryUnsubscribe:f,getListeners:()=>a};return h}const Of=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_f=Of?O.useLayoutEffect:O.useEffect;function xf({store:e,context:n,children:t,serverState:a}){const r=O.useMemo(()=>{const s=wf(e);return{store:e,subscription:s,getServerState:a?()=>a:void 0}},[e,a]),o=O.useMemo(()=>e.getState(),[e]);_f(()=>{const{subscription:s}=r;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==e.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[r,o]);const i=n||fe;return Ea.createElement(i.Provider,{value:r},t)}function Kr(e=fe){const n=e===fe?Gr:()=>O.useContext(e);return function(){const{store:a}=n();return a}}const zf=Kr();function Hf(e=fe){const n=e===fe?zf:Kr(e);return function(){return n().dispatch}}const Ef=Hf();df(uf.useSyncExternalStoreWithSelector);hf(Ha.unstable_batchedUpdates);const Tf=Co({app:Rg,param:Cg,helper:Ug}),Yr=$o(),ht=Uo({reducer:Tf,middleware:e=>e().prepend(Yr.middleware)}),Ap=()=>Ef(),kp=vf,Ln=Yr.startListening;window.rmgStore=ht;let gt=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((n,t)=>(t&=63,t<36?n+=t.toString(36):t<62?n+=(t-26).toString(36).toUpperCase():t>62?n+="-":n+="_",n),"");const Rf=()=>{const e=[];return Jr(n=>n.startsWith(T.PARAM_CONFIG_BY_ID),(n,t)=>{const a=n.slice(T.PARAM_CONFIG_BY_ID.length);if(t)try{const r=JSON.parse(t);e.push({...r,id:a})}catch(r){e.push({id:a})}else e.push({id:a})}),console.log("loadParamRegistry():: Found param config in localStorage",e.map(n=>n.id)),e},Nf=()=>{let e=window.localStorage.getItem(T.PARAM);if(e===null&&(e=window.localStorage.getItem("rmgParam"),window.localStorage.removeItem("rmgParam"),window.localStorage.removeItem("rmgParamRedux")),e!==null){const n=gt();console.log("upgradeLegacyParam():: Found legacy param. Assigning ID:",n),window.localStorage.setItem(T.PARAM_BY_ID+n,e),window.localStorage.removeItem(T.PARAM)}},Lp=()=>{const e=Rf(),n=[];return Jr(t=>t.startsWith(T.PARAM_BY_ID),t=>{const a=t.slice(T.PARAM_BY_ID.length),r=e.find(o=>o.id===a);r?n.push(r):n.push({id:a})}),console.log("getParamRegistry():: Actual param found in localStorage",n.map(t=>t.id)),e.filter(t=>n.every(a=>a.id!==t.id)).forEach(t=>window.localStorage.removeItem(T.PARAM_CONFIG_BY_ID+t.id)),n},Jr=(e,n)=>{let t=0;for(;t<window.localStorage.length;){const a=window.localStorage.key(t);a!==null&&e(a)&&n(a,window.localStorage.getItem(a)),t++}},Mp=(e,n)=>{const t=gt();return window.localStorage.setItem(T.PARAM_BY_ID+t,e),window.localStorage.setItem(T.PARAM_CONFIG_BY_ID+t,JSON.stringify({name:n,lastModified:Date.now()})),t},Ip=async e=>{const n=e.split("/").at(-1);try{const t=await fetch(e);if(t.ok){const a=await t.text(),r=gt();return window.localStorage.setItem(T.PARAM_BY_ID+r,a),window.localStorage.setItem(T.PARAM_CONFIG_BY_ID+r,JSON.stringify({name:n,lastModified:Date.now()})),r}else return console.warn("Failed to download param"),null}catch(t){return console.warn("Failed to download param.",t),null}},Pf=e=>{try{let n=window.localStorage.getItem(T.CANVAS_SCALE);if(n==null){const a=window.localStorage.getItem("rmgScale");a!=null&&(n=a,console.log("Migrating canvas scale from old key..."),window.localStorage.setItem(T.CANVAS_SCALE,n),window.localStorage.removeItem("rmgScale"))}const t=Number(n);t>=.1&&e.dispatch(sa(t))}catch(n){console.warn("Error in reading canvas scale. Initiating as 1...",n),e.dispatch(sa(1))}},jf=e=>{try{let n=window.localStorage.getItem(T.CANVAS_TO_SHOW);if(n==null){const t=window.localStorage.getItem("rmgCanvas");t!=null&&(n=t,console.log("Migrating canvas to show from old key..."),window.localStorage.setItem(T.CANVAS_TO_SHOW,n),window.localStorage.removeItem("rmgCanvas"))}if(n!==null){if(Object.values(hn).includes(n)){e.dispatch(la([n]));return}const t=JSON.parse(n);if(Array.isArray(t)){e.dispatch(la(t));return}}}catch(n){console.warn("Error in reading canvas to show. Initiating as all...",n)}},Af=e=>{Nf(),Pf(e),jf(e),Ln({predicate:(n,t,a)=>t.app.canvasScale.toString()!==a.app.canvasScale.toString(),effect:(n,t)=>{window.localStorage.setItem(T.CANVAS_SCALE,t.getState().app.canvasScale.toString())}}),Ln({predicate:(n,t,a)=>t.app.canvasToShow.toString()!==a.app.canvasToShow.toString(),effect:(n,t)=>{window.localStorage.setItem(T.CANVAS_TO_SHOW,JSON.stringify(t.getState().app.canvasToShow))}}),Ln({predicate:(n,t,a)=>JSON.stringify(t.param)!==JSON.stringify(a.param),effect:kf})},kf=(e,n)=>{var r;const{id:t,...a}=(r=n.getState().app.paramConfig)!=null?r:{};if(t){const o=window.localStorage.getItem(T.PARAM_BY_ID+t),i=JSON.stringify(n.getState().param);if(o!==i){console.log("ListenerMiddleware:: Writing param and paramConfig to localStorage, ID="+t),window.localStorage.setItem(T.PARAM_BY_ID+t,i);const s=Date.now();n.dispatch(Tg(s)),window.localStorage.setItem(T.PARAM_CONFIG_BY_ID+t,JSON.stringify({...a,lastModified:s}))}else console.log("ListenerMiddleware:: Do not write to localStorage as no changes in param, ID="+t)}};wg();document.head.append(...["share",...Object.values(hn)].map(e=>{const n=document.createElement("link");return n.rel="stylesheet",n.id="css_"+e,n}));let ga;const Lf=()=>{ga=Ga(document.getElementById("root")),ga.render(c.jsx(O.StrictMode,{children:c.jsx(xf,{store:ht,children:c.jsx(_s,{i18n:Ja,children:c.jsx(Sg,{})})})}))};R.ready().then(()=>{Af(ht),Lf(),R.injectUITools(),R.event(ir.APP_LOAD,{isStandaloneWindow:R.isStandaloneWindow})}).catch(e=>{const n=document.querySelector("#root");n&&(n.innerHTML=`<div>
                Failed to load Rail Map Generator!
                <br />
                ${e.toString()}
                <br />
                Please contact us in 
                <a href="https://github.com/railmapgen/rmg" target="_blank" rel="noreferrer">GitHub</a>.
            </div>`)});export{yd as $,yp as A,bp as B,d as C,_g as D,ir as E,xd as F,Ep as G,Hp as H,Tp as I,Rp as J,Np as K,Pp as L,Kn as M,Og as N,Le as O,_p as P,xp as Q,ta as R,rr as S,zp as T,Zf as U,Ef as V,_d as W,Bd as X,Dd as Y,$d as Z,qa as _,Mf as __vite_legacy_guard,ea as a,Df as a$,vd as a0,Ud as a1,ud as a2,Gd as a3,Vd as a4,bd as a5,Sd as a6,Wd as a7,or as a8,xg as a9,hp as aA,Pd as aB,jp as aC,tr as aD,Lh as aE,pd as aF,ed as aG,fp as aH,qf as aI,Xf as aJ,kd as aK,Ld as aL,wd as aM,hd as aN,md as aO,zd as aP,Jf as aQ,la as aR,sa as aS,id as aT,od as aU,Kf as aV,Cd as aW,Rd as aX,jd as aY,T as aZ,Wf as a_,Yd as aa,Xd as ab,qd as ac,Zd as ad,Qd as ae,Jd as af,rd as ag,rp as ah,ap as ai,up as aj,cp as ak,Kd as al,op as am,ip as an,sp as ao,lp as ap,np as aq,tp as ar,ep as as,Ie as at,gp as au,gt as av,Hd as aw,ar as ax,Ed as ay,Qf as az,Ya as b,Gf as b0,Ad as b1,cd as b2,gd as b3,td as b4,Mp as b5,Lp as b6,Fd as b7,Ip as b8,ad as b9,Od as ba,dd as bb,Nd as bc,Bf as bd,hn as be,Hg as bf,zg as bg,Ap as c,mp as d,it as e,dp as f,pp as g,Vf as h,Md as i,Cf as j,Id as k,Yf as l,M as m,fd as n,Uf as o,sd as p,jh as q,R as r,ld as s,nd as t,kp as u,$f as v,wp as w,Sp as x,Op as y,vp as z};
